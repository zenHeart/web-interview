"use strict";(self.webpackChunkweb_interview=self.webpackChunkweb_interview||[]).push([["6780"],{3800:function(n,e,s){s.r(e),s.d(e,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>o,toc:()=>d,contentTitle:()=>c});var r=JSON.parse('{"id":"html/coding","title":"\u7F16\u7A0B\u9898","description":"\u53D6\u51FA\u4E00\u4E2A html \u6811\uFF0C\u5E76\u8FD4\u56DE\u6807\u7B7E\u7C7B\u578B\u548C\u5404\u6807\u7B7E\u51FA\u73B0\u6B21\u6570\uFF1F \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","source":"@site/docs/02.html/coding.md","sourceDirName":"02.html","slug":"/html/coding","permalink":"/web-interview/docs/html/coding","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u6D4F\u89C8\u5668\u539F\u7406","permalink":"/web-interview/docs/html/browser"},"next":{"title":"web worker","permalink":"/web-interview/docs/html/worker"}}'),l=s("6773"),t=s("715");let i={},c="\u7F16\u7A0B\u9898",o={},d=[{value:"\u53D6\u51FA\u4E00\u4E2A html \u6811\uFF0C\u5E76\u8FD4\u56DE\u6807\u7B7E\u7C7B\u578B\u548C\u5404\u6807\u7B7E\u51FA\u73B0\u6B21\u6570\uFF1F \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F",id:"\u53D6\u51FA\u4E00\u4E2A-html-\u6811\u5E76\u8FD4\u56DE\u6807\u7B7E\u7C7B\u578B\u548C\u5404\u6807\u7B7E\u51FA\u73B0\u6B21\u6570-\uFE0F\uFE0F\uFE0F",level:2},{value:"\u62D6\u62FD\u7EC4\u4EF6\u8BBE\u8BA1 ?",id:"p1-drag-component-design",level:2},{value:"\u957F\u5217\u8868\u6E32\u67D3\u89E3\u51B3\u65B9\u6848?",id:"p0-long-list-rendering",level:2},{value:"\u5199\u4E00\u4E2A\u5E7B\u706F\u7247\u6548\u679C",id:"p0-slide-effect",level:2},{value:"\u5B9E\u73B0\u4E24\u4E2A\u53EF\u4EE5\u62D6\u66F3\u7684\u8282\u70B9\u8FDE\u7EBF",id:"\u5B9E\u73B0\u4E24\u4E2A\u53EF\u4EE5\u62D6\u66F3\u7684\u8282\u70B9\u8FDE\u7EBF",level:2},{value:"\u5B9E\u73B0\u6587\u672C\u6EA2\u51FA popover \u6548\u679C",id:"p0-text-overflow-popover",level:2},{value:"\u524D\u7AEF\u5982\u4F55\u5FEB\u901F\u83B7\u53D6\u9875\u9762 url query \u53C2\u6570",id:"p0-get-url-query-params",level:2},{value:"\u4E3B\u9898\u5207\u6362",id:"p0-multi-theme-color",level:2},{value:"\u67E5\u627E\u9875\u9762\u51FA\u73B0\u6B21\u6570\u6700\u591A\u7684 HTML \u6807\u7B7E",id:"p0-find-most-frequent-html-tag",level:2},{value:"\u5B9E\u73B0\u4E00\u4E2A\u7F13\u5B58\u51FD\u6570",id:"p0-cache-function",level:2},{value:"\u5927\u6587\u4EF6\u4E0A\u4F20",id:"p0-large-file-upload",level:2},{value:"\u524D\u7AEF\u9700\u8981\u52A0\u8F7D\u4E00\u4E2A\u5927\u4F53\u79EF\u7684\u6587\u4EF6\u65F6\uFF0C \u4E00\u822C\u6709\u54EA\u4E9B\u4F18\u5316\u601D\u8DEF",id:"p1-large-file-optimization",level:2},{value:"\u8BA1\u7B97\u4E00\u6BB5\u6587\u672C\u6E32\u67D3\u4E4B\u540E\u7684\u957F\u5EA6",id:"p2-calculate-the-length-of-a-piece-of-text-after-rendering",level:2},{value:"\u957F\u6587\u672C\u573A\u666F\uFF0C\u4E2D\u95F4\u663E\u793A\u7701\u7565\u53F7..., \u4E24\u7AEF\u6B63\u5E38\u5C55\u793A",id:"p3-long-text-scene-middle-display-ellipsis-in-two-directions-normal-display",level:2},{value:"\u8981\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\uFF0C\u8BE5\u5982\u4F55\u505A",id:"\u8981\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\u8BE5\u5982\u4F55\u505A",level:2},{value:"\u5982\u4F55\u5B9E\u73B0\u9F20\u6807\u62D6\u62FD",id:"p2-mouse-drag",level:2},{value:"\u957F\u6587\u672C\u6EA2\u51FA\uFF0C\u5C55\u5F00/\u6536\u8D77\u5982\u4F55\u5B9E\u73B0",id:"p2-long-text-overflow",level:2},{value:"\u5728\u9875\u9762\u5173\u95ED\u65F6\u6267\u884C\u65B9\u6CD5\uFF0C\u8BE5\u5982\u4F55\u505A {#p3-page-close-exe",id:"\u5728\u9875\u9762\u5173\u95ED\u65F6\u6267\u884C\u65B9\u6CD5\u8BE5\u5982\u4F55\u505A-p3-page-close-exe",level:2},{value:"\u5927\u6587\u4EF6\u5207\u7247\u4E0A\u4F20\u7684\u65F6\u5019\uFF0C\u786E\u5B9A\u5207\u7247\u6570\u91CF\u7684\u65F6\u5019\uFF0C\u6709\u90A3\u4E9B\u8003\u91CF\u56E0\u7D20",id:"p2-big-file-slice-upload",level:2},{value:"\u79FB\u52A8\u7AEF\u5982\u4F55\u5B9E\u73B0\u4E0B\u62C9\u6EDA\u52A8\u52A0\u8F7D\uFF08\u9876\u90E8\u52A0\u8F7D\uFF09",id:"p1-scroll-loading",level:2},{value:"\uFF08\u7535\u68AF\u5BFC\u822A\uFF09\u8BE5\u5982\u4F55\u5B9E\u73B0",id:"p0-elevator-nav",level:2},{value:"\u5982\u4F55\u5728\u5212\u8BCD\u9009\u62E9\u7684\u6587\u672C\u4E0A\u6DFB\u52A0\u53F3\u952E\u83DC\u5355\uFF08\u5212\u8BCD\uFF1A\u9F20\u6807\u6ED1\u52A8\u9009\u62E9\u4E00\u7EC4\u5B57\u7B26\uFF0C \u5BF9\u7EC4\u5B57\u7B26\u8FDB\u884C\u64CD\u4F5C\uFF09",id:"p2-huaci",level:2},{value:"\u5BCC\u6587\u672C\u91CC\u9762\uFF0C \u662F\u5982\u4F55\u505A\u5230\u5212\u8BCD\u7684\uFF08\u9F20\u6807\u6ED1\u52A8\u9009\u62E9\u4E00\u7EC4\u5B57\u7B26\uFF0C \u5BF9\u7EC4\u5B57\u7B26\u8FDB\u884C\u64CD\u4F5C\uFF09",id:"p3-richtext-huaci",level:2},{value:"\u626B\u7801\u767B\u5F55\uFF1F",id:"p0-scan",level:2},{value:"\u4E0D\u540C\u6807\u7B7E\u9875\u6216\u7A97\u53E3\u95F4\u7684 \u3010\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\u673A\u5236\u3011 \u7684\u65B9\u5F0F\u6709\u54EA\u4E9B\uFF1F",id:"\u4E0D\u540C\u6807\u7B7E\u9875\u6216\u7A97\u53E3\u95F4\u7684-\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\u673A\u5236-\u7684\u65B9\u5F0F\u6709\u54EA\u4E9B",level:2},{value:"\u865A\u62DF\u5217\u8868",id:"p0-virtual-list",level:2},{value:"\u4E00\u6B21\u6027\u6E32\u67D3\u5341\u4E07\u6761\u6570\u636E\u8FD8\u80FD\u4FDD\u8BC1\u9875\u9762\u4E0D\u5361\u987F",id:"p1-virtuallist",level:2},{value:"\u4E0B\u8F7D\u8FDB\u5EA6",id:"\u4E0B\u8F7D\u8FDB\u5EA6",level:2},{value:"\u624B\u5199\u521B\u5EFA\u4E00\u4E2A ajax \u8BF7\u6C42",id:"p0-ajax",level:2},{value:"\u5982\u4F55\u68C0\u6D4B\u7F51\u9875\u7A7A\u95F2\u72B6\u6001(\u4E00\u5B9A\u65F6\u95F4\u5185\u65E0\u64CD\u4F5C)",id:"p2-web-idle",level:2},{value:"\u624B\u5199 dom \u5206\u6BB5\u6E32\u67D3",id:"p0-domer-render",level:2},{value:"\u4E0D\u4F7F\u7528 setTimeout \u6765\u5B9E\u73B0 setInterval",id:"p1-settimeout-setinterval",level:2},{value:"\u5982\u4F55\u62E6\u622A web \u5E94\u7528\u7684\u8BF7\u6C42",id:"p0-interceptor",level:2},{value:"web \u7F51\u9875\u5982\u4F55\u7981\u6B62\u522B\u4EBA\u79FB\u9664\u6C34\u5370",id:"p0-remove-water-pring",level:2},{value:"\u5982\u4F55\u5B9E\u73B0\u5927\u6587\u4EF6\u65AD\u70B9\u7EED\u4F20",id:"p0-break-point-upload",level:2},{value:"\u5982\u4F55\u901A\u8FC7\u8BBE\u7F6E\u5931\u6548\u65F6\u95F4\u6E05\u9664\u672C\u5730\u5B58\u50A8\u7684\u6570\u636E\uFF1F",id:"p0-store-expired",level:2},{value:"\u5982\u4F55\u5224\u65ADdom\u5143\u7D20\u662F\u5426\u5728\u53EF\u89C6\u533A\u57DF",id:"p0-element-visible",level:2},{value:"\u79FB\u52A8\u7AEF\u5982\u4F55\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\uFF0C\u4E0B\u62C9\u5237\u65B0\uFF1F",id:"p0-mobile-scroll",level:2},{value:"\u4F7F\u7528 ajax \u5C01\u88C5\u4E00\u4E2A\u4E0A\u4F20\u6587\u4EF6\u7684\u51FD\u6570",id:"p0-upload-file",level:2},{value:"ajax \u53D6\u6D88\u8BF7\u6C42",id:"p0-cancel",level:2},{value:"\uFF08Ant Design\uFF09\u7684 Tooltip \u7EC4\u4EF6\u662F\u5982\u4F55\u5B9E\u73B0\u7684",id:"p0-tooltip",level:2},{value:"\u5982\u4F55\u4F18\u5316\u5927\u89C4\u6A21 dom \u64CD\u4F5C\u7684\u573A\u666F",id:"p0-batch-dom-operation",level:2},{value:"\u5982\u4F55\u5B9E\u73B0\u7F51\u9875\u52A0\u8F7D\u8FDB\u5EA6\u6761\uFF1F",id:"p1-loading",level:2},{value:"\u524D\u7AEF\u5982\u4F55\u5B9E\u73B0\u622A\u56FE\uFF1F",id:"p0-screenshot",level:2},{value:"\u6587\u4EF6\u4E0A\u4F20\u548C\u4E0A\u4F20\u6587\u4EF6\u89E3\u6790\u7684\u539F\u7406\u662F\u5565\uFF1F",id:"\u6587\u4EF6\u4E0A\u4F20\u548C\u4E0A\u4F20\u6587\u4EF6\u89E3\u6790\u7684\u539F\u7406\u662F\u5565",level:2}];function a(n){let e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"\u7F16\u7A0B\u9898",children:"\u7F16\u7A0B\u9898"})}),"\n",(0,l.jsx)(e.h2,{id:"\u53D6\u51FA\u4E00\u4E2A-html-\u6811\u5E76\u8FD4\u56DE\u6807\u7B7E\u7C7B\u578B\u548C\u5404\u6807\u7B7E\u51FA\u73B0\u6B21\u6570-\uFE0F\uFE0F\uFE0F",children:"\u53D6\u51FA\u4E00\u4E2A html \u6811\uFF0C\u5E76\u8FD4\u56DE\u6807\u7B7E\u7C7B\u578B\u548C\u5404\u6807\u7B7E\u51FA\u73B0\u6B21\u6570\uFF1F \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"}),"\n",(0,l.jsx)(e.h2,{id:"p1-drag-component-design",children:"\u62D6\u62FD\u7EC4\u4EF6\u8BBE\u8BA1 ?"}),"\n",(0,l.jsx)(e.h2,{id:"p0-long-list-rendering",children:"\u957F\u5217\u8868\u6E32\u67D3\u89E3\u51B3\u65B9\u6848?"}),"\n",(0,l.jsx)(e.h2,{id:"p0-slide-effect",children:"\u5199\u4E00\u4E2A\u5E7B\u706F\u7247\u6548\u679C"}),"\n",(0,l.jsx)(e.h2,{id:"\u5B9E\u73B0\u4E24\u4E2A\u53EF\u4EE5\u62D6\u66F3\u7684\u8282\u70B9\u8FDE\u7EBF",children:"\u5B9E\u73B0\u4E24\u4E2A\u53EF\u4EE5\u62D6\u66F3\u7684\u8282\u70B9\u8FDE\u7EBF"}),"\n",(0,l.jsx)(e.h2,{id:"p0-text-overflow-popover",children:"\u5B9E\u73B0\u6587\u672C\u6EA2\u51FA popover \u6548\u679C"}),"\n",(0,l.jsxs)(e.p,{children:["\u4EE5\u4E0B\u662F\u4E00\u79CD\u4F7F\u7528 HTML\u3001CSS \u548C JavaScript \u6765\u5B9E\u73B0\u5F53\u6587\u672C\u4E00\u884C\u5C55\u793A\u4E0D\u4E0B\u65F6\u901A\u8FC7",(0,l.jsx)(e.code,{children:"popover"}),"\u5C55\u793A\u5168\u90E8\u5185\u5BB9\u7684\u57FA\u672C\u65B9\u6CD5\u3002\u5047\u8BBE\u4F60\u5728\u4E00\u4E2A\u7F51\u9875\u73AF\u5883\u4E2D\u64CD\u4F5C\u3002"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"HTML \u7ED3\u6784"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u9996\u5148\uFF0C\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u6587\u672C\u7684\u5143\u7D20\uFF0C\u4F8B\u5982\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"span"}),"\u6807\u7B7E\u3002\u4E3A\u8FD9\u4E2A\u5143\u7D20\u6DFB\u52A0\u4E00\u4E2A\u81EA\u5B9A\u4E49\u5C5E\u6027\uFF08\u6BD4\u5982",(0,l.jsx)(e.code,{children:"data-full-text"}),"\uFF09\u6765\u5B58\u50A8\u5B8C\u6574\u7684\u6587\u672C\u5185\u5BB9\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<span\nid="textElement"\ndata-full-text="\u8FD9\u662F\u4E00\u6BB5\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u7684\u6587\u672C"\n>\n\u8FD9\u662F\u4E00\u6BB5\u5F88\u957F\u5F88\u957F\u5F88\u957F\u7684\u6587\u672C\n</span>\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"CSS \u6837\u5F0F"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4E3A",(0,l.jsx)(e.code,{children:"span"}),"\u5143\u7D20\u8BBE\u7F6E\u6837\u5F0F\uFF0C\u4F7F\u5176\u5728\u4E00\u884C\u5185\u663E\u793A\u6587\u672C\uFF0C\u5E76\u5728\u6587\u672C\u6EA2\u51FA\u65F6\u9690\u85CF\u6EA2\u51FA\u90E8\u5206\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:"#textElement {\nwhite - space: nowrap;\noverflow: hidden;\ntext - overflow: ellipsis;\ncursor: pointer;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8FD9\u91CC\u8BBE\u7F6E",(0,l.jsx)(e.code,{children:"cursor: pointer"}),"\u662F\u4E3A\u4E86\u8BA9\u7528\u6237\u77E5\u9053\u8FD9\u4E2A\u5143\u7D20\u662F\u53EF\u4EE5\u70B9\u51FB\u7684\uFF0C\u5F53\u6587\u672C\u6EA2\u51FA\u65F6\u53EF\u4EE5\u89E6\u53D1",(0,l.jsx)(e.code,{children:"popover"}),"\u663E\u793A\u5B8C\u6574\u5185\u5BB9\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"JavaScript \u529F\u80FD\u5B9E\u73B0"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528 JavaScript \u6765\u68C0\u6D4B\u6587\u672C\u662F\u5426\u6EA2\u51FA\u3002\u53EF\u4EE5\u901A\u8FC7\u6BD4\u8F83\u5143\u7D20\u7684",(0,l.jsx)(e.code,{children:"offsetWidth"}),"\u548C",(0,l.jsx)(e.code,{children:"scrollWidth"}),"\u6765\u5B9E\u73B0\u3002\u5982\u679C",(0,l.jsx)(e.code,{children:"scrollWidth"}),"\u5927\u4E8E",(0,l.jsx)(e.code,{children:"offsetWidth"}),"\uFF0C\u8BF4\u660E\u6587\u672C\u6EA2\u51FA\u4E86\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5F53\u6587\u672C\u6EA2\u51FA\u65F6\uFF0C\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"popover"}),"\u6765\u663E\u793A\u5B8C\u6574\u5185\u5BB9\u3002\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E9B\u73B0\u6210\u7684 JavaScript \u5E93\uFF08\u5982 Bootstrap \u7684",(0,l.jsx)(e.code,{children:"popover"}),"\u63D2\u4EF6\uFF09\u6216\u8005\u81EA\u5DF1\u7F16\u5199\u7B80\u5355\u7684",(0,l.jsx)(e.code,{children:"popover"}),"\u529F\u80FD\u3002\u4EE5\u4E0B\u662F\u4E00\u4E2A\u4F7F\u7528\u81EA\u5B9A\u4E49 JavaScript \u5B9E\u73B0\u7B80\u5355",(0,l.jsx)(e.code,{children:"popover"}),"\u529F\u80FD\u7684\u793A\u4F8B\uFF08\u4E0D\u4F9D\u8D56\u7B2C\u4E09\u65B9\u5E93\uFF09\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"document.addEventListener('DOMContentLoaded', function () {\n  const textElement = document.getElementById('textElement')\n  if (textElement.scrollWidth > textElement.offsetWidth) {\n    textElement.addEventListener('click', function () {\n      const fullText = this.getAttribute('data-full-text')\n      const popover = document.createElement('div')\n      popover.className = 'popover'\n      popover.textContent = fullText\n      document.body.appendChild(popover)\n      // \u7B80\u5355\u7684\u5B9A\u4F4D\uFF0C\u5C06popover\u653E\u5728\u88AB\u70B9\u51FB\u5143\u7D20\u7684\u4E0B\u65B9\n      const rect = this.getBoundingClientRect()\n      popover.style.left = rect.left + 'px'\n      popover.style.top = rect.bottom + 5 + 'px'\n    })\n  }\n})\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u540C\u65F6\uFF0C\u4F60\u8FD8\u9700\u8981\u6DFB\u52A0\u4E00\u4E9B CSS \u6837\u5F0F\u6765\u7F8E\u5316",(0,l.jsx)(e.code,{children:"popover"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:".popover {\nposition: absolute;\nbackground - color: white;\nborder: 1px solid gray;\npadding: 10px;\nborder - radius: 5px;\nz - index: 100;\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4E0A\u8FF0\u4EE3\u7801\u9996\u5148\u68C0\u67E5\u6587\u672C\u662F\u5426\u6EA2\u51FA\u3002\u5982\u679C\u6EA2\u51FA\uFF0C\u5F53\u7528\u6237\u70B9\u51FB\u8BE5\u6587\u672C\u5143\u7D20\u65F6\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"popover"}),"\u5143\u7D20\u5E76\u5C06\u5B8C\u6574\u6587\u672C\u5185\u5BB9\u653E\u5165\u5176\u4E2D\uFF0C\u7136\u540E\u5C06",(0,l.jsx)(e.code,{children:"popover"}),"\u6DFB\u52A0\u5230\u6587\u6863\u4E2D\uFF0C\u5E76\u7B80\u5355\u5730\u5B9A\u4F4D\u5728\u88AB\u70B9\u51FB\u5143\u7D20\u7684\u4E0B\u65B9\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8BF7\u6CE8\u610F\uFF0C\u8FD9\u53EA\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF0C\u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u4F60\u53EF\u80FD\u9700\u8981\u6839\u636E\u5177\u4F53\u7684\u8BBE\u8BA1\u8981\u6C42\u548C\u9879\u76EE\u6846\u67B6\uFF08\u5982\u4F7F\u7528 Vue.js\u3001React.js \u7B49\uFF09\u6765\u8FDB\u884C\u66F4\u590D\u6742\u7684\u5B9E\u73B0\uFF0C\u5E76\u4E14\u53EF\u80FD\u9700\u8981\u8003\u8651\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u7B49\u95EE\u9898\u3002\u5982\u679C\u4F7F\u7528\u50CF Bootstrap \u8FD9\u6837\u7684\u6846\u67B6\uFF0C\u5B9E\u73B0",(0,l.jsx)(e.code,{children:"popover"}),"\u529F\u80FD\u4F1A\u66F4\u52A0\u65B9\u4FBF\u548C\u5177\u6709\u66F4\u597D\u7684\u6837\u5F0F\u4E00\u81F4\u6027\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-get-url-query-params",children:"\u524D\u7AEF\u5982\u4F55\u5FEB\u901F\u83B7\u53D6\u9875\u9762 url query \u53C2\u6570"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u524D\u7AEF\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\u5FEB\u901F\u83B7\u53D6\u9875\u9762 URL \u7684\u67E5\u8BE2\u53C2\u6570\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E00\u3001\u4F7F\u7528 URLSearchParams API"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u57FA\u672C\u7528\u6CD5"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"URLSearchParams"}),"\u662F\u4E00\u4E2A\u5185\u7F6E\u7684 JavaScript API\uFF0C\u7528\u4E8E\u5904\u7406 URL \u7684\u67E5\u8BE2\u53C2\u6570\u3002\u5B83\u63D0\u4F9B\u4E86\u4E00\u79CD\u65B9\u4FBF\u7684\u65B9\u5F0F\u6765\u83B7\u53D6\u3001\u8BBE\u7F6E\u548C\u5220\u9664\u67E5\u8BE2\u53C2\u6570\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9996\u5148\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"window.location.search"}),"\u83B7\u53D6 URL \u7684\u67E5\u8BE2\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u5C06\u5176\u4F20\u9012\u7ED9",(0,l.jsx)(e.code,{children:"URLSearchParams"}),"\u6784\u9020\u51FD\u6570\u6765\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"URLSearchParams"}),"\u5BF9\u8C61\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const urlParams = new URLSearchParams(window.location.search)\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u83B7\u53D6\u5355\u4E2A\u53C2\u6570\u503C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"get"}),"\u65B9\u6CD5\u6765\u83B7\u53D6\u6307\u5B9A\u53C2\u6570\u7684\u503C\u3002\u4F8B\u5982\uFF0C\u8981\u83B7\u53D6\u540D\u4E3A",(0,l.jsx)(e.code,{children:"paramName"}),"\u7684\u53C2\u6570\u503C\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const paramValue = urlParams.get('paramName')\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u904D\u5386\u6240\u6709\u53C2\u6570"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"forEach"}),"\u65B9\u6CD5\u6765\u904D\u5386\u6240\u6709\u7684\u53C2\u6570\u3002\u4F8B\u5982\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"urlParams.forEach((value, key) => {\n  console.log(`${key}: ${value}`)\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E8C\u3001\u624B\u52A8\u89E3\u6790\u67E5\u8BE2\u5B57\u7B26\u4E32"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u57FA\u672C\u601D\u8DEF"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5982\u679C\u4E0D\u4F7F\u7528",(0,l.jsx)(e.code,{children:"URLSearchParams"}),"\uFF0C\u4E5F\u53EF\u4EE5\u624B\u52A8\u89E3\u6790 URL \u7684\u67E5\u8BE2\u5B57\u7B26\u4E32\u3002\u9996\u5148\uFF0C\u83B7\u53D6",(0,l.jsx)(e.code,{children:"window.location.search"}),"\uFF0C\u5B83\u5305\u542B\u4E86\u67E5\u8BE2\u5B57\u7B26\u4E32\uFF08\u4F8B\u5982",(0,l.jsx)(e.code,{children:"?param1=value1&param2=value2"}),"\uFF09\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"\u7136\u540E\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5B57\u7B26\u4E32\u7684\u5206\u5272\u548C\u904D\u5386\u64CD\u4F5C\u6765\u63D0\u53D6\u53C2\u6570\u540D\u548C\u53C2\u6570\u503C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u793A\u4F8B\u4EE3\u7801"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const queryString = window.location.search.substring(1)\nconst params = {}\nconst paramPairs = queryString.split('&')\nparamPairs.forEach((pair) => {\n  const [key, value] = pair.split('=')\n  if (key) {\n    params[key] = decodeURIComponent(value)\n  }\n})\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u9996\u5148\u63D0\u53D6\u67E5\u8BE2\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u5C06\u5176\u5206\u5272\u6210\u53C2\u6570\u5BF9\u6570\u7EC4\u3002\u5BF9\u4E8E\u6BCF\u4E2A\u53C2\u6570\u5BF9\uFF0C\u518D\u6B21\u5206\u5272\u5F97\u5230\u53C2\u6570\u540D\u548C\u53C2\u6570\u503C\uFF0C\u5E76\u5C06\u5176\u5B58\u50A8\u5728\u4E00\u4E2A\u5BF9\u8C61\u4E2D\u3002\u6700\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(e.code,{children:"params"}),"\u5BF9\u8C61\u6765\u8BBF\u95EE\u5404\u4E2A\u53C2\u6570\u7684\u503C\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E09\u3001\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5E93\u7684\u9009\u62E9"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6709\u4E00\u4E9B\u7B2C\u4E09\u65B9\u5E93\u4E5F\u63D0\u4F9B\u4E86\u65B9\u4FBF\u7684\u65B9\u6CD5\u6765\u5904\u7406 URL \u7684\u67E5\u8BE2\u53C2\u6570\u3002\u4F8B\u5982\uFF0C",(0,l.jsx)(e.code,{children:"qs"}),"\u5E93\u662F\u4E00\u4E2A\u6D41\u884C\u7684\u7528\u4E8E\u5904\u7406\u67E5\u8BE2\u5B57\u7B26\u4E32\u7684\u5E93\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"npm"}),"\u6216",(0,l.jsx)(e.code,{children:"yarn"}),"\u5B89\u88C5",(0,l.jsx)(e.code,{children:"qs"}),"\u5E93\uFF1A",(0,l.jsx)(e.code,{children:"npm install qs"}),"\u6216",(0,l.jsx)(e.code,{children:"yarn add qs"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u793A\u4F8B"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"import qs from 'qs'\n\nconst queryString = window.location.search.substring(1)\nconst params = qs.parse(queryString)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u4F7F\u7528",(0,l.jsx)(e.code,{children:"qs.parse"}),"\u65B9\u6CD5\u5C06\u67E5\u8BE2\u5B57\u7B26\u4E32\u89E3\u6790\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5176\u4E2D\u952E\u662F\u53C2\u6570\u540D\uFF0C\u503C\u662F\u53C2\u6570\u503C\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684 JavaScript \u51FD\u6570\uFF0C\u7528\u4E8E\u89E3\u6790 URL \u53C2\u6570\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u53C2\u6570\u952E\u503C\u5BF9\u7684\u5BF9\u8C61\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function parseUrlParams (url) {\n  const params = {}\n  const queryString = url.split('?')[1]\n\n  if (queryString) {\n    const pairs = queryString.split('&')\n    pairs.forEach(pair => {\n      const [key, value] = pair.split('=')\n      params[key] = decodeURIComponent(value)\n    })\n  }\n\n  return params\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u4E2A\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A URL \u5B57\u7B26\u4E32\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u8FD4\u56DE\u89E3\u6790\u540E\u7684\u53C2\u6570\u5BF9\u8C61\u3002\u4F8B\u5982\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:'const url = \'https://example.com?name=John&age=30&city=New%20York\'\nconst params = parseUrlParams(url)\n\nconsole.log(params)\n// Output: { name: "John", age: "30", city: "New York" }\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A\u51FD\u6570\u7684\u5B9E\u73B0\u601D\u8DEF\u662F\u5148\u4ECE URL \u5B57\u7B26\u4E32\u4E2D\u63D0\u53D6\u67E5\u8BE2\u5B57\u7B26\u4E32\u90E8\u5206\uFF0C\u7136\u540E\u5C06\u67E5\u8BE2\u5B57\u7B26\u4E32\u6309\u7167 ",(0,l.jsx)(e.code,{children:"&"})," \u5206\u5272\u6210\u952E\u503C\u5BF9\u6570\u7EC4\u3002\u63A5\u7740\u904D\u5386\u952E\u503C\u5BF9\u6570\u7EC4\uFF0C\u5C06\u6BCF\u4E2A\u952E\u503C\u5BF9\u6309\u7167 ",(0,l.jsx)(e.code,{children:"="})," \u5206\u5272\uFF0C\u7136\u540E\u5C06\u952E\u548C\u503C\u5B58\u50A8\u5230\u7ED3\u679C\u5BF9\u8C61 ",(0,l.jsx)(e.code,{children:"params"})," \u4E2D\uFF0C\u6CE8\u610F\u8981\u5BF9\u503C\u8FDB\u884C URL \u89E3\u7801\u4EE5\u5904\u7406\u7279\u6B8A\u5B57\u7B26\u3002\u6700\u540E\u8FD4\u56DE\u89E3\u6790\u540E\u7684\u53C2\u6570\u5BF9\u8C61\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u8FDB\u9636 - \u652F\u6301json\u5B57\u7B26\u4E32\u53C2\u6570"}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u8981\u652F\u6301\u590D\u6742\u7684 JSON \u5B57\u7B26\u4E32\u4F5C\u4E3A\u67E5\u8BE2\u53C2\u6570\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"JSON.parse()"})," \u65B9\u6CD5\u89E3\u6790 JSON \u5B57\u7B26\u4E32\uFF0C\u5E76\u5728\u89E3\u6790\u540E\u7684\u5BF9\u8C61\u4E2D\u5904\u7406\u53C2\u6570\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u4FEE\u6539\u540E\u7684\u51FD\u6570\uFF0C\u652F\u6301\u89E3\u6790\u590D\u6742\u7684 JSON \u5B57\u7B26\u4E32\u4F5C\u4E3A\u67E5\u8BE2\u53C2\u6570\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function parseUrlParams (url) {\n  const params = {}\n  const queryString = url.split('?')[1]\n\n  if (queryString) {\n    const pairs = queryString.split('&')\n    pairs.forEach(pair => {\n      const [key, value] = pair.split('=')\n      const decodedValue = decodeURIComponent(value)\n\n      try {\n        params[key] = JSON.parse(decodedValue)\n      } catch (error) {\n        // \u5982\u679C\u89E3\u6790 JSON \u5931\u8D25\uFF0C\u5219\u5C06\u539F\u59CB\u5B57\u7B26\u4E32\u5B58\u50A8\u5230\u53C2\u6570\u5BF9\u8C61\u4E2D\n        params[key] = decodedValue\n      }\n    })\n  }\n\n  return params\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u73B0\u5728\uFF0C\u5982\u679C\u67E5\u8BE2\u53C2\u6570\u662F\u4E00\u4E2A JSON \u5B57\u7B26\u4E32\uFF0C\u5B83\u5C06\u88AB\u89E3\u6790\u4E3A\u76F8\u5E94\u7684 JavaScript \u5BF9\u8C61\uFF0C\u5E76\u4F5C\u4E3A\u53C2\u6570\u5BF9\u8C61\u7684\u503C\u3002\u5982\u679C\u89E3\u6790\u5931\u8D25\uFF08\u4F8B\u5982\uFF0C\u4E0D\u662F\u6709\u6548\u7684 JSON \u5B57\u7B26\u4E32\uFF09\uFF0C\u5219\u5C06\u4FDD\u7559\u539F\u59CB\u5B57\u7B26\u4E32\u4F5C\u4E3A\u503C\u5B58\u50A8\u5728\u53C2\u6570\u5BF9\u8C61\u4E2D\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:'const url = \'https://example.com?name=John&age=30&address={"city":"New York","zipcode":10001}\'\nconst params = parseUrlParams(url)\n\nconsole.log(params)\n// Output: { name: "John", age: "30", address: { city: "New York", zipcode: 10001 } }\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u518D\u6B21\u8FDB\u9636-\u652F\u6301\u66F4\u590D\u6742\u7684\u573A\u666F\uFF0C \u6BD4\u5982\u5D4C\u5957\u5BF9\u8C61\uFF0C \u6570\u7EC4"}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4FEE\u6539\u540E\u7684\u51FD\u6570\uFF0C\u652F\u6301\u89E3\u6790\u590D\u6742\u7684\u67E5\u8BE2\u53C2\u6570\uFF0C\u5305\u62EC\u5D4C\u5957\u5BF9\u8C61\u548C\u6570\u7EC4\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function parseUrlParams (url) {\n  const params = {}\n  const queryString = url.split('?')[1]\n\n  if (queryString) {\n    const pairs = queryString.split('&')\n    pairs.forEach(pair => {\n      const [key, value] = pair.split('=')\n      const decodedValue = decodeURIComponent(value)\n\n      const keys = key.split('.')\n      let current = params\n\n      for (let i = 0; i < keys.length; i++) {\n        const nestedKey = keys[i]\n        const isArray = /\\[\\]$/.test(nestedKey)\n\n        if (isArray) {\n          const arrayKey = nestedKey.slice(0, -2)\n\n          if (!current[arrayKey]) {\n            current[arrayKey] = []\n          }\n\n          if (i === keys.length - 1) {\n            current[arrayKey].push(parseValue(decodedValue))\n          } else {\n            const newIndex = current[arrayKey].length\n            if (!current[arrayKey][newIndex]) {\n              current[arrayKey][newIndex] = {}\n            }\n            current = current[arrayKey][newIndex]\n          }\n        } else {\n          if (i === keys.length - 1) {\n            current[nestedKey] = parseValue(decodedValue)\n          } else {\n            if (!current[nestedKey]) {\n              current[nestedKey] = {}\n            }\n            current = current[nestedKey]\n          }\n        }\n      }\n    })\n  }\n\n  return params\n}\n\nfunction parseValue (value) {\n  try {\n    return JSON.parse(value)\n  } catch (error) {\n    // \u89E3\u6790\u5931\u8D25\uFF0C\u5219\u8FD4\u56DE\u539F\u59CB\u503C\n    return value\n  }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u73B0\u5728\uFF0C\u8BE5\u51FD\u6570\u53EF\u4EE5\u6B63\u786E\u89E3\u6790\u5305\u542B\u5D4C\u5957\u5BF9\u8C61\u548C\u6570\u7EC4\u7684\u67E5\u8BE2\u53C2\u6570\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:'const url = \'https://example.com?name=John&age=30&address.city=New%20York&address.zipcode=10001&tags[]=tag1&tags[]=tag2\'\nconst params = parseUrlParams(url)\n\nconsole.log(params)\n// Output: { name: "John", age: "30", address: { city: "New York", zipcode: 10001 }, tags: ["tag1", "tag2"] }\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u8FD9\u4E2A\u4FEE\u6539\u540E\u7684\u51FD\u6570\u4E2D\uFF0C\u5F53\u9047\u5230\u5D4C\u5957\u5BF9\u8C61\u65F6\uFF0C\u5B83\u4F1A\u9012\u5F52\u521B\u5EFA\u76F8\u5E94\u7684\u5BF9\u8C61\u5C5E\u6027\u3002\u5F53\u9047\u5230\u6570\u7EC4\u65F6\uFF0C\u5B83\u4F1A\u521B\u5EFA\u4E00\u4E2A\u6570\u7EC4\uFF0C\u5E76\u5C06\u503C\u6DFB\u52A0\u5230\u6570\u7EC4\u4E2D\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-multi-theme-color",children:"\u4E3B\u9898\u5207\u6362"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 CSS \u53D8\u91CF\uFF1A\u901A\u8FC7\u5B9A\u4E49\u4E00\u4E9B\u53D8\u91CF\u6765\u63A7\u5236\u989C\u8272\u3001\u5B57\u4F53\u7B49\uFF0C\u7136\u540E\u5728\u5207\u6362\u4E3B\u9898\u65F6\u52A8\u6001\u4FEE\u6539\u8FD9\u4E9B\u53D8\u91CF\u7684\u503C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 class \u5207\u6362\uFF1A\u5728 HTML \u7684\u6839\u5143\u7D20\u4E0A\u6DFB\u52A0\u4E0D\u540C\u7684 class \u540D\u79F0\uFF0C\u6BCF\u4E2A class \u540D\u79F0\u5BF9\u5E94\u4E0D\u540C\u7684\u4E3B\u9898\u6837\u5F0F\uFF0C\u5728\u5207\u6362\u4E3B\u9898\u65F6\u5207\u6362\u6839\u5143\u7D20\u7684 class \u540D\u79F0\u5373\u53EF\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 JavaScript \u5207\u6362\uFF1A\u4F7F\u7528 JavaScript \u52A8\u6001\u4FEE\u6539\u9875\u9762\u7684\u6837\u5F0F\uFF0C\u5982\u4FEE\u6539\u5143\u7D20\u7684\u80CC\u666F\u989C\u8272\u3001\u5B57\u4F53\u989C\u8272\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Less/Sass \u7B49 CSS \u9884\u5904\u7406\u5668\uFF1A\u901A\u8FC7\u9884\u5904\u7406\u5668\u63D0\u4F9B\u7684\u53D8\u91CF\u3001\u51FD\u6570\u7B49\u529F\u80FD\u6765\u5B9E\u73B0\u4E3B\u9898\u5207\u6362\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u65E0\u8BBA\u91C7\u7528\u54EA\u79CD\u65B9\u5F0F\u5B9E\u73B0\uFF0C\u90FD\u9700\u8981\u5728\u8BBE\u8BA1\u9875\u9762\u6837\u5F0F\u65F6\u5C3D\u91CF\u9075\u5FAA\u4E00\u4E9B\u89C4\u8303\uFF0C\u5982\u4E0D\u4F7F\u7528\u7EDD\u5BF9\u7684\u50CF\u7D20\u503C\uFF0C\u4F7F\u7528\u76F8\u5BF9\u5355\u4F4D\u7B49\uFF0C\u4EE5\u4FBF\u66F4\u597D\u5730\u9002\u5E94\u4E0D\u540C\u7684\u5C4F\u5E55\u5927\u5C0F\u548C\u5206\u8FA8\u7387\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5 less \u4E3E\u4F8B\uFF0C \u8BE6\u7EC6\u8BB2\u8FF0\u4E00\u4E0B\u5177\u4F53\u64CD\u4F5C\u6D41\u7A0B"}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7 Less \u5B9E\u73B0\u7F51\u9875\u6362\u80A4\u53EF\u4EE5\u4F7F\u7528 CSS \u53D8\u91CF\u548C Less \u53D8\u91CF\u3002CSS \u53D8\u91CF\u7684\u8BED\u6CD5\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:":root {\n --primary-color: #007bff;\n}\n\n.btn {\n background-color: var(--primary-color);\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u800C Less \u53D8\u91CF\u5219\u662F\u901A\u8FC7 Less \u9884\u7F16\u8BD1\u5668\u63D0\u4F9B\u7684\u53D8\u91CF\u8BED\u6CD5\u6765\u5B9E\u73B0\u7684\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-less",children:"lessCopy code@primary-color: #007bff;\n\n.btn {\n background-color: @primary-color;\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7 Less \u53D8\u91CF\u6765\u5B9E\u73B0\u7F51\u9875\u6362\u80A4\u7684\u65B9\u5F0F\u53EF\u4EE5\u5728\u8FD0\u884C\u65F6\u4F7F\u7528 JavaScript \u6765\u4FEE\u6539 Less \u53D8\u91CF\u7684\u503C\uFF0C\u4ECE\u800C\u5B9E\u73B0\u6362\u80A4\u6548\u679C\u3002\u5177\u4F53\u6B65\u9AA4\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 Less \u9884\u7F16\u8BD1\u5668\u6765\u7F16\u8BD1 Less \u6587\u4EF6\u4E3A CSS \u6587\u4EF6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5728 HTML \u6587\u4EF6\u4E2D\u5F15\u5165\u7F16\u8BD1\u540E\u7684 CSS \u6587\u4EF6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5728 JavaScript \u4E2D\u52A8\u6001\u4FEE\u6539 Less \u53D8\u91CF\u7684\u503C\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 JavaScript \u5C06\u65B0\u7684 Less \u53D8\u91CF\u503C\u6CE8\u5165\u5230\u7F16\u8BD1\u540E\u7684 CSS \u6587\u4EF6\u4E2D\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5C06\u6CE8\u5165\u540E\u7684 CSS \u6837\u5F0F\u5E94\u7528\u5230\u9875\u9762\u4E0A\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u6BB5\u5B9E\u73B0\u901A\u8FC7 Less \u53D8\u91CF\u6765\u5B9E\u73B0\u7F51\u9875\u6362\u80A4\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-less",children:"// base.less \u6587\u4EF6\n@primary-color: #007bff;\n\n.btn {\n background-color: @primary-color;\n}\n\n// dark.less \u6587\u4EF6\n@primary-color: #343a40;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'\x3c!-- index.html \u6587\u4EF6 --\x3e\n<!DOCTYPE html>\n<html>\n<head>\n <meta charset="UTF-8">\n <title>\u7F51\u9875\u6362\u80A4\u793A\u4F8B</title>\n <link rel="stylesheet/less" type="text/css" href="base.less">\n <link rel="stylesheet/less" type="text/css" href="dark.less">\n</head>\n<body>\n <button class="btn">\u6309\u94AE</button>\n <script src="less.min.js"><\/script>\n <script>\n function changeSkin() {\n // \u4FEE\u6539 Less \u53D8\u91CF\u7684\u503C\n less.modifyVars({\n \'@primary-color\': \'#28a745\'\n }).then(() => {\n console.log(\'\u6362\u80A4\u6210\u529F\');\n }).catch(() => {\n console.error(\'\u6362\u80A4\u5931\u8D25\');\n });\n }\n <\/script>\n</body>\n</html>\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u5F15\u5165\u4E86\u4E24\u4E2A Less \u6587\u4EF6\uFF0C\u4E00\u4E2A\u662F ",(0,l.jsx)(e.code,{children:"base.less"}),"\uFF0C\u4E00\u4E2A\u662F ",(0,l.jsx)(e.code,{children:"dark.less"}),"\u3002\u5176\u4E2D ",(0,l.jsx)(e.code,{children:"base.less"})," \u5B9A\u4E49\u4E86\u4E00\u4E9B\u57FA\u7840\u7684\u6837\u5F0F\uFF0C\u800C ",(0,l.jsx)(e.code,{children:"dark.less"})," \u5219\u662F\u5B9A\u4E49\u4E86\u4E00\u4E2A\u6697\u9ED1\u8272\u7684\u4E3B\u9898\u6837\u5F0F\u3002\u5728 JavaScript \u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"less.modifyVars"})," \u65B9\u6CD5\u6765\u4FEE\u6539 Less \u53D8\u91CF\u7684\u503C\uFF0C\u4ECE\u800C\u5B9E\u73B0\u4E86\u6362\u80A4\u7684\u6548\u679C\u3002\u5F53\u7136\uFF0C\u8FD9\u53EA\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\u4EE3\u7801\uFF0C\u5B9E\u9645\u7684\u6362\u80A4\u529F\u80FD\u8FD8\u9700\u8981\u6839\u636E\u5B9E\u9645\u9700\u6C42\u6765\u8FDB\u884C\u8BBE\u8BA1\u548C\u5B9E\u73B0\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9875\u9762\u4E3B\u9898\u8272\u5207\u6362\u901A\u5E38\u6D89\u53CA\u5230\u4FEE\u6539\u7F51\u9875\u4E2D\u7684\u989C\u8272\u65B9\u6848\uFF0C\u4EE5\u63D0\u4F9B\u4E0D\u540C\u7684\u89C6\u89C9\u4F53\u9A8C\uFF0C\u4F8B\u5982\u4ECE\u660E\u4EAE\u6A21\u5F0F\u5207\u6362\u5230\u6697\u9ED1\u6A21\u5F0F\u3002\u5B9E\u73B0\u8FD9\u4E00\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u5408\u4F7F\u7528 CSS\u3001JavaScript \u548C\u672C\u5730\u5B58\u50A8\u6765\u8FDB\u884C\u3002\u4EE5\u4E0B\u662F\u5B9E\u65BD\u9875\u9762\u4E3B\u9898\u8272\u5207\u6362\u7684\u51E0\u79CD\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 CSS \u81EA\u5B9A\u4E49\u5C5E\u6027"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5B9A\u4E49\u4E00\u5957\u4E3B\u9898\u53D8\u91CF\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:':root {\n --primary-color: #5b88bd; // \u660E\u4EAE\u4E3B\u9898\u8272 */\n --text-color: #000; // \u660E\u4EAE\u4E3B\u9898\u6587\u672C\u989C\u8272 */\n}\n\n[data-theme="dark"] {\n --primary-color: #1e2a34; // \u6697\u9ED1\u4E3B\u9898\u8272 */\n --text-color: #ccc; // \u6697\u9ED1\u4E3B\u9898\u6587\u672C\u989C\u8272 */\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u5E94\u7528\u81EA\u5B9A\u4E49\u5C5E\u6027\u5230 CSS \u89C4\u5219\u4E2D\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:"body {\n background-color: var(--primary-color);\n color: var(--text-color);\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 JavaScript \u52A8\u6001\u5207\u6362\u4E3B\u9898\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function toggleTheme () {\n  const root = document.documentElement\n  if (root.dataset.theme === 'dark') {\n    root.dataset.theme = 'light'\n  } else {\n    root.dataset.theme = 'dark'\n  }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 CSS \u7C7B\u5207\u6362"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E3A\u6BCF\u4E2A\u4E3B\u9898\u521B\u5EFA\u4E0D\u540C\u7684 CSS \u7C7B\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:".light-theme {\n --primary-color: #5b88bd;\n --text-color: #000;\n}\n\n.dark-theme {\n --primary-color: #1e2a34;\n --text-color: #ccc;\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u624B\u52A8\u5207\u6362 CSS \u7C7B\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function toggleTheme () {\n  const bodyClass = document.body.classList\n  if (bodyClass.contains('dark-theme')) {\n    bodyClass.replace('dark-theme', 'light-theme')\n  } else {\n    bodyClass.replace('light-theme', 'dark-theme')\n  }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 LocalStorage \u8BB0\u5F55\u7528\u6237\u4E3B\u9898\u504F\u597D"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5F53\u7528\u6237\u5207\u6362\u4E3B\u9898\u65F6\nfunction saveThemePreference () {\n  localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light')\n}\n\n// \u9875\u9762\u52A0\u8F7D\u65F6\u5E94\u7528\u7528\u6237\u504F\u597D\nfunction applyThemePreference () {\n  const preferredTheme = localStorage.getItem('theme')\n\n  if (preferredTheme === 'dark') {\n    document.body.classList.add('dark-theme')\n  } else {\n    document.body.classList.remove('dark-theme')\n  }\n}\n\napplyThemePreference()\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u5A92\u4F53\u67E5\u8BE2\u81EA\u52A8\u5E94\u7528\u6697\u9ED1\u6A21\u5F0F"}),"\n",(0,l.jsxs)(e.p,{children:["\u67D0\u4E9B\u73B0\u4EE3\u6D4F\u89C8\u5668\u652F\u6301 CSS \u5A92\u4F53\u67E5\u8BE2",(0,l.jsx)(e.code,{children:"prefers-color-scheme"}),"\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E2A\u7279\u6027\u6765\u81EA\u52A8\u6839\u636E\u7528\u6237\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u5E94\u7528\u6697\u9ED1\u6A21\u5F0F\u6216\u660E\u4EAE\u6A21\u5F0F\uFF0C\u800C\u65E0\u987B JavaScript\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:"@media (prefers-color-scheme: dark) {\n :root {\n --primary-color: #1e2a34; // \u6697\u9ED1\u4E3B\u9898\u8272 */\n --text-color: #ccc; // \u6697\u9ED1\u4E3B\u9898\u6587\u672C\u989C\u8272 */\n }\n}\n\n@media (prefers-color-scheme: light) {\n :root {\n --primary-color: #5b88bd; // \u660E\u4EAE\u4E3B\u9898\u8272 */\n --text-color: #000; // \u660E\u4EAE\u4E3B\u9898\u6587\u672C\u989C\u8272 */\n }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0A\u65B9\u6CD5\uFF0C\u5F00\u53D1\u4EBA\u5458\u80FD\u591F\u4E3A\u524D\u7AEF\u9875\u9762\u63D0\u4F9B\u7075\u6D3B\u7684\u4E3B\u9898\u8272\u5207\u6362\u529F\u80FD\uFF0C\u4ECE\u800C\u589E\u5F3A\u7528\u6237\u4F53\u9A8C\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u524D\u7AEF\u5904\u7406\u4E00\u4E2A\u9875\u9762\u6709\u591A\u4E2A\u4E3B\u9898\u8272\u53EF\u4F9B\u9009\u62E9\u7684\u573A\u666F\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\u5B9E\u73B0\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E00\u3001\u4F7F\u7528 CSS \u53D8\u91CF"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5B9A\u4E49 CSS \u53D8\u91CF"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728 CSS \u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"--"}),"\u6765\u5B9A\u4E49\u53D8\u91CF\u3002\u4F8B\u5982\uFF0C\u53EF\u4EE5\u5B9A\u4E49\u4E00\u4E9B\u4EE3\u8868\u4E3B\u9898\u8272\u7684\u53D8\u91CF\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:":root {\n --primary-color: #007bff;\n --secondary-color: #6c757d;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8FD9\u91CC\u5B9A\u4E49\u4E86\u4E24\u4E2A\u53D8\u91CF",(0,l.jsx)(e.code,{children:"--primary-color"}),"\u548C",(0,l.jsx)(e.code,{children:"--secondary-color"}),"\uFF0C\u5206\u522B\u4EE3\u8868\u4E3B\u8272\u548C\u8F85\u52A9\u8272\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5728 CSS \u4E2D\u4F7F\u7528\u53D8\u91CF"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7136\u540E\u5728 CSS \u89C4\u5219\u4E2D\u4F7F\u7528\u8FD9\u4E9B\u53D8\u91CF\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:".button {\n background-color: var(--primary-color);\n color: white;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:".button"}),"\u7C7B\u7684\u6309\u94AE\u80CC\u666F\u989C\u8272\u4F7F\u7528\u4E86",(0,l.jsx)(e.code,{children:"--primary-color"}),"\u53D8\u91CF\u5B9A\u4E49\u7684\u989C\u8272\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5728 JavaScript \u4E2D\u5207\u6362\u4E3B\u9898"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728 JavaScript \u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539",(0,l.jsx)(e.code,{children:"document.documentElement.style"}),"\u6765\u6539\u53D8 CSS \u53D8\u91CF\u7684\u503C\uFF0C\u4ECE\u800C\u5207\u6362\u4E3B\u9898\u8272\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const setTheme = (theme) => {\n  document.documentElement.style.setProperty('--primary-color', theme.primaryColor)\n  document.documentElement.style.setProperty('--secondary-color', theme.secondaryColor)\n}\n\nconst theme1 = {\n  primaryColor: '#007bff',\n  secondaryColor: '#6c757d'\n}\n\nconst theme2 = {\n  primaryColor: '#ff5733',\n  secondaryColor: '#999999'\n}\n\n// \u5207\u6362\u5230\u4E3B\u9898 1\nsetTheme(theme1)\n\n// \u5207\u6362\u5230\u4E3B\u9898 2\nsetTheme(theme2)\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"setTheme"}),"\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u4E3B\u9898\u5BF9\u8C61\uFF0C\u7136\u540E\u901A\u8FC7",(0,l.jsx)(e.code,{children:"document.documentElement.style.setProperty"}),"\u65B9\u6CD5\u4FEE\u6539 CSS \u53D8\u91CF\u7684\u503C\u3002\u53EF\u4EE5\u5B9A\u4E49\u591A\u4E2A\u4E3B\u9898\u5BF9\u8C61\uFF0C\u7136\u540E\u6839\u636E\u7528\u6237\u7684\u9009\u62E9\u5207\u6362\u4E3B\u9898\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E8C\u3001\u4F7F\u7528\u9884\u5904\u7406\u5668\uFF08\u5982 Sass\u3001Less\uFF09"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5B9A\u4E49\u53D8\u91CF\u548C\u6DF7\u5408"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728 Sass \u6216 Less \u4E2D\uFF0C\u53EF\u4EE5\u5B9A\u4E49\u53D8\u91CF\u6765\u4EE3\u8868\u4E3B\u9898\u8272\u3002\u4F8B\u5982\uFF0C\u5728 Sass \u4E2D\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-scss",children:"$primary-color: #007bff;\n$secondary-color: #6c757d;\n\n.button {\n background-color: $primary-color;\n color: white;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8FD9\u91CC\u5B9A\u4E49\u4E86\u53D8\u91CF",(0,l.jsx)(e.code,{children:"$primary-color"}),"\u548C",(0,l.jsx)(e.code,{children:"$secondary-color"}),"\uFF0C\u5E76\u5728",(0,l.jsx)(e.code,{children:".button"}),"\u7C7B\u4E2D\u4F7F\u7528\u4E86\u8FD9\u4E9B\u53D8\u91CF\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u591A\u4E2A\u4E3B\u9898\u6587\u4EF6"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53EF\u4EE5\u521B\u5EFA\u591A\u4E2A\u4E3B\u9898\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u5B9A\u4E49\u4E0D\u540C\u7684\u53D8\u91CF\u503C\u3002\u4F8B\u5982\uFF0C\u521B\u5EFA",(0,l.jsx)(e.code,{children:"theme1.scss"}),"\u548C",(0,l.jsx)(e.code,{children:"theme2.scss"}),"\u4E24\u4E2A\u6587\u4EF6\uFF0C\u5206\u522B\u5B9A\u4E49\u4E0D\u540C\u7684\u4E3B\u9898\u8272\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5728 JavaScript \u4E2D\u5207\u6362\u4E3B\u9898\u6587\u4EF6"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728 HTML \u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(e.code,{children:"<link>"}),"\u6807\u7B7E\u5F15\u5165\u4E0D\u540C\u7684 CSS \u6587\u4EF6\u6765\u5207\u6362\u4E3B\u9898\u3002\u5728 JavaScript \u4E2D\uFF0C\u53EF\u4EE5\u52A8\u6001\u5730\u4FEE\u6539",(0,l.jsx)(e.code,{children:"<link>"}),"\u6807\u7B7E\u7684",(0,l.jsx)(e.code,{children:"href"}),"\u5C5E\u6027\u6765\u5207\u6362\u4E3B\u9898\u6587\u4EF6\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const setTheme = (theme) => {\n  const link = document.getElementById('theme-link')\n  link.href = theme.href\n}\n\nconst theme1 = {\n  href: 'theme1.css'\n}\n\nconst theme2 = {\n  href: 'theme2.css'\n}\n\n// \u5207\u6362\u5230\u4E3B\u9898 1\nsetTheme(theme1)\n\n// \u5207\u6362\u5230\u4E3B\u9898 2\nsetTheme(theme2)\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"setTheme"}),"\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u4E3B\u9898\u5BF9\u8C61\uFF0C\u7136\u540E\u901A\u8FC7\u4FEE\u6539",(0,l.jsx)(e.code,{children:"<link>"}),"\u6807\u7B7E\u7684",(0,l.jsx)(e.code,{children:"href"}),"\u5C5E\u6027\u6765\u5207\u6362\u4E3B\u9898\u6587\u4EF6\u3002\u53EF\u4EE5\u5B9A\u4E49\u591A\u4E2A\u4E3B\u9898\u5BF9\u8C61\uFF0C\u6BCF\u4E2A\u5BF9\u8C61\u5305\u542B\u4E0D\u540C\u7684\u4E3B\u9898\u6587\u4EF6\u8DEF\u5F84\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E09\u3001\u4F7F\u7528 JavaScript \u52A8\u6001\u4FEE\u6539\u6837\u5F0F"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5B9A\u4E49\u6837\u5F0F\u7C7B"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728 CSS \u4E2D\u5B9A\u4E49\u591A\u4E2A\u6837\u5F0F\u7C7B\uFF0C\u6BCF\u4E2A\u7C7B\u4EE3\u8868\u4E00\u79CD\u4E3B\u9898\u3002\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:".theme1 {\n background-color: #007bff;\n color: white;\n}\n\n.theme2 {\n background-color: #ff5733;\n color: white;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8FD9\u91CC\u5B9A\u4E49\u4E86\u4E24\u4E2A\u6837\u5F0F\u7C7B",(0,l.jsx)(e.code,{children:".theme1"}),"\u548C",(0,l.jsx)(e.code,{children:".theme2"}),"\uFF0C\u5206\u522B\u4EE3\u8868\u4E0D\u540C\u7684\u4E3B\u9898\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5728 JavaScript \u4E2D\u5207\u6362\u6837\u5F0F\u7C7B"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728 JavaScript \u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u5143\u7D20\u7684",(0,l.jsx)(e.code,{children:"classList"}),"\u5C5E\u6027\u6765\u5207\u6362\u6837\u5F0F\u7C7B\uFF0C\u4ECE\u800C\u5207\u6362\u4E3B\u9898\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const setTheme = (theme) => {\n  const element = document.getElementById('my-element')\n  element.classList.remove('theme1', 'theme2')\n  element.classList.add(theme)\n}\n\n// \u5207\u6362\u5230\u4E3B\u9898 1\nsetTheme('theme1')\n\n// \u5207\u6362\u5230\u4E3B\u9898 2\nsetTheme('theme2')\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"setTheme"}),"\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u4E3B\u9898\u7C7B\u540D\u4F5C\u4E3A\u53C2\u6570\uFF0C\u7136\u540E\u901A\u8FC7\u4FEE\u6539\u5143\u7D20\u7684",(0,l.jsx)(e.code,{children:"classList"}),"\u5C5E\u6027\u6765\u5207\u6362\u4E3B\u9898\u3002\u9996\u5148\u79FB\u9664\u5F53\u524D\u5143\u7D20\u7684\u6240\u6709\u4E3B\u9898\u7C7B\u540D\uFF0C\u7136\u540E\u6DFB\u52A0\u6307\u5B9A\u7684\u4E3B\u9898\u7C7B\u540D\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-find-most-frequent-html-tag",children:"\u67E5\u627E\u9875\u9762\u51FA\u73B0\u6B21\u6570\u6700\u591A\u7684 HTML \u6807\u7B7E"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n <meta charset="UTF-8">\n</head>\n\n<body>\n <div>Some content</div>\n <p>Another paragraph</p>\n <p>Another paragraph</p>\n <p>Another paragraph</p>\n <div>More div content</p>\n <span>Span element</span>\n <script>\n function findMostFrequentTag() {\n const allElements = document.getElementsByTagName(\'*\');\n const tagCount = {};\n for (let i = 0; i < allElements.length; i++) {\n const tagName = allElements[i].tagName;\n if (tagCount[tagName]) {\n tagCount[tagName]++;\n } else {\n tagCount[tagName] = 1;\n }\n }\n let mostFrequentTag = null;\n let maxCount = 0;\n for (const tag in tagCount) {\n if (tagCount[tag] > maxCount) {\n mostFrequentTag = tag;\n maxCount = tagCount[tag];\n }\n }\n return mostFrequentTag;\n }\n const mostFrequent = findMostFrequentTag();\n console.log(`The most frequent tag is: ${mostFrequent}`);\n <\/script>\n</body>\n\n</html>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"p0-cache-function",children:"\u5B9E\u73B0\u4E00\u4E2A\u7F13\u5B58\u51FD\u6570"}),"\n",(0,l.jsxs)(e.p,{children:["\u4EE5\u4E0B\u662F\u4F7F\u7528 JavaScript \u5B9E\u73B0\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"once"}),"\u51FD\u6570\u7684\u65B9\u6CD5\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function once (func) {\n  let hasRun = false\n  let result\n  return function () {\n    if (!hasRun) {\n      result = func.apply(this, arguments)\n      hasRun = true\n    }\n    return result\n  }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F60\u53EF\u4EE5\u8FD9\u6837\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function expensiveOperation () {\n  console.log('\u6267\u884C\u4E86\u6602\u8D35\u7684\u64CD\u4F5C')\n  return 42\n}\n\nconst memoizedOperation = once(expensiveOperation)\n\nconsole.log(memoizedOperation()) // \u6267\u884C\u4E86\u6602\u8D35\u7684\u64CD\u4F5C\uFF0C\u8FD4\u56DE 42\nconsole.log(memoizedOperation()) // \u76F4\u63A5\u8FD4\u56DE\u4E0A\u6B21\u7684\u7ED3\u679C 42\uFF0C\u4E0D\u518D\u6267\u884C\u6602\u8D35\u7684\u64CD\u4F5C\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u5B9E\u73B0\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"once"}),"\u51FD\u6570\u63A5\u6536\u4E00\u4E2A\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u51FD\u6570\u3002\u65B0\u51FD\u6570\u4F1A\u8BB0\u4F4F\u7B2C\u4E00\u6B21\u8C03\u7528\u65F6\u7684\u7ED3\u679C\uFF0C\u540E\u7EED\u8C03\u7528\u76F4\u63A5\u8FD4\u56DE\u8FD9\u4E2A\u7ED3\u679C\uFF0C\u800C\u4E0D\u4F1A\u518D\u6B21\u6267\u884C\u4F20\u5165\u7684\u51FD\u6570\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-large-file-upload",children:"\u5927\u6587\u4EF6\u4E0A\u4F20"}),"\n",(0,l.jsx)(e.p,{children:"\u5206\u7247\u4E0A\u4F20\u662F\u4E00\u79CD\u5C06\u5927\u6587\u4EF6\u5206\u5272\u6210\u591A\u4E2A\u5C0F\u7247\u6BB5\u8FDB\u884C\u4E0A\u4F20\u7684\u65B9\u6CD5\uFF0C\u5728\u5206\u7247\u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u6821\u9A8C\u6587\u4EF6\u5B8C\u6574\u6027\u975E\u5E38\u91CD\u8981\uFF0C\u53EF\u4EE5\u786E\u4FDD\u4E0A\u4F20\u7684\u6587\u4EF6\u5728\u670D\u52A1\u5668\u7AEF\u80FD\u591F\u6B63\u786E\u5730\u7EC4\u5408\u6210\u5B8C\u6574\u7684\u6587\u4EF6\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u6821\u9A8C\u6587\u4EF6\u5B8C\u6574\u6027\u7684\u601D\u8DEF\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E00\u3001\u4F7F\u7528\u54C8\u5E0C\u7B97\u6CD5"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8BA1\u7B97\u6587\u4EF6\u54C8\u5E0C\u503C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u5BA2\u6237\u7AEF\u4E0A\u4F20\u6587\u4EF6\u4E4B\u524D\uFF0C\u5148\u5BF9\u6574\u4E2A\u6587\u4EF6\u8BA1\u7B97\u54C8\u5E0C\u503C\u3002\u5E38\u7528\u7684\u54C8\u5E0C\u7B97\u6CD5\u6709 MD5\u3001SHA-1\u3001SHA-256 \u7B49\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u4F8B\u5982\uFF0C\u4F7F\u7528 JavaScript \u7684",(0,l.jsx)(e.code,{children:"crypto-js"}),"\u5E93\u8BA1\u7B97\u6587\u4EF6\u7684 MD5 \u54C8\u5E0C\u503C\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"import CryptoJS from 'crypto-js'\n\nconst calculateFileHash = async (file) => {\n  const fileReader = new FileReader()\n  return new Promise((resolve, reject) => {\n    fileReader.onload = (event) => {\n      const hash = CryptoJS.MD5(event.target.result)\n      resolve(hash.toString())\n    }\n    fileReader.onerror = reject\n    fileReader.readAsArrayBuffer(file)\n  })\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u643A\u5E26\u54C8\u5E0C\u503C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u8FDB\u884C\u5206\u7247\u4E0A\u4F20\u65F6\uFF0C\u5C06\u6587\u4EF6\u7684\u54C8\u5E0C\u503C\u4F5C\u4E3A\u4E00\u4E2A\u53C2\u6570\u4E00\u8D77\u4E0A\u4F20\u7ED9\u670D\u52A1\u5668\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u5728\u6BCF\u4E2A\u5206\u7247\u7684\u8BF7\u6C42\u4E2D\u643A\u5E26\u54C8\u5E0C\u503C\uFF0C\u6216\u8005\u5728\u4E0A\u4F20\u5F00\u59CB\u65F6\u5148\u5C06\u54C8\u5E0C\u503C\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u670D\u52A1\u5668\u7AEF\u6821\u9A8C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u670D\u52A1\u5668\u5728\u63A5\u6536\u5230\u6240\u6709\u5206\u7247\u5E76\u7EC4\u5408\u6210\u5B8C\u6574\u6587\u4EF6\u540E\uFF0C\u518D\u6B21\u8BA1\u7B97\u6587\u4EF6\u7684\u54C8\u5E0C\u503C\uFF0C\u5E76\u4E0E\u5BA2\u6237\u7AEF\u4E0A\u4F20\u7684\u54C8\u5E0C\u503C\u8FDB\u884C\u6BD4\u8F83\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u4E24\u4E2A\u54C8\u5E0C\u503C\u4E00\u81F4\uFF0C\u5219\u8BF4\u660E\u6587\u4EF6\u5B8C\u6574\u65E0\u8BEF\uFF1B\u5982\u679C\u4E0D\u4E00\u81F4\uFF0C\u5219\u8BF4\u660E\u6587\u4EF6\u5728\u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u51FA\u73B0\u4E86\u95EE\u9898\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E8C\u3001\u6821\u9A8C\u548C\uFF08Checksum\uFF09"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8BA1\u7B97\u6821\u9A8C\u548C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9664\u4E86\u54C8\u5E0C\u7B97\u6CD5\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6821\u9A8C\u548C\u6765\u6821\u9A8C\u6587\u4EF6\u5B8C\u6574\u6027\u3002\u6821\u9A8C\u548C\u662F\u901A\u8FC7\u5BF9\u6587\u4EF6\u7684\u6BCF\u4E2A\u5B57\u8282\u8FDB\u884C\u7279\u5B9A\u7684\u6570\u5B66\u8FD0\u7B97\u5F97\u5230\u7684\u4E00\u4E2A\u503C\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u53EF\u4EE5\u4F7F\u7528\u7B80\u5355\u7684\u7D2F\u52A0\u6821\u9A8C\u548C\u7B97\u6CD5\uFF0C\u5C06\u6587\u4EF6\u7684\u6BCF\u4E2A\u5B57\u8282\u7684\u503C\u76F8\u52A0\u5F97\u5230\u4E00\u4E2A\u603B\u548C\u4F5C\u4E3A\u6821\u9A8C\u548C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4E0A\u4F20\u548C\u6821\u9A8C"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u5BA2\u6237\u7AEF\u8BA1\u7B97\u6587\u4EF6\u7684\u6821\u9A8C\u548C\uFF0C\u5E76\u5728\u5206\u7247\u4E0A\u4F20\u65F6\u5C06\u6821\u9A8C\u548C\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u670D\u52A1\u5668\u5728\u7EC4\u5408\u5B8C\u6587\u4EF6\u540E\uFF0C\u8BA1\u7B97\u6587\u4EF6\u7684\u6821\u9A8C\u548C\u5E76\u4E0E\u5BA2\u6237\u7AEF\u4E0A\u4F20\u7684\u6821\u9A8C\u548C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u4EE5\u786E\u5B9A\u6587\u4EF6\u7684\u5B8C\u6574\u6027\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E09\u3001\u6587\u4EF6\u5927\u5C0F\u6BD4\u8F83"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8BB0\u5F55\u6587\u4EF6\u5927\u5C0F"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u5BA2\u6237\u7AEF\u4E0A\u4F20\u6587\u4EF6\u4E4B\u524D\uFF0C\u8BB0\u5F55\u6587\u4EF6\u7684\u5927\u5C0F\u3002\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(e.code,{children:"File"}),"\u5BF9\u8C61\u7684",(0,l.jsx)(e.code,{children:"size"}),"\u5C5E\u6027\u83B7\u53D6\u6587\u4EF6\u7684\u5927\u5C0F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u670D\u52A1\u5668\u7AEF\u9A8C\u8BC1"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u670D\u52A1\u5668\u5728\u63A5\u6536\u5230\u6240\u6709\u5206\u7247\u5E76\u7EC4\u5408\u6210\u5B8C\u6574\u6587\u4EF6\u540E\uFF0C\u68C0\u67E5\u6587\u4EF6\u7684\u5927\u5C0F\u662F\u5426\u4E0E\u5BA2\u6237\u7AEF\u4E0A\u4F20\u7684\u6587\u4EF6\u5927\u5C0F\u4E00\u81F4\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u5927\u5C0F\u4E00\u81F4\uFF0C\u5219\u8BF4\u660E\u6587\u4EF6\u53EF\u80FD\u662F\u5B8C\u6574\u7684\uFF1B\u5982\u679C\u4E0D\u4E00\u81F4\uFF0C\u5219\u8BF4\u660E\u6587\u4EF6\u5728\u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u4E86\u95EE\u9898\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u56DB\u3001\u4E0A\u4F20\u72B6\u6001\u8DDF\u8E2A"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5BA2\u6237\u7AEF\u8DDF\u8E2A\u4E0A\u4F20\u72B6\u6001"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u5BA2\u6237\u7AEF\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u6765\u8DDF\u8E2A\u6BCF\u4E2A\u5206\u7247\u7684\u4E0A\u4F20\u72B6\u6001\uFF0C\u4F8B\u5982\u4F7F\u7528\u4E00\u4E2A\u6570\u7EC4\u8BB0\u5F55\u6BCF\u4E2A\u5206\u7247\u662F\u5426\u6210\u529F\u4E0A\u4F20\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5F53\u6240\u6709\u5206\u7247\u90FD\u6210\u529F\u4E0A\u4F20\u540E\uFF0C\u53EF\u4EE5\u8BA4\u4E3A\u6587\u4EF6\u4E0A\u4F20\u5B8C\u6574\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u670D\u52A1\u5668\u7AEF\u786E\u8BA4"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u670D\u52A1\u5668\u5728\u63A5\u6536\u5230\u6BCF\u4E2A\u5206\u7247\u65F6\uFF0C\u53EF\u4EE5\u56DE\u590D\u4E00\u4E2A\u786E\u8BA4\u6D88\u606F\u7ED9\u5BA2\u6237\u7AEF\u3002\u5BA2\u6237\u7AEF\u6839\u636E\u670D\u52A1\u5668\u7684\u786E\u8BA4\u6D88\u606F\u6765\u66F4\u65B0\u4E0A\u4F20\u72B6\u6001\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5F53\u5BA2\u6237\u7AEF\u6536\u5230\u670D\u52A1\u5668\u5BF9\u6240\u6709\u5206\u7247\u7684\u786E\u8BA4\u540E\uFF0C\u53EF\u4EE5\u786E\u5B9A\u6587\u4EF6\u4E0A\u4F20\u5B8C\u6574\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p1-large-file-optimization",children:"\u524D\u7AEF\u9700\u8981\u52A0\u8F7D\u4E00\u4E2A\u5927\u4F53\u79EF\u7684\u6587\u4EF6\u65F6\uFF0C \u4E00\u822C\u6709\u54EA\u4E9B\u4F18\u5316\u601D\u8DEF"}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u524D\u7AEF\u9700\u8981\u52A0\u8F7D\u5927\u4F53\u79EF\u6587\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u4ECE\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u9762\u8FDB\u884C\u4F18\u5316\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E00\u3001\u6587\u4EF6\u538B\u7F29"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u670D\u52A1\u5668\u7AEF\u538B\u7F29"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u670D\u52A1\u5668\u4E0A\u914D\u7F6E\u6587\u4EF6\u538B\u7F29\u529F\u80FD\uFF0C\u5982\u4F7F\u7528 Gzip \u6216 Brotli \u538B\u7F29\u7B97\u6CD5\u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29\u540E\u518D\u4F20\u8F93\u3002\u8FD9\u6837\u53EF\u4EE5\u663E\u8457\u51CF\u5C11\u6587\u4EF6\u7684\u5927\u5C0F\uFF0C\u964D\u4F4E\u4F20\u8F93\u65F6\u95F4\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u5728 Nginx \u670D\u52A1\u5668\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u5F00\u542F Gzip \u538B\u7F29\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"gzip on;\ngzip_comp_level 6;\ngzip_types text/plain text/css application/JavaScript application/json image/svg+xml;\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5BA2\u6237\u7AEF\u89E3\u538B\u7F29"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u73B0\u4EE3\u6D4F\u89C8\u5668\u901A\u5E38\u652F\u6301\u5BF9 Gzip \u548C Brotli \u538B\u7F29\u7684\u6587\u4EF6\u8FDB\u884C\u81EA\u52A8\u89E3\u538B\u7F29\u3002\u5F53\u6D4F\u89C8\u5668\u63A5\u6536\u5230\u538B\u7F29\u540E\u7684\u6587\u4EF6\u65F6\uFF0C\u4F1A\u81EA\u52A8\u89E3\u538B\u7F29\u5E76\u4F7F\u7528\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u65E0\u9700\u989D\u5916\u7684\u5BA2\u6237\u7AEF\u4EE3\u7801\uFF0C\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u5904\u7406\u538B\u7F29\u6587\u4EF6\u7684\u89E3\u538B\u7F29\u8FC7\u7A0B\uFF0C\u63D0\u9AD8\u6587\u4EF6\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E8C\u3001\u6587\u4EF6\u5206\u5272\u4E0E\u61D2\u52A0\u8F7D"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6587\u4EF6\u5206\u5272"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5C06\u5927\u4F53\u79EF\u6587\u4EF6\u5206\u5272\u6210\u591A\u4E2A\u8F83\u5C0F\u7684\u6587\u4EF6\u3002\u4F8B\u5982\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u5927\u578B\u7684 JavaScript \u5E93\uFF0C\u53EF\u4EE5\u5C06\u5176\u62C6\u5206\u6210\u591A\u4E2A\u6A21\u5757\uFF0C\u6839\u636E\u9700\u8981\u9010\u6B65\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u4E00\u6B21\u6027\u52A0\u8F7D\u6574\u4E2A\u5927\u6587\u4EF6\uFF0C\u51CF\u5C11\u521D\u59CB\u52A0\u8F7D\u65F6\u95F4\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u4F7F\u7528 Webpack \u7B49\u6784\u5EFA\u5DE5\u5177\u53EF\u4EE5\u5C06\u4EE3\u7801\u5206\u5272\u6210\u591A\u4E2A chunk\uFF0C\u6839\u636E\u8DEF\u7531\u6216\u7279\u5B9A\u6761\u4EF6\u8FDB\u884C\u52A0\u8F7D\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u61D2\u52A0\u8F7D"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5BF9\u4E8E\u4E0D\u662F\u7ACB\u5373\u9700\u8981\u7684\u6587\u4EF6\u6216\u8D44\u6E90\uFF0C\u53EF\u4EE5\u91C7\u7528\u61D2\u52A0\u8F7D\u7684\u65B9\u5F0F\u3002\u5F53\u7528\u6237\u5B9E\u9645\u9700\u8981\u4F7F\u7528\u8BE5\u8D44\u6E90\u65F6\uFF0C\u518D\u8FDB\u884C\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u5BF9\u4E8E\u56FE\u7247\u3001\u89C6\u9891\u7B49\u8D44\u6E90\uFF0C\u53EF\u4EE5\u5728\u7528\u6237\u6EDA\u52A8\u5230\u53EF\u89C6\u533A\u57DF\u65F6\u518D\u8FDB\u884C\u52A0\u8F7D\uFF0C\u907F\u514D\u5728\u9875\u9762\u521D\u59CB\u52A0\u8F7D\u65F6\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5BF9\u4E8E JavaScript \u6A21\u5757\uFF0C\u53EF\u4EE5\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\uFF08dynamic import\uFF09\u7684\u65B9\u5F0F\u5B9E\u73B0\u61D2\u52A0\u8F7D\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const loadModule = async () => {\n  const module = await import('./largeModule.js')\n// \u4F7F\u7528\u52A0\u8F7D\u7684\u6A21\u5757\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E09\u3001\u7F13\u5B58\u7B56\u7565"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6D4F\u89C8\u5668\u7F13\u5B58"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8BBE\u7F6E\u5408\u7406\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u8BA9\u6D4F\u89C8\u5668\u7F13\u5B58\u5DF2\u7ECF\u52A0\u8F7D\u8FC7\u7684\u6587\u4EF6\u3002\u8FD9\u6837\uFF0C\u5F53\u7528\u6237\u518D\u6B21\u8BBF\u95EE\u65F6\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u6587\u4EF6\uFF0C\u800C\u65E0\u9700\u518D\u6B21\u4ECE\u670D\u52A1\u5668\u4E0B\u8F7D\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E HTTP \u54CD\u5E94\u5934\u6765\u63A7\u5236\u7F13\u5B58\uFF0C\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:'location / {\nadd_header Cache-Control "max-age=3600";\n}\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E0A\u8FF0\u914D\u7F6E\u5C06\u8BBE\u7F6E\u6587\u4EF6\u7684\u7F13\u5B58\u65F6\u95F4\u4E3A 1 \u5C0F\u65F6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7F13\u5B58\u66F4\u65B0\u673A\u5236"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5F53\u6587\u4EF6\u5185\u5BB9\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u9700\u8981\u786E\u4FDD\u6D4F\u89C8\u5668\u80FD\u591F\u83B7\u53D6\u5230\u6700\u65B0\u7684\u7248\u672C\u3002\u53EF\u4EE5\u901A\u8FC7\u5728\u6587\u4EF6\u540D\u4E2D\u6DFB\u52A0\u7248\u672C\u53F7\u6216\u54C8\u5E0C\u503C\u6765\u5B9E\u73B0\u7F13\u5B58\u66F4\u65B0\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u4F8B\u5982\uFF0C\u5C06\u6587\u4EF6\u540D\u6539\u4E3A",(0,l.jsx)(e.code,{children:"largeFile_v1.2.js"}),"\u6216",(0,l.jsx)(e.code,{children:"largeFile_abc123.js"}),"\uFF0C\u5F53\u6587\u4EF6\u5185\u5BB9\u53D8\u5316\u65F6\uFF0C\u66F4\u65B0\u7248\u672C\u53F7\u6216\u54C8\u5E0C\u503C\uFF0C\u6D4F\u89C8\u5668\u4F1A\u8BA4\u4E3A\u8FD9\u662F\u4E00\u4E2A\u65B0\u7684\u6587\u4EF6\u5E76\u8FDB\u884C\u4E0B\u8F7D\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u56DB\u3001\u4F18\u5316\u52A0\u8F7D\u987A\u5E8F"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u952E\u8D44\u6E90\u4F18\u5148\u52A0\u8F7D"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u786E\u5B9A\u54EA\u4E9B\u8D44\u6E90\u662F\u9875\u9762\u52A0\u8F7D\u7684\u5173\u952E\u8D44\u6E90\uFF0C\u4F18\u5148\u52A0\u8F7D\u8FD9\u4E9B\u8D44\u6E90\u3002\u5BF9\u4E8E\u5927\u4F53\u79EF\u6587\u4EF6\uFF0C\u5982\u679C\u4E0D\u662F\u5173\u952E\u8D44\u6E90\uFF0C\u53EF\u4EE5\u5EF6\u8FDF\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u56FE\u7247\u5E93\u5E94\u7528\uFF0C\u5148\u52A0\u8F7D\u9875\u9762\u7684\u57FA\u672C\u7ED3\u6784\u548C\u5BFC\u822A\u90E8\u5206\uFF0C\u56FE\u7247\u53EF\u4EE5\u5728\u7528\u6237\u4EA4\u4E92\u65F6\u518D\u8FDB\u884C\u52A0\u8F7D\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5F02\u6B65\u52A0\u8F7D"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528\u5F02\u6B65\u52A0\u8F7D\u7684\u65B9\u5F0F\u52A0\u8F7D\u5927\u4F53\u79EF\u6587\u4EF6\u3002\u4F8B\u5982\uFF0C\u5BF9\u4E8E JavaScript \u6587\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(e.code,{children:"<script async>"}),"\u6807\u7B7E\u6216\u52A8\u6001\u521B\u5EFA",(0,l.jsx)(e.code,{children:"<script>"}),"\u6807\u7B7E\u5E76\u63D2\u5165\u5230\u9875\u9762\u4E2D\u8FDB\u884C\u5F02\u6B65\u52A0\u8F7D\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'\n<script async src="largeScript.js"><\/script>\n\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u963B\u585E\u9875\u9762\u7684\u6E32\u67D3\uFF0C\u63D0\u9AD8\u7528\u6237\u4F53\u9A8C\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4E94\u3001CDN \u52A0\u901F"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u5185\u5BB9\u5206\u53D1\u7F51\u7EDC\uFF08CDN\uFF09"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5C06\u5927\u4F53\u79EF\u6587\u4EF6\u6258\u7BA1\u5728 CDN \u4E0A\uFF0C\u5229\u7528 CDN \u7684\u5206\u5E03\u5F0F\u8282\u70B9\uFF0C\u53EF\u4EE5\u8BA9\u7528\u6237\u4ECE\u79BB\u81EA\u5DF1\u6700\u8FD1\u7684\u8282\u70B9\u83B7\u53D6\u6587\u4EF6\uFF0C\u51CF\u5C11\u7F51\u7EDC\u5EF6\u8FDF\uFF0C\u63D0\u9AD8\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982\uFF0C\u5C06\u56FE\u7247\u3001\u89C6\u9891\u3001\u9759\u6001\u6587\u4EF6\u7B49\u6258\u7BA1\u5728 CDN \u4E0A\uFF0C\u901A\u8FC7 CDN \u7684 URL \u8FDB\u884C\u8BBF\u95EE\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"CDN \u7F13\u5B58"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"CDN \u901A\u5E38\u4F1A\u5BF9\u6587\u4EF6\u8FDB\u884C\u7F13\u5B58\uFF0C\u8FDB\u4E00\u6B65\u63D0\u9AD8\u6587\u4EF6\u7684\u52A0\u8F7D\u901F\u5EA6\u3002\u5F53\u6587\u4EF6\u5185\u5BB9\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u9700\u8981\u53CA\u65F6\u66F4\u65B0 CDN \u4E0A\u7684\u7F13\u5B58\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E CDN \u7684\u7F13\u5B58\u7B56\u7565\u6216\u4F7F\u7528\u7248\u672C\u53F7\u7B49\u65B9\u5F0F\u6765\u7BA1\u7406 CDN \u7F13\u5B58\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p2-calculate-the-length-of-a-piece-of-text-after-rendering",children:"\u8BA1\u7B97\u4E00\u6BB5\u6587\u672C\u6E32\u67D3\u4E4B\u540E\u7684\u957F\u5EA6"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u8FFD\u52A0\u63CF\u8FF0\n\u9700\u8981\u6839\u636E\u8FD9\u4E2A\u957F\u5EA6\u6765\u52A8\u6001\u8BA1\u7B97\u6587\u672C\u662F\u5426\u6298\u53E0\uFF0C \u6240\u4EE5\u8FD9\u4E2A\u6587\u672C\u6CA1\u6709\u8BA1\u7B97\u51FA\u957F\u5EA6\u662F\u5426\u6298\u53E0\u4E4B\u524D\uFF0C\u8FD8\u4E0D\u80FD\u5728\u7528\u6237\u53EF\u89C6\u533A\u57DF\u6E32\u67D3\u51FA\u6765"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u5728 JavaScript \u4E2D\u8BA1\u7B97\u4E00\u6BB5\u6587\u672C\u6E32\u67D3\u4E4B\u540E\u7684\u957F\u5EA6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51E0\u79CD\u65B9\u6CD5\u6765\u5B9E\u73B0\u3002\u8FD9\u91CC\u7684\u201C\u957F\u5EA6\u201D\u53EF\u4EE5\u662F\u6587\u672C\u6E32\u67D3\u540E\u7684\u50CF\u7D20\u5BBD\u5EA6\uFF0C\u5B83\u53D6\u51B3\u4E8E\u5177\u4F53\u7684\u5B57\u4F53\u3001\u5B57\u53F7\u3001\u6587\u672C\u5185\u5BB9\u7B49\u56E0\u7D20\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u53EF\u884C\u7684\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u5143\u7D20\u6765\u8BA1\u7B97\u6587\u672C\u5C3A\u5BF8"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u4E2A\u65B9\u6CD5\u6D89\u53CA\u5230\u521B\u5EFA\u4E00\u4E2A\u4E0E\u76EE\u6807\u6587\u672C\u62E5\u6709\u76F8\u540C\u6837\u5F0F\uFF08\u5B57\u4F53\u3001\u5B57\u53F7\u7B49\uFF09\u7684\u4E34\u65F6 DOM \u5143\u7D20\uFF0C\u5C06\u76EE\u6807\u6587\u672C\u5185\u5BB9\u8BBE\u7F6E\u5230\u4E34\u65F6\u5143\u7D20\u4E2D\uFF0C\u7136\u540E\u63D2\u5165\u5230\u6587\u6863\u6D41\uFF08\u4E0D\u53EF\u89C1\u72B6\u6001\u4E0B\uFF09\u6765\u6D4B\u91CF\u5176\u5C3A\u5BF8\u3002\u6D4B\u91CF\u5B8C\u6210\u540E\uFF0C\u518D\u4ECE\u6587\u6863\u4E2D\u79FB\u9664\u8BE5\u4E34\u65F6\u5143\u7D20\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function getTextWidth (text, font) {\n  // \u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u7684span\u5143\u7D20\n  const tempEl = document.createElement('span')\n  tempEl.style.visibility = 'hidden' // \u786E\u4FDD\u5143\u7D20\u4E0D\u53EF\u89C1\n  tempEl.style.whiteSpace = 'nowrap' // \u9632\u6B62\u6587\u672C\u6362\u884C\n  tempEl.style.font = font // \u5E94\u7528\u5B57\u4F53\u6837\u5F0F\n  tempEl.textContent = text\n\n  document.body.appendChild(tempEl)\n  const width = tempEl.offsetWidth // \u83B7\u53D6\u5143\u7D20\u7684\u5BBD\u5EA6\n  document.body.removeChild(tempEl)\n\n  return width\n}\n\n// \u793A\u4F8B\u7528\u6CD5\nconst font = '16px Arial'\nconst text = '\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u672C'\nconsole.log(getTextWidth(text, font))\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 Canvas \u7684 measureText \u65B9\u6CD5"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u4F60\u4E0D\u60F3\u4E0E DOM \u6253\u4EA4\u9053\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 Canvas \u7684 API \u6765\u6D4B\u91CF\u6587\u672C\u5BBD\u5EA6\u3002",(0,l.jsx)(e.code,{children:"CanvasRenderingContext2D.measureText()"})," \u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u5305\u542B\u4E86\u7ED9\u5B9A\u6587\u672C\u6E32\u67D3\u540E\u7684\u5BBD\u5EA6\uFF08\u4EE5\u50CF\u7D20\u4E3A\u5355\u4F4D\uFF09\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function measureTextWidth (text, font) {\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n  ctx.font = font // \u5E94\u7528\u5B57\u4F53\u6837\u5F0F\uFF0C\u683C\u5F0F\u4E0E CSS font \u5C5E\u6027\u76F8\u540C\n  const metrics = ctx.measureText(text)\n  return metrics.width\n}\n\n// \u793A\u4F8B\u7528\u6CD5\nconst font = '16px Arial'\nconst text = '\u8FD9\u662F\u4E00\u6BB5\u6D4B\u8BD5\u6587\u672C'\nconsole.log(measureTextWidth(text, font))\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5C3D\u91CF\u5728\u6587\u6863\u52A0\u8F7D\u5B8C\u6BD5\u540E\u4F7F\u7528\u8FD9\u4E9B\u65B9\u6CD5\uFF0C\u7279\u522B\u662F\u5982\u679C\u4F60\u4F9D\u8D56\u4E8E\u9875\u9762\u4E0A\u7684\u6837\u5F0F\u4FE1\u606F\u65F6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u6587\u672C\u5728\u9875\u9762\u4E0A\u591A\u6B21\u51FA\u73B0\u4E14\u6837\u5F0F\u4E00\u81F4\uFF0C\u53EF\u4EE5\u8003\u8651\u7F13\u5B58\u6D4B\u91CF\u7ED3\u679C\u6765\u63D0\u5347\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p3-long-text-scene-middle-display-ellipsis-in-two-directions-normal-display",children:"\u957F\u6587\u672C\u573A\u666F\uFF0C\u4E2D\u95F4\u663E\u793A\u7701\u7565\u53F7..., \u4E24\u7AEF\u6B63\u5E38\u5C55\u793A"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u524D\u7AEF\u5904\u7406\u957F\u6587\u672C\u4E14\u9700\u8981\u5728\u4E2D\u95F4\u663E\u793A\u7701\u7565\u53F7\uFF08...\uFF09\uFF0C\u4E24\u7AEF\u4FDD\u7559\u5B8C\u6574\u6587\u672C\u7684\u60C5\u51B5\uFF0C\u901A\u5E38\u6709\u4E0B\u9762\u51E0\u79CD\u65B9\u6CD5\u53EF\u4EE5\u8FBE\u5230\u6548\u679C\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u7EAF CSS \u89E3\u51B3\u65B9\u6848\uFF08\u5BF9\u4E8E\u5355\u884C\u6587\u672C\uFF09"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5BF9\u4E8E\u5355\u884C\u7684\u6587\u672C\uFF0C\u53EF\u4EE5\u4F7F\u7528 CSS \u7684",(0,l.jsx)(e.code,{children:"text-overflow"}),"\u5C5E\u6027\u6765\u5B9E\u73B0\uFF0C\u4F46\u8FD9\u79CD\u65B9\u6CD5\u4E00\u822C\u53EA\u80FD\u5B9E\u73B0\u672B\u5C3E\u7684\u7701\u7565\u53F7\uFF0C\u65E0\u6CD5\u76F4\u63A5\u5B9E\u73B0\u4E2D\u95F4\u7701\u7565\u7684\u6548\u679C\u3002"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"JavaScript + CSS"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u9700\u8981\u5728\u6587\u672C\u4E2D\u95F4\u663E\u793A\u7701\u7565\u53F7\u65F6\uFF0C\u5C31\u9700\u8981\u7ED3\u5408\u4F7F\u7528 JavaScript \u548C CSS \u6765\u5904\u7406\u3002\u4EE5\u4E0B\u662F\u4E00\u79CD\u53EF\u80FD\u7684\u5B9E\u73B0\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u786E\u5B9A\u4FDD\u7559\u6587\u672C\u7684\u957F\u5EA6\u3002"})," \u9996\u5148\u786E\u5B9A\u9700\u8981\u5728\u6587\u672C\u7684\u5F00\u59CB\u548C\u7ED3\u675F\u4FDD\u7559\u591A\u5C11\u5B57\u7B26\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 JavaScript \u8BA1\u7B97\u5E76\u5904\u7406\u6587\u672C\u3002"})," \u6839\u636E\u4E0A\u9762\u786E\u5B9A\u7684\u957F\u5EA6\uFF0C\u4F7F\u7528 JavaScript \u622A\u53D6\u5B57\u7B26\u4E32\uFF0C\u5E76\u6DFB\u52A0\u7701\u7565\u53F7\u3002"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 CSS \u6765\u4FDD\u8BC1\u6587\u672C\u7684\u7F8E\u89C2\u5C55\u793A\u3002"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n <head>\n <meta charset="UTF-8" />\n <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n <title>Document</title>\n <style>\n .text-container {\n width: 60%;\n white-space: nowrap;\n overflow: hidden;\n text-overflow: ellipsis;\n margin: 20px auto;\n }\n </style>\n </head>\n <body>\n <div id="text" class="text-container">\n \x3c!-- \u52A8\u6001\u751F\u6210\u7684\u6587\u672C\u4F1A\u653E\u5728\u8FD9\u91CC --\x3e\n </div>\n\n <script>\n function truncateText(selector, text, frontLen, backLen) {\n const totalLen = frontLen + backLen;\n if (text.length > totalLen) {\n const startText = text.substr(0, frontLen);\n const endText = text.substr(-backLen);\n document.querySelector(selector).textContent = `${startText}...${endText}`;\n } else {\n document.querySelector(selector).textContent = text;\n }\n }\n\n const exampleText = "\u8FD9\u662F\u4E00\u4E2A\u957F\u6587\u672C\u793A\u4F8B\uFF0C\u9700\u8981\u5728\u4E2D\u95F4\u663E\u793A\u7701\u7565\u53F7\uFF0C\u540C\u65F6\u4FDD\u7559\u4E24\u7AEF\u7684\u6587\u672C\u5185\u5BB9\u3002";\n truncateText("#text", exampleText, 10, 10);\n <\/script>\n </body>\n</html>\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"truncateText"}),"\u51FD\u6570\u63A5\u6536\u4E00\u4E2A\u9009\u62E9\u5668\uFF08\u5728\u8FD9\u91CC\u662F\u6307\u5BB9\u5668\u7684 ID\uFF09\u3001\u8981\u5904\u7406\u7684\u6587\u672C\u3001\u524D\u7AEF\u548C\u540E\u7AEF\u5E94\u4FDD\u7559\u6587\u672C\u7684\u957F\u5EA6\u3002\u51FD\u6570\u8BA1\u7B97\u5E76\u751F\u6210\u4E86\u65B0\u7684\u6587\u672C\u5185\u5BB9\uFF0C\u5176\u4E2D\u95F4\u90E8\u5206\u88AB\u7701\u7565\u53F7\uFF08...\uFF09\u66FF\u4EE3\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u4E2A\u65B9\u6CD5\u7ED9\u4E88\u4E86\u4F60\u7075\u6D3B\u6027\u53BB\u786E\u5B9A\u524D\u540E\u7AEF\u4FDD\u7559\u7684\u6587\u672C\u957F\u5EA6\uFF0C\u4EE5\u53CA\u7701\u7565\u7684\u90E8\u5206\u3002\u4F46\u9700\u8981\u6CE8\u610F\uFF0C\u8FD9\u662F\u9488\u5BF9\u7B80\u5355\u573A\u666F\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u5BF9\u4E8E\u66F4\u590D\u6742\u7684\u5E03\u5C40\u6216\u7279\u6B8A\u5B57\u4F53\uFF0C\u53EF\u80FD\u9700\u8981\u66F4\u7EC6\u81F4\u7684\u5904\u7406\u6765\u4FDD\u8BC1\u826F\u597D\u7684\u663E\u793A\u6548\u679C\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5176\u4ED6\u590D\u6742\u5B9E\u73B0\u53EF\u4EE5\u53C2\u8003\u4E0B\u9762\u7684\u6587\u6863"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7329967013923962895",children:"\u8D44\u6599"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u8981\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\u8BE5\u5982\u4F55\u505A",children:"\u8981\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\uFF0C\u8BE5\u5982\u4F55\u505A"}),"\n",(0,l.jsxs)(e.p,{children:["\u8981\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\uFF0C\u53EF\u4EE5\u5229\u7528 JavaScript \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"resize"})," \u4E8B\u4EF6\u3002\u5F53\u6D4F\u89C8\u5668\u7A97\u53E3\u5C3A\u5BF8\u53D8\u5316\u65F6\uFF0C\u6B64\u4E8B\u4EF6\u4F1A\u88AB\u89E6\u53D1\u3002\u901A\u8FC7\u4FA6\u542C\u6B64\u4E8B\u4EF6\uFF0C\u53EF\u4EE5\u5B9E\u65F6\u83B7\u53D6\u5E76\u5904\u7406\u6D4F\u89C8\u5668\u7A97\u53E3\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u57FA\u7840\u793A\u4F8B"}),"\n",(0,l.jsxs)(e.p,{children:["\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF0C\u5C55\u793A\u5982\u4F55\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"resize"})," \u4E8B\u4EF6\u6765\u83B7\u53D6\u5E76\u6253\u5370\u5F53\u524D\u6D4F\u89C8\u5668\u7A97\u53E3\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\u6765\u5904\u7406\u7A97\u53E3\u5927\u5C0F\u53D8\u5316\nfunction handleResize () {\n  const width = window.innerWidth\n  const height = window.innerHeight\n  console.log(`\u5F53\u524D\u7A97\u53E3\u5927\u5C0F\uFF1A\u5BBD\u5EA6 = ${width}, \u9AD8\u5EA6 = ${height}`)\n}\n\n// \u5728\u7A97\u53E3 resize \u4E8B\u4EF6\u4E0A\u6DFB\u52A0\u76D1\u542C\u5668\nwindow.addEventListener('resize', handleResize)\n\n// \u521D\u59CB\u5316\u65F6\u6267\u884C\u4E00\u6B21\uFF0C\u786E\u4FDD\u83B7\u53D6\u521D\u59CB\u7A97\u53E3\u5927\u5C0F\nhandleResize()\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8282\u6D41\u4F18\u5316"}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u4F60\u62C5\u5FC3 ",(0,l.jsx)(e.code,{children:"resize"})," \u4E8B\u4EF6\u89E6\u53D1\u5F97\u592A\u9891\u7E41\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u9875\u9762\u6027\u80FD\uFF0C\u53EF\u4EE5\u5F15\u5165\u201C\u8282\u6D41\u201D\uFF08throttle\uFF09\u673A\u5236\u6765\u9650\u5236\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7684\u6267\u884C\u9891\u7387\u3002\u8282\u6D41\u786E\u4FDD\u4E86\u5373\u4F7F\u4E8B\u4EF6\u6301\u7EED\u89E6\u53D1\uFF0C\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E5F\u53EA\u5728\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\u6267\u884C\u4E00\u6B21\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u5982\u4F55\u5E94\u7528\u8282\u6D41\u4F18\u5316\u7684\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function throttle (fn, wait) {\n  let inThrottle, lastFn, lastTime\n  return function () {\n    const context = this\n    const args = arguments\n    if (!inThrottle) {\n      fn.apply(context, args)\n      lastTime = Date.now()\n      inThrottle = true\n    } else {\n      clearTimeout(lastFn)\n      lastFn = setTimeout(function () {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args)\n          lastTime = Date.now()\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0))\n    }\n  }\n}\n\n// \u4F7F\u7528\u8282\u6D41\u51FD\u6570\u5305\u88C5\u6211\u4EEC\u7684\u5904\u7406\u5668\nconst throttledHandleResize = throttle(handleResize, 100)\n\n// \u6DFB\u52A0\u8282\u6D41\u5316\u7684\u4E8B\u4EF6\u76D1\u542C\nwindow.addEventListener('resize', throttledHandleResize)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A ",(0,l.jsx)(e.code,{children:"throttle"})," \u51FD\u6570\u901A\u8FC7\u786E\u4FDD\u88AB\u5305\u88C5\u7684 ",(0,l.jsx)(e.code,{children:"handleResize"})," \u51FD\u6570\u5728\u6307\u5B9A\u7684\u65F6\u95F4\u95F4\u9694\uFF08\u672C\u4F8B\u4E2D\u4E3A 100 \u6BEB\u79D2\uFF09\u5185\u6700\u591A\u53EA\u6267\u884C\u4E00\u6B21\uFF0C\u6765\u51CF\u5C11 ",(0,l.jsx)(e.code,{children:"resize"})," \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7684\u8C03\u7528\u9891\u7387\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5E94\u7528\u573A\u666F"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u6837\u5B9E\u65F6\u7EDF\u8BA1\u7528\u6237\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\u7684\u65B9\u6CD5\u53EF\u4EE5\u7528\u4E8E\u591A\u79CD\u5E94\u7528\u573A\u666F\uFF0C\u5982\u54CD\u5E94\u5F0F\u5E03\u5C40\u8C03\u6574\u3001\u57FA\u4E8E\u7A97\u53E3\u5927\u5C0F\u52A8\u6001\u52A0\u8F7D\u8D44\u6E90\u3001\u6216\u8005\u5176\u4ED6\u9700\u8981\u6839\u636E\u89C6\u7A97\u5927\u5C0F\u53D8\u5316\u8FDB\u884C\u8C03\u6574\u7684\u4EA4\u4E92\u6548\u679C\u5B9E\u73B0\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u65F6\uFF0C\u91CD\u8981\u7684\u662F\u5E73\u8861\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7684\u6267\u884C\u9891\u7387\u548C\u9875\u9762\u7684\u6027\u80FD\uFF0C\u7279\u522B\u662F\u5F53\u4F60\u7684\u7A97\u53E3\u5927\u5C0F\u8C03\u6574\u5904\u7406\u51FD\u6570\u4E2D\u5305\u542B\u590D\u6742\u64CD\u4F5C\u65F6\u3002\u901A\u8FC7\u5408\u7406\u5229\u7528\u201C\u8282\u6D41\u201D\u6216\u201C\u9632\u6296\u201D\uFF08debounce\uFF09\u6280\u672F\uFF0C\u53EF\u4EE5\u6709\u6548\u5730\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p2-mouse-drag",children:"\u5982\u4F55\u5B9E\u73B0\u9F20\u6807\u62D6\u62FD"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u952E\u8BCD"}),"\uFF1A\u62D6\u62FD api\u3001",(0,l.jsx)(e.code,{children:"mousedown"}),"\u3001",(0,l.jsx)(e.code,{children:"mousemove"}),"\u548C",(0,l.jsx)(e.code,{children:"mouseup"}),"\u4E8B\u4EF6"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5B9E\u73B0\u9F20\u6807\u62D6\u62FD\u529F\u80FD\u901A\u5E38\u6D89\u53CA\u5230\u76D1\u542C\u548C\u5904\u7406\u9F20\u6807\u4E8B\u4EF6\uFF0C\u6BD4\u5982\uFF1A",(0,l.jsx)(e.code,{children:"mousedown"}),"\u3001",(0,l.jsx)(e.code,{children:"mousemove"}),"\u548C",(0,l.jsx)(e.code,{children:"mouseup"}),"\u4E8B\u4EF6\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u57FA\u672C\u7684\u6B65\u9AA4\u6307\u5357\u4EE5\u53CA\u4E00\u4E2A\u7B80\u6613\u7684\u793A\u4F8B\u4EE3\u7801\uFF08\u4F7F\u7528 HTML \u548C JavaScript\uFF09\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u5B9E\u73B0\u4E00\u4E2A\u5143\u7D20\u7684\u9F20\u6807\u62D6\u62FD\u529F\u80FD\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u57FA\u672C\u6B65\u9AA4"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:["\u76D1\u542C",(0,l.jsx)(e.code,{children:"mousedown"}),"\u4E8B\u4EF6\uFF1A"]})," \u5F53\u7528\u6237\u6309\u4E0B\u9F20\u6807\u6309\u94AE\u65F6\uFF0C\u8BB0\u5F55\u88AB\u62D6\u62FD\u5143\u7D20\u7684\u521D\u59CB\u4F4D\u7F6E\uFF0C\u5E76\u8BBE\u7F6E\u4E00\u4E2A\u6807\u5FD7\uFF08\u5982",(0,l.jsx)(e.code,{children:"isDragging"}),"\uFF09\u8868\u793A\u62D6\u62FD\u5F00\u59CB\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:["\u76D1\u542C",(0,l.jsx)(e.code,{children:"mousemove"}),"\u4E8B\u4EF6\uFF1A"]})," \u5F53\u7528\u6237\u79FB\u52A8\u9F20\u6807\u65F6\uFF0C\u5982\u679C\u62D6\u62FD\u5DF2\u5F00\u59CB\uFF0C\u5219\u6839\u636E\u9F20\u6807\u5F53\u524D\u4F4D\u7F6E\u548C\u521D\u59CB\u4F4D\u7F6E\u7684\u5DEE\u503C\uFF0C\u66F4\u65B0\u88AB\u62D6\u62FD\u5143\u7D20\u7684\u4F4D\u7F6E\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:["\u76D1\u542C",(0,l.jsx)(e.code,{children:"mouseup"}),"\u4E8B\u4EF6\uFF1A"]})," \u5F53\u7528\u6237\u91CA\u653E\u9F20\u6807\u6309\u94AE\u65F6\uFF0C\u6E05\u9664\u62D6\u62FD\u5F00\u59CB\u7684\u6807\u5FD7\uFF08\u5982",(0,l.jsx)(e.code,{children:"isDragging"}),"\uFF09\uFF0C\u8868\u793A\u62D6\u62FD\u7ED3\u675F\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u793A\u4F8B\u4EE3\u7801"}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u91CC\u662F\u4E00\u4E2A\u7B80\u5355\u7684 HTML \u548C JavaScript \u793A\u4F8B\uFF0C\u6F14\u793A\u4E86\u5982\u4F55\u8BA9\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"div"}),"\u5143\u7D20\u53EF\u62D6\u62FD\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n <head>\n <title>\u9F20\u6807\u62D6\u62FD\u793A\u4F8B</title>\n <style>\n #draggable {\n width: 100px;\n height: 100px;\n background-color: red;\n position: absolute;\n cursor: pointer;\n }\n </style>\n </head>\n <body>\n <div id="draggable"></div>\n\n <script>\n // \u83B7\u53D6\u5143\u7D20\n var draggable = document.getElementById("draggable");\n var isDragging = false;\n var offset = { x: 0, y: 0 };\n\n draggable.addEventListener("mousedown", function (e) {\n isDragging = true;\n offset.x = e.clientX - draggable.getBoundingClientRect().left;\n offset.y = e.clientY - draggable.getBoundingClientRect().top;\n });\n\n document.addEventListener("mousemove", function (e) {\n if (isDragging) {\n draggable.style.left = e.clientX - offset.x + "px";\n draggable.style.top = e.clientY - offset.y + "px";\n }\n });\n\n document.addEventListener("mouseup", function () {\n isDragging = false;\n });\n <\/script>\n </body>\n</html>\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8FD9\u4E2A\u793A\u4F8B\u4EC5\u4F5C\u4E3A\u6F14\u793A\u4F7F\u7528\uFF0C\u5B9E\u9645\u5E94\u7528\u53EF\u80FD\u9700\u8981\u66F4\u591A\u7684\u9519\u8BEF\u5904\u7406\u548C\u8FB9\u754C\u6761\u4EF6\u5224\u65AD\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u4E3A\u4E86\u9632\u6B62\u62D6\u62FD\u65F6\u7684\u6587\u672C\u9009\u4E2D\u73B0\u8C61\uFF0C\u53EF\u80FD\u9700\u8981\u76D1\u542C\u5E76\u963B\u6B62",(0,l.jsx)(e.code,{children:"mousemove"}),"\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u884C\u4E3A\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u8BB0\u5F97\u9644\u52A0\u9002\u5F53\u7684\u6837\u5F0F\uFF08\u5982",(0,l.jsx)(e.code,{children:"cursor: move;"}),"\uFF09\uFF0C\u63D0\u5347\u7528\u6237\u4F53\u9A8C\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6839\u636E\u4F60\u7684\u9700\u8981\uFF0C\u8FD9\u4E2A\u57FA\u672C\u7684\u903B\u8F91\u548C\u4EE3\u7801\u53EF\u4EE5\u8FDB\u884C\u8C03\u6574\u548C\u6269\u5C55\uFF0C\u4EE5\u5B9E\u73B0\u66F4\u590D\u6742\u7684\u62D6\u62FD\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p2-long-text-overflow",children:"\u957F\u6587\u672C\u6EA2\u51FA\uFF0C\u5C55\u5F00/\u6536\u8D77\u5982\u4F55\u5B9E\u73B0"}),"\n",(0,l.jsx)(e.p,{children:"\u957F\u6587\u672C\u6EA2\u51FA\u5C55\u5F00/\u6536\u8D77\u529F\u80FD\u901A\u5E38\u9700\u8981\u4F7F\u7528\u4E00\u4E9B JavaScript \u6765\u52A8\u6001\u63A7\u5236\u6587\u672C\u7684\u663E\u793A\u72B6\u6001\uFF0C\u53CA CSS \u6765\u5904\u7406\u6587\u672C\u7684\u9ED8\u8BA4\u663E\u793A\u6837\u5F0F\u3002\u4EE5\u4E0B\u662F\u4E00\u4E2A\u57FA\u672C\u5B9E\u73B0\u793A\u4F8B\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u7ED3\u5408 HTML\u3001CSS \u548C JavaScript \u6765\u5B9E\u73B0\u8FD9\u4E2A\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(e.p,{children:"HTML \u7ED3\u6784"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4EEC\u5B9A\u4E49\u4E00\u4E2A\u5BB9\u5668\u6765\u663E\u793A\u6587\u672C\uFF0C\u5E76\u6DFB\u52A0\u4E00\u4E2A\u7528\u4E8E\u89E6\u53D1\u5C55\u5F00/\u6536\u8D77\u64CD\u4F5C\u7684\u6309\u94AE\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<div id="textContainer" class="text-overflow">\n \u8FD9\u662F\u4E00\u6BB5\u53EF\u80FD\u5F88\u957F\u7684\u6587\u672C\uFF0C\u6211\u4EEC\u5E0C\u671B\u5728\u4E00\u5F00\u59CB\u65F6\u53EA\u663E\u793A\u90E8\u5206\uFF0C\u70B9\u51FB\u201C\u5C55\u5F00\u201D\u6309\u94AE\u540E\u663E\u793A\u5168\u90E8\u5185\u5BB9\uFF0C\u518D\u6B21\u70B9\u51FB\u5219\u201C\u6536\u8D77\u201D\u6587\u672C\u3002\n</div>\n<button id="toggleButton">\u5C55\u5F00</button>\n'})}),"\n",(0,l.jsx)(e.p,{children:"CSS \u6837\u5F0F"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 CSS \u8BBE\u7F6E\u6587\u672C\u7684\u9ED8\u8BA4\u663E\u793A\u72B6\u6001\u4E3A\u9690\u85CF\u8D85\u51FA\u90E8\u5206\uFF0C\u5E76\u4E14\u7528\u7701\u7565\u53F7\u8868\u793A\u6EA2\u51FA\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-css",children:".text-overflow {\n // \u8BBE\u7F6E\u4E00\u4E2A\u9AD8\u5EA6\u9650\u5236\uFF0C\u6A21\u62DF\u6587\u672C\u201C\u6536\u8D77\u201D\u65F6\u7684\u72B6\u6001 */\n max-height: 60px; // \u8FD9\u4E2A\u503C\u6839\u636E\u9700\u8981\u8C03\u6574 */\n overflow: hidden;\n position: relative;\n line-height: 20px; // \u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8C03\u6574 */\n padding-right: 20px;\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"JavaScript \u4EE3\u7801"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 JavaScript \u6765\u63A7\u5236\u6587\u672C\u7684\u201C\u5C55\u5F00\u201D\u548C\u201C\u6536\u8D77\u201D\u72B6\u6001\u3002\u6211\u4EEC\u76D1\u542C\u6309\u94AE\u7684\u70B9\u51FB\u4E8B\u4EF6\u6765\u5207\u6362\u6587\u672C\u7684\u663E\u793A\u72B6\u6001\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"document.getElementById('toggleButton').addEventListener('click', function () {\n  const textContainer = document.getElementById('textContainer')\n  const button = document.getElementById('toggleButton')\n\n  // \u68C0\u67E5\u5F53\u524D\u662F\u5C55\u5F00\u8FD8\u662F\u6536\u8D77\u72B6\u6001\n  if (button.textContent === '\u5C55\u5F00') {\n    // \u4FEE\u6539\u6587\u672C\u5BB9\u5668\u7684\u6700\u5927\u9AD8\u5EA6\u4EE5\u663E\u793A\u5168\u90E8\u6587\u672C\n    textContainer.style.maxHeight = 'none'\n    button.textContent = '\u6536\u8D77'\n  } else {\n    // \u91CD\u65B0\u8BBE\u7F6E\u6700\u5927\u9AD8\u5EA6\u4EE5\u9690\u85CF\u6587\u672C\n    textContainer.style.maxHeight = '60px' // \u4E0ECSS\u4E2D\u5B9A\u4E49\u7684\u76F8\u540C\n    button.textContent = '\u5C55\u5F00'\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u53EA\u662F\u5B9E\u73B0\u957F\u6587\u672C\u6EA2\u51FA\u5C55\u5F00/\u6536\u8D77\u7684\u4E00\u79CD\u57FA\u672C\u65B9\u6CD5\u3002\u6839\u636E\u5177\u4F53\u9700\u6C42\uFF0C\u8FD9\u4E2A\u793A\u4F8B\u53EF\u4EE5\u8FDB\u4E00\u6B65\u6269\u5C55\u6216\u4FEE\u6539\uFF0C\u6BD4\u5982\u6DFB\u52A0\u52A8\u753B\u6548\u679C\u4F7F\u5C55\u5F00/\u6536\u8D77\u64CD\u4F5C\u66F4\u5E73\u6ED1\uFF0C\u6216\u8005\u6839\u636E\u6587\u672C\u957F\u5EA6\u52A8\u6001\u51B3\u5B9A\u662F\u5426\u663E\u793A\u201C\u5C55\u5F00/\u6536\u8D77\u201D\u6309\u94AE\u7B49\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD8\u6709\u5176\u4ED6\u65B9\u6CD5\u53EF\u4EE5\u5B9E\u73B0\u8FD9\u4E00\u529F\u80FD\uFF0C\u5305\u62EC\u4F7F\u7528\u7EAF CSS \u7684\u6280\u5DE7\uFF08\u867D\u7136\u53EF\u80FD\u4E0D\u90A3\u4E48\u7075\u6D3B\uFF09\uFF0C\u6216\u8005\u5229\u7528\u73B0\u6210\u7684 JavaScript \u5E93\u548C\u6846\u67B6\u6765\u7B80\u5316\u5B9E\u73B0\u8FC7\u7A0B\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u66F4\u6709\u591A\u5B9E\u73B0\u7EC6\u8282\uFF0C \u53EF\u4EE5\u53C2\u8003\u4EE5\u4E0B\u6587\u6863"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7407259487193399333",children:"\u8D44\u6599"})}),"\n",(0,l.jsx)(e.h2,{id:"\u5728\u9875\u9762\u5173\u95ED\u65F6\u6267\u884C\u65B9\u6CD5\u8BE5\u5982\u4F55\u505A-p3-page-close-exe",children:"\u5728\u9875\u9762\u5173\u95ED\u65F6\u6267\u884C\u65B9\u6CD5\uFF0C\u8BE5\u5982\u4F55\u505A {#p3-page-close-exe"}),"\n",(0,l.jsx)(e.p,{children:"cute-method}"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u9875\u9762\u5173\u95ED\u65F6\u6267\u884C\u7279\u5B9A\u7684\u65B9\u6CD5\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"window"})," \u5BF9\u8C61\u7684 ",(0,l.jsx)(e.code,{children:"beforeunload"})," \u548C ",(0,l.jsx)(e.code,{children:"unload"})," \u4E8B\u4EF6\u3002\u4E0D\u8FC7\uFF0C\u8FD9\u4E24\u4E2A\u4E8B\u4EF6\u6709\u4E00\u4E9B\u5FAE\u5999\u7684\u533A\u522B\u548C\u9002\u7528\u573A\u666F\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"beforeunload"})," \u4E8B\u4EF6"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"beforeunload"})," \u4E8B\u4EF6\u5728\u7A97\u53E3\u3001\u6587\u6863\u6216\u5176\u8D44\u6E90\u5373\u5C06\u5378\u8F7D\u65F6\u89E6\u53D1\uFF0C\u8FD9\u4E00\u70B9\u8BA9\u5B83\u6210\u4E3A\u5728\u9875\u9762\u5173\u95ED\u524D\u63D0\u793A\u7528\u6237\u4FDD\u5B58\u672A\u4FDD\u5B58\u66F4\u6539\u7684\u7406\u60F3\u9009\u62E9\u3002\u5728\u7ED1\u5B9A\u5230\u8BE5\u4E8B\u4EF6\u7684\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u6267\u884C\u7279\u5B9A\u7684\u903B\u8F91\uFF0C\u4F46\u8BF7\u6CE8\u610F\uFF0C\u6309\u7167\u73B0\u4EE3\u6D4F\u89C8\u5668\u7684\u5B89\u5168\u7B56\u7565\uFF0C\u9664\u975E\u4F60\u8BBE\u7F6E\u4E86 ",(0,l.jsx)(e.code,{children:"event.returnValue"}),"\uFF0C\u5426\u5219\u4E0D\u4F1A\u663E\u793A\u81EA\u5B9A\u4E49\u7684\u79BB\u5F00\u63D0\u793A\u4FE1\u606F\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"window.addEventListener('beforeunload', (event) => {\n  // \u5728\u8FD9\u91CC\u6267\u884C\u4F60\u7684\u6E05\u7406\u903B\u8F91\u6216\u8005\u5176\u4ED6\u64CD\u4F5C\n  // \u4F8B\u5982\uFF0C\u53D1\u9001\u4E00\u4E2A\u7EDF\u8BA1\u65E5\u5FD7\n  navigator.sendBeacon('/log', '\u7528\u6237\u5373\u5C06\u79BB\u5F00\u9875\u9762')\n\n  // \u663E\u793A\u79BB\u5F00\u63D0\u793A\uFF08\u5927\u591A\u6570\u73B0\u4EE3\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u81EA\u5B9A\u4E49\u6587\u672C\uFF09\n  event.returnValue = '\u60A8\u786E\u5B9A\u8981\u79BB\u5F00\u6B64\u9875\u9762\u5417\uFF1F'\n})\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"unload"})," \u4E8B\u4EF6"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"unload"})," \u4E8B\u4EF6\u5728\u7528\u6237\u5373\u5C06\u4ECE\u9875\u9762\u5BFC\u822A\u8D70\uFF0C\u6216\u5173\u95ED\u9875\u9762\u65F6\u89E6\u53D1\u3002\u4F60\u53EF\u4EE5\u5728\u8FD9\u4E2A\u4E8B\u4EF6\u7684\u5904\u7406\u51FD\u6570\u4E2D\u6267\u884C\u4E0D\u80FD\u963B\u6B62\u9875\u9762\u5378\u8F7D\u7684\u6E05\u7406\u903B\u8F91\u3002\u4E0D\u8FC7\u9700\u8981\u6CE8\u610F\uFF0C\u8FD9\u4E2A\u4E8B\u4EF6\u7684\u6267\u884C\u65F6\u95F4\u975E\u5E38\u77ED\uFF0C\u67D0\u4E9B\u64CD\u4F5C\uFF08\u4F8B\u5982\u5F02\u6B65\u64CD\u4F5C\uFF09\u53EF\u80FD\u65E0\u6CD5\u5B8C\u6210\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"window.addEventListener('unload', (event) => {\n  // \u6267\u884C\u7B80\u77ED\u7684\u540C\u6B65\u64CD\u4F5C\uFF0C\u4F8B\u5982\u53D1\u9001\u7EDF\u8BA1\u4FE1\u606F\n  // \u6CE8\u610F\uFF1A\u8FD9\u79CD\u60C5\u51B5\u4E0B navigator.sendBeacon \u662F\u66F4\u597D\u7684\u9009\u62E9\n})\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"navigator.sendBeacon"})]}),"\n",(0,l.jsxs)(e.p,{children:["\u5BF9\u4E8E\u5728\u9875\u9762\u5378\u8F7D\u65F6\u9700\u8981\u53D1\u9001\u6570\u636E\u5230\u670D\u52A1\u5668\u7684\u60C5\u51B5\uFF0C\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"navigator.sendBeacon"})," \u65B9\u6CD5\u662F\u4E00\u79CD\u66F4\u53EF\u9760\u7684\u65B9\u5F0F\u3002\u5B83\u6709\u6548\u5730\u89E3\u51B3\u4E86\u901A\u8FC7\u5F02\u6B65 AJAX \u8BF7\u6C42\u53EF\u80FD\u5BFC\u81F4\u7684\u6570\u636E\u4E0D\u88AB\u9001\u51FA\u7684\u95EE\u9898\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"window.addEventListener('unload', (event) => {\n  navigator.sendBeacon('/log-out', '\u7528\u6237\u79BB\u5F00')\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4E0D\u662F\u6240\u6709\u6D4F\u89C8\u5668\u90FD\u5B8C\u5168\u4E00\u6837\u5730\u652F\u6301\u8FD9\u4E9B\u4E8B\u4EF6\u548C ",(0,l.jsx)(e.code,{children:"navigator.sendBeacon"})," \u65B9\u6CD5\u3002\u5B9E\u65BD\u65F6\u5E94\u5F53\u8003\u8651\u517C\u5BB9\u6027\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"beforeunload"})," \u548C ",(0,l.jsx)(e.code,{children:"unload"})," \u4E8B\u4EF6\u4E2D\u6267\u884C\u5927\u91CF\u7684\u540C\u6B65\u64CD\u4F5C\u6216\u957F\u65F6\u95F4\u8FD0\u884C\u7684\u811A\u672C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7528\u6237\u4F53\u9A8C\u4E0B\u964D\u3002\u63A8\u8350\u5C3D\u91CF\u4F7F\u7528\u7B80\u6D01\u5FEB\u901F\u7684\u903B\u8F91\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"beforeunload"})," \u4E8B\u4EF6\u53EF\u4EE5\u63A7\u5236\u662F\u5426\u63D0\u793A\u7528\u6237\u79BB\u5F00\u9875\u9762\u7684\u786E\u8BA4\u5BF9\u8BDD\u6846\uFF0C\u4F46\u81EA\u5B9A\u4E49\u7684\u786E\u8BA4\u5BF9\u8BDD\u6846\u4FE1\u606F\u53EF\u80FD\u4E0D\u88AB\u6240\u6709\u6D4F\u89C8\u5668\u652F\u6301\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"navigator.sendBeacon"})," \u6765\u53D1\u9001\u6570\u636E\u662F\u56E0\u4E3A\u5B83\u80FD\u5728\u8BF7\u6C42\u4E2D\u643A\u5E26\u8DB3\u591F\u7684\u6570\u636E\u91CF\uFF0C\u4E14\u5373\u4F7F\u9875\u9762\u5378\u8F7D\u8FC7\u7A0B\u4E2D\u4E5F\u80FD\u786E\u4FDD\u6570\u636E\u88AB\u53D1\u9001\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6839\u636E\u4F60\u7684\u5E94\u7528\u9700\u6C42\uFF0C\u9009\u62E9\u5408\u9002\u7684\u4E8B\u4EF6\u548C\u65B9\u6CD5\uFF0C\u786E\u4FDD\u9875\u9762\u5173\u95ED\u65F6\u80FD\u591F\u6267\u884C\u4F60\u7684\u903B\u8F91\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p2-big-file-slice-upload",children:"\u5927\u6587\u4EF6\u5207\u7247\u4E0A\u4F20\u7684\u65F6\u5019\uFF0C\u786E\u5B9A\u5207\u7247\u6570\u91CF\u7684\u65F6\u5019\uFF0C\u6709\u90A3\u4E9B\u8003\u91CF\u56E0\u7D20"}),"\n",(0,l.jsx)(e.p,{children:"\u5927\u6587\u4EF6\u5207\u7247\u4E0A\u4F20\u65F6\uFF0C\u5207\u7247\u6570\u91CF\u53D6\u51B3\u4E8E\u51E0\u4E2A\u5173\u952E\u56E0\u7D20\uFF1A\u6587\u4EF6\u603B\u5927\u5C0F\u3001\u6BCF\u4E2A\u5207\u7247\u7684\u5927\u5C0F\uFF08\u5373\u5207\u7247\u5927\u5C0F\uFF09\uFF0C\u4EE5\u53CA\u4EFB\u4F55\u7279\u5B9A\u4E8E\u5E94\u7528\u6216\u670D\u52A1\u7684\u9650\u5236\u3002\u8BA1\u7B97\u5207\u7247\u6570\u91CF\u7684\u8FC7\u7A0B\u5305\u62EC\u786E\u5B9A\u5408\u7406\u7684\u5207\u7247\u5927\u5C0F\uFF0C\u7136\u540E\u6839\u636E\u6587\u4EF6\u603B\u5927\u5C0F\u6765\u8BA1\u7B97\u9700\u8981\u591A\u5C11\u4E2A\u8FD9\u6837\u5927\u5C0F\u7684\u5207\u7247\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u6B65\u9AA4\u548C\u8003\u8651\u56E0\u7D20\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u4F60\u786E\u5B9A\u5207\u7247\u6570\u91CF\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u786E\u5B9A\u5207\u7247\u5927\u5C0F"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5207\u7247\u5927\u5C0F"}),"\uFF1A\u9996\u5148\uFF0C\u9700\u8981\u786E\u5B9A\u6BCF\u4E2A\u5207\u7247\u7684\u5927\u5C0F\u3002\u8FD9\u901A\u5E38\u662F\u4E00\u4E2A\u6743\u8861\u7684\u7ED3\u679C\uFF0C\u8003\u8651\u5230\u6548\u7387\u3001\u53EF\u9760\u6027\u548C\u670D\u52A1\u5668\u9650\u5236\u3002\u592A\u5C0F\u7684\u5207\u7247\u4F1A\u589E\u52A0\u8BF7\u6C42\u7684\u6570\u91CF\uFF0C\u964D\u4F4E\u6548\u7387\uFF1B\u800C\u592A\u5927\u7684\u5207\u7247\u53EF\u80FD\u4F1A\u589E\u52A0\u5355\u4E2A\u8BF7\u6C42\u5931\u8D25\u7684\u98CE\u9669\uFF0C\u5E76\u4E14\u5BF9\u4E8E\u6BCF\u6B21\u8BF7\u6C42\u6D88\u8017\u66F4\u591A\u7684\u5185\u5B58\u548C\u5E26\u5BBD\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u901A\u5E38\uFF0C\u5207\u7247\u5927\u5C0F\u9009\u53D6\u5728 ",(0,l.jsx)(e.code,{children:"1MB"})," \u81F3 ",(0,l.jsx)(e.code,{children:"10MB"})," \u4E4B\u95F4\u6BD4\u8F83\u5408\u9002\uFF0C\u5F53\u7136\u8FD9\u53D6\u51B3\u4E8E\u5177\u4F53\u5E94\u7528\u548C\u7F51\u7EDC\u73AF\u5883\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u8BA1\u7B97\u5207\u7247\u6570\u91CF"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6587\u4EF6\u603B\u5927\u5C0F"}),"\uFF1A\u77E5\u9053\u6587\u4EF6\u7684\u603B\u5927\u5C0F\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7B80\u5355\u7684\u6570\u5B66\u8BA1\u7B97\u6765\u51B3\u5B9A\u5207\u7247\u7684\u6570\u91CF\u3002\u516C\u5F0F\u5982\u4E0B\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"\u5207\u7247\u6570\u91CF = \u5411\u4E0A\u53D6\u6574\uFF08\u6587\u4EF6\u603B\u5927\u5C0F / \u6BCF\u4E2A\u5207\u7247\u7684\u5927\u5C0F\uFF09\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F8B\u5982\uFF0C\u5982\u679C\u6587\u4EF6\u662F ",(0,l.jsx)(e.code,{children:"50MB"}),"\uFF0C\u6BCF\u4E2A\u5207\u7247\u5927\u5C0F\u4E3A ",(0,l.jsx)(e.code,{children:"5MB"}),"\uFF0C\u5219\u5207\u7247\u6570\u91CF\u4E3A ",(0,l.jsx)(e.code,{children:"10"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u8003\u8651\u7279\u6B8A\u60C5\u51B5"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6700\u540E\u4E00\u4E2A\u5207\u7247\u53EF\u80FD\u4F1A\u5C0F\u4E8E\u4F60\u8BBE\u5B9A\u7684\u6807\u51C6\u5207\u7247\u5927\u5C0F\uFF0C\u8FD9\u662F\u6B63\u5E38\u60C5\u51B5\uFF0C\u9700\u8981\u5728\u4E0A\u4F20\u903B\u8F91\u4E2D\u8FDB\u884C\u5904\u7406\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"\u793A\u4F8B\u4EE3\u7801"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function calculateChunks (fileSize, chunkSize) {\n  // \u6587\u4EF6\u603B\u5927\u5C0F\uFF08byte\uFF09\uFF0C\u5207\u7247\u5927\u5C0F\uFF08byte\uFF09\n  const chunksCount = Math.ceil(fileSize / chunkSize)\n  return chunksCount\n}\n\n// \u793A\u4F8B\uFF1A\u6587\u4EF6\u5927\u5C0F 52MB\uFF0C\u5207\u7247\u5927\u5C0F 5MB\nconst fileSize = 5210241024 // 52MB\nconst chunkSize = 510241024 // 5MB\nconst chunksCount = calculateChunks(fileSize, chunkSize)\n\nconsole.log(`\u9700\u8981\u5207\u7247\u6570\u91CF: ${chunksCount}`)\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7F51\u7EDC\u6761\u4EF6"}),"\uFF1A\u5207\u7247\u5927\u5C0F\u53EF\u80FD\u9700\u8981\u6839\u636E\u7F51\u7EDC\u73AF\u5883\u8C03\u6574\u3002\u5728\u7F51\u7EDC\u6761\u4EF6\u8F83\u5DEE\u7684\u60C5\u51B5\u4E0B\uFF0C\u9009\u62E9\u66F4\u5C0F\u7684\u5207\u7247\u5927\u5C0F\u53EF\u80FD\u66F4\u52A0\u53EF\u9760\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u670D\u52A1\u5668\u9650\u5236"}),"\uFF1A\u67D0\u4E9B\u670D\u52A1\u5668\u6216\u4E91\u670D\u52A1\u53EF\u80FD\u5BF9\u4E0A\u4F20\u6587\u4EF6\u7684\u5927\u5C0F\u6709\u9650\u5236\u3002\u786E\u4FDD\u4E86\u89E3\u548C\u9075\u5B88\u8FD9\u4E9B\u9650\u5236\uFF0C\u4EE5\u907F\u514D\u4E0A\u4F20\u5931\u8D25\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5E76\u53D1\u4E0A\u4F20"}),"\uFF1A\u5728\u9009\u62E9\u5207\u7247\u5927\u5C0F\u548C\u6570\u91CF\u65F6\uFF0C\u8003\u8651\u662F\u5426\u4F1A\u5E76\u884C\u4E0A\u4F20\u591A\u4E2A\u5207\u7247\uFF0C\u56E0\u4E3A\u8FD9\u4E5F\u4F1A\u5F71\u54CD\u4E0A\u4F20\u901F\u5EA6\u548C\u6548\u7387\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0A\u6B65\u9AA4\u548C\u8003\u8651\u56E0\u7D20\uFF0C\u4F60\u53EF\u4EE5\u5408\u7406\u5730\u51B3\u5B9A\u5927\u6587\u4EF6\u4E0A\u4F20\u65F6\u7684\u5207\u7247\u6570\u91CF\uFF0C\u4EE5\u4F18\u5316\u4E0A\u4F20\u8FC7\u7A0B\u7684\u6548\u7387\u548C\u53EF\u9760\u6027\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p1-scroll-loading",children:"\u79FB\u52A8\u7AEF\u5982\u4F55\u5B9E\u73B0\u4E0B\u62C9\u6EDA\u52A8\u52A0\u8F7D\uFF08\u9876\u90E8\u52A0\u8F7D\uFF09"}),"\n",(0,l.jsx)(e.p,{children:"\u539F\u7406"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/506932c16c034452b90ae01decabf62c~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=825&h=359&s=455756&e=png&b=ffffff",alt:"prinple.png"})}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u56FE\u6240\u793A\uFF0C\u84DD\u8272\u6846\u4EE3\u8868\u89C6\u53E3\uFF0C\u7EFF\u8272\u6846\u4EE3\u8868\u5BB9\u5668\uFF0C\u6A59\u8272\u6846\u4EE3\u8868\u52A0\u8F7D\u52A8\u753B\u3002\u6700\u5F00\u59CB\u65F6\uFF0C\u52A0\u8F7D\u52A8\u753B\u5904\u4E8E\u89C6\u53E3\u5916\uFF1B\u5F00\u59CB\u4E0B\u62C9\u4E4B\u540E\uFF0C\u5BB9\u5668\u5411\u4E0B\u79FB\u52A8\uFF0C\u52A0\u8F7D\u52A8\u753B\u4ECE\u4E0A\u65B9\u8FDB\u5165\u89C6\u53E3\uFF1B\u7ED3\u675F\u4E0B\u62C9\u540E\uFF0C\u5BB9\u5668\u53C8\u5F00\u59CB\u5411\u4E0A\u79FB\u52A8\uFF0C\u52A0\u8F7D\u52A8\u753B\u4E5F\u4ECE\u4E0A\u65B9\u9000\u51FA\u89C6\u53E3\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u6838\u5FC3\u903B\u8F91"}),"\n",(0,l.jsx)(e.p,{children:"\u770B\u5B8C\u5E03\u5C40\u4EE3\u7801\uFF0C\u6211\u4EEC\u518D\u770B\u903B\u8F91\u4EE3\u7801\u3002\u903B\u8F91\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u8981\u76D1\u542C\u7528\u6237\u7684\u624B\u6307\u6ED1\u52A8\u3001\u5B9E\u73B0\u4E0B\u62C9\u624B\u52BF\u3002\u6211\u4EEC\u9700\u8981\u7528\u5230\u4E09\u4E2A\u4E8B\u4EF6\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/touchstart_event",children:"touchstart"})," \u4EE3\u8868\u89E6\u6478\u5F00\u59CB;"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/touchmove_event",children:"touchmove"})," \u4EE3\u8868\u89E6\u6478\u79FB\u52A8;"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/touchend_event",children:"touchend"})," \u4EE3\u8868\u89E6\u6478\u7ED3\u675F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4ECE ",(0,l.jsx)(e.code,{children:"touchstart"})," \u548C ",(0,l.jsx)(e.code,{children:"touchmove"})," \u4E8B\u4EF6\u4E2D\u6211\u4EEC\u53EF\u4EE5\u83B7\u53D6\u624B\u6307\u7684\u5750\u6807\uFF0C\u6BD4\u5982 ",(0,l.jsx)(e.code,{children:"event.touches[0].clientX"})," \u662F\u624B\u6307\u76F8\u5BF9\u89C6\u53E3\u5DE6\u8FB9\u7F18\u7684 X \u5750\u6807\uFF0C",(0,l.jsx)(e.code,{children:"event.touches[0].clientY"})," \u662F\u624B\u6307\u76F8\u5BF9\u89C6\u53E3\u4E0A\u8FB9\u7F18\u7684 Y \u5750\u6807\uFF1B\u4ECE ",(0,l.jsx)(e.code,{children:"touchend"})," \u4E8B\u4EF6\u4E2D\u6211\u4EEC\u5219\u65E0\u6CD5\u83B7\u5F97 ",(0,l.jsx)(e.code,{children:"clientX"})," \u548C ",(0,l.jsx)(e.code,{children:"clientY"}),"\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u4EEC\u53EF\u4EE5\u5148\u8BB0\u5F55\u7528\u6237\u624B\u6307 touchstart \u7684 clientY \u4F5C\u4E3A\u5F00\u59CB\u5750\u6807\uFF0C\u8BB0\u5F55\u7528\u6237\u6700\u540E\u4E00\u6B21\u89E6\u53D1 touchmove \u7684 clientY \u4F5C\u4E3A\u7ED3\u675F\u5750\u6807\uFF0C\u4E8C\u8005\u76F8\u51CF\u5C31\u5F97\u5230\u624B\u6307\u79FB\u52A8\u7684\u8DDD\u79BB distanceY\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8BBE\u7F6E\u624B\u6307\u79FB\u52A8\u591A\u5C11\u8DDD\u79BB\uFF0C\u5BB9\u5668\u5C31\u79FB\u52A8\u591A\u5C11\u8DDD\u79BB\uFF0C\u5C31\u5F97\u5230\u4E86\u6211\u4EEC\u7684\u903B\u8F91\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const box = document.getElementById('box')\nconst loader = document.getElementById('loader')\nlet startY = 0; let endY = 0; let distanceY = 0\n\nfunction start (e) {\n  startY = e.touches[0].clientY\n}\n\nfunction move (e) {\n  endY = e.touches[0].clientY\n  distanceY = endY - startY\n  box.style = `\n transform: translateY(${distanceY}px);\n transition: all 0.3s linear;\n `\n}\n\nfunction end () {\n  setTimeout(() => {\n    box.style = `\n transform: translateY(0);\n transition: all 0.3s linear;\n `\n    loader.className = 'loading'\n  }, 1000)\n}\n\nbox.addEventListener('touchstart', start)\nbox.addEventListener('touchmove', move)\nbox.addEventListener('touchend', end)\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u903B\u8F91\u4EE3\u7801\u5B9E\u73B0\u4E00\u4E2A\u7B80\u964B\u7684\u4E0B\u62C9\u6548\u679C\uFF0C\u5F53\u7136\u73B0\u5728\u8FD8\u6709\u5F88\u591A\u7F3A\u9677\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fdc67efc50947e8bceb590b1e4d3df5~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=375&h=400&s=204176&e=gif&f=48&b=efefef",alt:"pull-down-basic.gif"})}),"\n",(0,l.jsx)(e.p,{children:"\u5B58\u5728\u7684 6 \u4E2A\u4E2A\u7F3A\u9677"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6CA1\u6709\u6700\u5C0F\u3001\u6700\u5927\u8DDD\u79BB\u9650\u5236"}),"\n",(0,l.jsx)(e.li,{children:"\u52A0\u8F7D\u52A8\u753B\u6CA1\u6709\u505C\u7559\u5728\u89C6\u53E3\u9876\u90E8"}),"\n",(0,l.jsx)(e.li,{children:"\u91CD\u590D\u89E6\u53D1"}),"\n",(0,l.jsx)(e.li,{children:"\u6CA1\u6709\u9650\u5236\u65B9\u5411"}),"\n",(0,l.jsx)(e.li,{children:"\u6CA1\u6709\u963B\u6B62\u539F\u751F\u6EDA\u52A8"}),"\n",(0,l.jsx)(e.li,{children:"\u6CA1\u6709\u963B\u6B62 iOS \u6A61\u76AE\u7B4B\u6548\u679C"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-elevator-nav",children:"\uFF08\u7535\u68AF\u5BFC\u822A\uFF09\u8BE5\u5982\u4F55\u5B9E\u73B0"}),"\n",(0,l.jsx)(e.p,{children:"\u601D\u8DEF\u5F88\u7B80\u5355\uFF0C \u5229\u7528 scrollIntoView \u8FDB\u884C\u5BFC\u822A\u6EDA\u52A8\u3001\u5229\u7528 IntersectionObserver \u8FDB\u884C\u53EF\u89C6\u533A\u5224\u65AD\uFF1B"}),"\n",(0,l.jsx)(e.p,{children:"\u5177\u4F53\u5B9E\u73B0\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7B2C\u4E00\u6B65\uFF1A\u70B9\u51FB\u53F3\u8FB9\u7684\u5BFC\u822A\u83DC\u5355\uFF0C\u5229\u7528 scrollIntoView \u65B9\u6CD5\u4F7F\u5185\u5BB9\u533A\u57DF\u5BF9\u5E94\u7684\u5143\u7D20\u51FA\u73B0\u5728\u53EF\u89C6\u533A\u57DF\u4E2D\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const rightBox = document.querySelector('.rightBox')\nrightBox.addEventListener(\n  'click',\n  function (e) {\n    const target = e.target || e.srcElement\n    if (target && !target.classList.contains('rightBox')) {\n      document.querySelector('.' + target.className.replace('Li', '')).scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      })\n    }\n  },\n  false\n)\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7B2C\u4E8C\u6B65\uFF1A\u9875\u9762\u5BB9\u5668\u6EDA\u52A8\u65F6\uFF0C\u5F53\u76EE\u6807\u5143\u7D20\u51FA\u73B0\u5728\u68C0\u6D4B\u533A\u57DF\u5185\u5219\u8054\u52A8\u6539\u53D8\u5BF9\u5E94\u5BFC\u822A\u7684\u6837\u5F0F\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const observer = new IntersectionObserver(\n  function (entries) {\n    entries.forEach((entry) => {\n      const target = document.querySelector('.' + entry.target.className + 'Li')\n\n      if (entry.isIntersecting && entry.intersectionRatio > 0.65) {\n        document.querySelectorAll('li').forEach((el) => {\n          if (el.classList.contains('active')) {\n            el.classList.remove('active')\n          }\n        })\n\n        if (!target.classList.contains('active')) {\n          target.classList.add('active')\n        }\n      }\n    })\n  },\n  {\n    threshold: [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8]\n  }\n)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5B8C\u6574\u6548\u679C\u8BF7\u770B\u4E0B\u9762\u94FE\u63A5\uFF1A ",(0,l.jsx)(e.a,{href:"https://codepen.io/xingba-coder/pen/ZEdKRKJ",children:"\u8D44\u6599"})]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u53C2\u8003\u6587\u6863"}),"\uFF1A",(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7399982698846404649",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(e.h2,{id:"p2-huaci",children:"\u5982\u4F55\u5728\u5212\u8BCD\u9009\u62E9\u7684\u6587\u672C\u4E0A\u6DFB\u52A0\u53F3\u952E\u83DC\u5355\uFF08\u5212\u8BCD\uFF1A\u9F20\u6807\u6ED1\u52A8\u9009\u62E9\u4E00\u7EC4\u5B57\u7B26\uFF0C \u5BF9\u7EC4\u5B57\u7B26\u8FDB\u884C\u64CD\u4F5C\uFF09"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4E3B\u8981\u8003\u5BDF dom \u65B9\u6CD5\uFF0C ",(0,l.jsx)(e.code,{children:"getSelection"}),"\n\u5C5E\u4E8E\u5F88\u51B7\u95E8\u77E5\u8BC6\uFF0C \u53EA\u4F1A\u5728\u505A\u8FC7\u5BCC\u6587\u672C\u7684\u540C\u5B66\u9762\u8BD5\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u95EE\u5F97\u5230\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u5728\u5212\u8BCD\u9009\u62E9\u7684\u6587\u672C\u4E0A\u6DFB\u52A0\u53F3\u952E\u83DC\u5355\uFF0C\u53EF\u4EE5\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u8FDB\u884C\u64CD\u4F5C\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u76D1\u542C\u9F20\u6807\u53F3\u952E\u4E8B\u4EF6\n\u5728\u6587\u6863\u6216\u5BCC\u6587\u672C\u533A\u57DF\u4E0A\u6DFB\u52A0 ",(0,l.jsx)(e.code,{children:"contextmenu"})," \u4E8B\u4EF6\u7684\u76D1\u542C\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"document.addEventListener('contextmenu', function (event) {\n  // \u963B\u6B62\u9ED8\u8BA4\u7684\u6D4F\u89C8\u5668\u53F3\u952E\u83DC\u5355\n  event.preventDefault()\n\n  // \u5728\u6B64\u5904\u663E\u793A\u81EA\u5B9A\u4E49\u53F3\u952E\u83DC\u5355\n  showCustomMenu(event)\n})\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u663E\u793A\u81EA\u5B9A\u4E49\u53F3\u952E\u83DC\u5355\n\u521B\u5EFA\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u83DC\u5355\u5143\u7D20\uFF0C\u5E76\u6839\u636E\u9009\u62E9\u7684\u6587\u672C\u8BBE\u7F6E\u83DC\u5355\u9009\u9879\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function showCustomMenu (event) {\n  const customMenu = document.createElement('div')\n  customMenu.style.position = 'absolute'\n  customMenu.style.left = event.clientX + 'px'\n  customMenu.style.top = event.clientY + 'px'\n\n  // \u6DFB\u52A0\u83DC\u5355\u9009\u9879\n  const menuItem1 = document.createElement('div')\n  menuItem1.textContent = '\u590D\u5236'\n  menuItem1.addEventListener('click', function () {\n    // \u5904\u7406\u590D\u5236\u64CD\u4F5C\n    copySelectedText()\n  })\n  customMenu.appendChild(menuItem1)\n\n  // \u53EF\u4EE5\u6DFB\u52A0\u66F4\u591A\u7684\u83DC\u5355\u9009\u9879\n\n  document.body.appendChild(customMenu)\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u5904\u7406\u83DC\u5355\u9009\u9879\u7684\u64CD\u4F5C\n\u4F8B\u5982\uFF0C\u5B9E\u73B0\u590D\u5236\u9009\u4E2D\u6587\u672C\u7684\u529F\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function copySelectedText () {\n  const selection = window.getSelection()\n  if (selection) {\n    const range = selection.getRangeAt(0)\n    const clipboardData = new ClipboardEvent('copy', {\n      clipboardData: { text: range.toString() },\n      bubbles: true\n    }).clipboardData\n    document.execCommand('copy', false, clipboardData)\n  }\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"\u9690\u85CF\u53F3\u952E\u83DC\u5355\n\u5F53\u7528\u6237\u70B9\u51FB\u83DC\u5355\u4E4B\u5916\u7684\u533A\u57DF\u65F6\uFF0C\u9690\u85CF\u81EA\u5B9A\u4E49\u53F3\u952E\u83DC\u5355\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"document.addEventListener('click', function (event) {\n  const customMenu = document.querySelector('.custom-menu')\n  if (customMenu && !customMenu.contains(event.target)) {\n    customMenu.remove()\n  }\n})\n"})}),"\n",(0,l.jsx)(e.h2,{id:"p3-richtext-huaci",children:"\u5BCC\u6587\u672C\u91CC\u9762\uFF0C \u662F\u5982\u4F55\u505A\u5230\u5212\u8BCD\u7684\uFF08\u9F20\u6807\u6ED1\u52A8\u9009\u62E9\u4E00\u7EC4\u5B57\u7B26\uFF0C \u5BF9\u7EC4\u5B57\u7B26\u8FDB\u884C\u64CD\u4F5C\uFF09"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4E3B\u8981\u8003\u5BDF dom \u65B9\u6CD5\uFF0C ",(0,l.jsx)(e.code,{children:"getSelection"}),"\n\u5C5E\u4E8E\u5F88\u51B7\u95E8\u77E5\u8BC6\uFF0C \u53EA\u4F1A\u5728\u505A\u8FC7\u5BCC\u6587\u672C\u7684\u540C\u5B66\u9762\u8BD5\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u95EE\u5F97\u5230\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u5BCC\u6587\u672C\u73AF\u5883\u4E2D\u5B9E\u73B0\u5212\u8BCD\uFF08\u9F20\u6807\u6ED1\u52A8\u9009\u62E9\u4E00\u7EC4\u5B57\u7B26\u5E76\u5BF9\u5176\u8FDB\u884C\u64CD\u4F5C\uFF09\u901A\u5E38\u6D89\u53CA\u4EE5\u4E0B\u51E0\u4E2A\u5173\u952E\u6B65\u9AA4\u548C\u6280\u672F\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E8B\u4EF6\u76D1\u542C"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u76D1\u542C\u9F20\u6807\u6309\u4E0B\u3001\u9F20\u6807\u79FB\u52A8\u548C\u9F20\u6807\u677E\u5F00\u8FD9\u4E09\u4E2A\u4E3B\u8981\u7684\u9F20\u6807\u4E8B\u4EF6\u3002\u5F53\u9F20\u6807\u6309\u4E0B\u65F6\uFF0C\u6807\u8BB0\u9009\u62E9\u7684\u5F00\u59CB\uFF1B\u5728\u9F20\u6807\u79FB\u52A8\u8FC7\u7A0B\u4E2D\uFF0C\u6839\u636E\u9F20\u6807\u7684\u4F4D\u7F6E\u66F4\u65B0\u9009\u62E9\u8303\u56F4\uFF1B\u9F20\u6807\u677E\u5F00\u65F6\uFF0C\u786E\u5B9A\u6700\u7EC8\u7684\u9009\u62E9\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u9009\u62E9\u8303\u56F4\u8BA1\u7B97"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684 ",(0,l.jsx)(e.code,{children:"Selection"})," \u5BF9\u8C61\u6765\u83B7\u53D6\u548C\u7BA1\u7406\u9009\u62E9\u7684\u8303\u56F4\u3002\u5728\u9F20\u6807\u79FB\u52A8\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u65AD\u66F4\u65B0 ",(0,l.jsx)(e.code,{children:"Selection"})," \u5BF9\u8C61\u7684\u8303\u56F4\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u64CD\u4F5C\u5904\u7406"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E00\u65E6\u9009\u62E9\u5B8C\u6210\uFF0C\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u7684\u9700\u6C42\u5BF9\u9009\u4E2D\u7684\u5B57\u7B26\u8FDB\u884C\u64CD\u4F5C\u3002\u4F8B\u5982\uFF0C\u4FEE\u6539\u6837\u5F0F\uFF08\u5982\u52A0\u7C97\u3001\u53D8\u8272\uFF09\u3001\u83B7\u53D6\u9009\u4E2D\u7684\u6587\u672C\u5185\u5BB9\u3001\u6267\u884C\u590D\u5236\u7C98\u8D34\u7B49\u64CD\u4F5C\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684 JavaScript \u793A\u4F8B\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u83B7\u53D6\u9009\u4E2D\u7684\u6587\u672C\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n <head>\n <meta charset="UTF-8" />\n <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n <title>Document</title>\n </head>\n\n <body>\n <p>\u8FD9\u662F\u4E00\u6BB5\u793A\u4F8B\u6587\u672C\uFF0C\u60A8\u53EF\u4EE5\u5C1D\u8BD5\u9009\u4E2D\u4E00\u90E8\u5206\u3002</p>\n\n <script>\n document.addEventListener("mouseup", function () {\n const selection = window.getSelection();\n if (selection) {\n const selectedText = selection.toString();\n console.log("\u9009\u4E2D\u7684\u6587\u672C: ", selectedText);\n }\n });\n <\/script>\n </body>\n</html>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"p0-scan",children:"\u626B\u7801\u767B\u5F55\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"\u626B\u7801\u767B\u5F55\u7684\u5B9E\u73B0\u539F\u7406\u6838\u5FC3\u662F\u57FA\u4E8E\u4E00\u4E2A\u4E2D\u8F6C\u7AD9\uFF0C\u8BE5\u4E2D\u8F6C\u7AD9\u901A\u5E38\u7531\u5E94\u7528\u63D0\u4F9B\u5546\u63D0\u4F9B\uFF0C\u7528\u4E8E\u7EF4\u62A4\u624B\u673A\u548CPC\u4E4B\u95F4\u7684\u4F1A\u8BDD\u72B6\u6001\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u6574\u4E2A\u626B\u7801\u767B\u5F55\u7684\u6D41\u7A0B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7528\u6237\u5728PC\u7AEF\u8BBF\u95EE\u5E94\u7528\uFF0C\u5E76\u9009\u62E9\u4F7F\u7528\u626B\u7801\u767B\u5F55\u65B9\u5F0F\u3002\u6B64\u65F6\uFF0C\u5E94\u7528\u751F\u6210\u4E00\u4E2A\u968F\u673A\u7684\u8BA4\u8BC1\u7801\uFF0C\u5E76\u5C06\u8BE5\u8BA4\u8BC1\u7801\u901A\u8FC7\u4E8C\u7EF4\u7801\u7684\u5F62\u5F0F\u663E\u793A\u5728PC\u7AEF\u7684\u9875\u9762\u4E0A\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7528\u6237\u6253\u5F00\u624B\u673A\u4E0A\u7684\u5E94\u7528\uFF0C\u5E76\u9009\u62E9\u4F7F\u7528\u626B\u7801\u767B\u5F55\u65B9\u5F0F\u3002\u6B64\u65F6\uFF0C\u5E94\u7528\u4F1A\u6253\u5F00\u624B\u673A\u7AEF\u7684\u76F8\u673A\uFF0C\u7528\u6237\u53EF\u4EE5\u5BF9\u7740PC\u7AEF\u7684\u4E8C\u7EF4\u7801\u8FDB\u884C\u626B\u63CF\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4E00\u65E6\u7528\u6237\u626B\u63CF\u4E86\u4E8C\u7EF4\u7801\uFF0C\u624B\u673A\u4E0A\u7684\u5E94\u7528\u4F1A\u5411\u5E94\u7528\u63D0\u4F9B\u5546\u7684\u4E2D\u8F6C\u7AD9\u53D1\u9001\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u8BF7\u6C42\u5305\u542B\u4E4B\u524D\u751F\u6210\u7684\u968F\u673A\u8BA4\u8BC1\u7801\u548C\u624B\u673A\u7AEF\u7684\u4E00\u4E2A\u4F1A\u8BDDID\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4E2D\u8F6C\u7AD9\u9A8C\u8BC1\u8BA4\u8BC1\u7801\u548C\u4F1A\u8BDDID\u662F\u5426\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u8BE5\u4E2D\u8F6C\u7AD9\u5C06\u7528\u6237\u7684\u8EAB\u4EFD\u4FE1\u606F\u53D1\u9001\u7ED9\u5E94\u7528\uFF0C\u5E76\u521B\u5EFA\u4E00\u4E2APC\u7AEF\u548C\u624B\u673A\u7AEF\u4E4B\u95F4\u7684\u4F1A\u8BDD\u72B6\u6001\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5E94\u7528\u4F7F\u7528\u6536\u5230\u7684\u8EAB\u4EFD\u4FE1\u606F\u5BF9\u7528\u6237\u8FDB\u884C\u8BA4\u8BC1\uFF0C\u5E76\u521B\u5EFA\u4E00\u4E2A\u4E0E\u8BE5\u7528\u6237\u5173\u8054\u7684\u4F1A\u8BDD\u72B6\u6001\u3002\u540C\u65F6\uFF0C\u5E94\u7528\u8FD4\u56DE\u4E00\u4E2A\u901A\u8FC7\u8BA4\u8BC1\u7684\u54CD\u5E94\u7ED9\u4E2D\u8F6C\u7AD9\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4E2D\u8F6C\u7AD9\u5C06\u8BE5\u54CD\u5E94\u8FD4\u56DE\u7ED9\u624B\u673A\u7AEF\u7684\u5E94\u7528\uFF0C\u5E76\u643A\u5E26\u4E00\u4E2A\u7528\u4E8E\u8868\u793A\u8BE5\u4F1A\u8BDD\u7684\u4EE4\u724C\uFF0C\u6B64\u65F6\u624B\u673A\u548CPC\u4E4B\u95F4\u7684\u8BA4\u8BC1\u6D41\u7A0B\u5C31\u5B8C\u6210\u4E86\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5F53\u7528\u6237\u5728PC\u7AEF\u8FDB\u884C\u5176\u4ED6\u64CD\u4F5C\u65F6\uFF0C\u5E94\u7528\u5C06\u4F1A\u8BDD\u4EE4\u724C\u9644\u52A0\u5728\u8BF7\u6C42\u4E2D\uFF0C\u5E76\u901A\u8FC7\u4E2D\u8F6C\u7AD9\u5411\u624B\u673A\u7AEF\u7684\u5E94\u7528\u53D1\u8D77\u8BF7\u6C42\u3002\u624B\u673A\u7AEF\u7684\u5E94\u7528\u4F7F\u7528\u4F1A\u8BDD\u4EE4\u724C\uFF08\u4E5F\u5C31\u662F\u4E4B\u524D\u751F\u6210\u7684\u4EE4\u724C\uFF09\u6765\u8BC6\u522B\u5E76\u9A8C\u8BC1\u4F1A\u8BDD\u72B6\u6001\uFF0C\u4ECE\u800C\u5141\u8BB8\u7528\u6237\u5728PC\u7AEF\u8FDB\u884C\u9700\u8981\u767B\u5F55\u7684\u64CD\u4F5C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u4E0D\u540C\u6807\u7B7E\u9875\u6216\u7A97\u53E3\u95F4\u7684-\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\u673A\u5236-\u7684\u65B9\u5F0F\u6709\u54EA\u4E9B",children:"\u4E0D\u540C\u6807\u7B7E\u9875\u6216\u7A97\u53E3\u95F4\u7684 \u3010\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\u673A\u5236\u3011 \u7684\u65B9\u5F0F\u6709\u54EA\u4E9B\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"BroadcastChannel API"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7307057492059471899",children:"\u8D44\u6599"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"BroadcastChannel API"})," \u662F\u4E00\u79CD\u5728\u76F8\u540C\u6E90\u7684\u4E0D\u540C\u6D4F\u89C8\u5668\u4E0A\u4E0B\u6587\u4E4B\u95F4\u5B9E\u73B0\u7B80\u5355\u9AD8\u6548\u901A\u4FE1\u7684\u65B9\u6CD5\u3002\u8FD9\u610F\u5473\u7740\u5B83\u53EF\u4EE5\u5728\u540C\u4E00\u7F51\u7AD9\u7684\u591A\u4E2A\u6807\u7B7E\u9875\u6216\u7A97\u53E3\u4E4B\u95F4\u53D1\u9001\u6D88\u606F\u3002\u8FD9\u662F\u7531 HTML5 \u89C4\u8303\u5F15\u5165\u7684\uFF0C\u7528\u4E8E\u6539\u8FDB Web Workers \u4E2D\u7684\u901A\u4FE1\u65B9\u6CD5\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4E0B\u9762\u662F\u5982\u4F55\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"BroadcastChannel API"})," \u7684\u57FA\u672C\u6307\u5357\u53CA\u51E0\u4E2A\u793A\u4F8B\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u4E0E\u53D1\u9001\u6D88\u606F"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5728\u4EFB\u4F55\u4E00\u4E2A tab \u6216 iframe \u4E2D\u521B\u5EFA\u4E00\u4E2A\u5E7F\u64AD\u9891\u9053\nconst channel = new BroadcastChannel('my-channel-name')\n\n// \u53D1\u9001\u4E00\u4E2A\u6D88\u606F\u5230\u9891\u9053\nchannel.postMessage('Hello from a tab!')\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u76D1\u542C\u6D88\u606F"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u76D1\u542C\u8FD9\u4E2A\u9891\u9053\u7684\u6D88\u606F\nchannel.addEventListener('message', function (event) {\n  if (event.data === 'Hello from a tab!') {\n    console.log('Message received: ', event.data)\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0\u9891\u9053\u6D88\u606F\u901A\u4FE1"})}),"\n",(0,l.jsx)(e.p,{children:"\u5047\u8BBE\u4F60\u6709\u4E24\u4E2A\u6807\u7B7E\u9875\uFF0C\u5E76\u4E14\u4F60\u60F3\u66F4\u65B0\u6BCF\u4E2A\u6807\u7B7E\u9875\u6765\u663E\u793A\u53E6\u4E00\u4E2A\u6807\u7B7E\u9875\u4E2D\u53D1\u751F\u7684\u4E8B\u60C5\uFF0C\u6BD4\u5982\u7528\u6237\u6570\u91CF\u8BA1\u6570\u5668\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5728\u7B2C\u4E00\u4E2A\u6807\u7B7E\u9875\u4E2D\nself.addEventListener('load', () => {\n  const channel = new BroadcastChannel('visitor-channel')\n  let visitorCount = 0\n\n  // \u5B9A\u65F6\u53D1\u9001\u968F\u673A\u7684\u7528\u6237\u6D3B\u52A8\u6D88\u606F\n  setInterval(function () {\n    visitorCount++\n    channel.postMessage(`Visitor count increased to: ${visitorCount}`)\n  }, 5000)\n})\n\n// \u5728\u53E6\u4E00\u4E2A\u6807\u7B7E\u9875\u4E2D\nself.addEventListener('load', () => {\n  const channel = new BroadcastChannel('visitor-channel')\n\n  // \u76D1\u542C\u6D88\u606F\u6765\u66F4\u65B0\u7528\u6237\u6570\u91CF\n  channel.addEventListener('message', function (event) {\n    if (event.data.startsWith('Visitor count')) {\n      // \u7528\u63A5\u6536\u5230\u7684\u7528\u6237\u6570\u91CF\u66F4\u65B0\u663E\u793A\n      updateVisitorCountDisplay(event.data)\n    }\n  })\n\n  // \u8FD9\u4E2A\u65B9\u6CD5\u5C06\u8BBE\u7F6E\u6807\u7B7E\u9875\u4E0A\u7684\u7528\u6237\u8BA1\u6570\u663E\u793A\n  function updateVisitorCountDisplay (message) {\n    // \u8FD9\u91CC\u5199\u7528\u4E8E\u66F4\u65B0\u663E\u793A\u7684\u4EE3\u7801\n    console.log(message)\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u4E00\u4E2A\u6807\u7B7E\u9875\u901A\u8FC7\u5B9A\u671F\u53D1\u9001\u65B0\u7684\u6D88\u606F\u6765\u6A21\u62DF\u7528\u6237\u6D3B\u52A8\u7684\u589E\u52A0\uFF0C\u8FD9\u4E2A\u6D88\u606F\u5728\u6240\u6709\u76D1\u542C\u8BE5\u9891\u9053\u7684\u4E0A\u4E0B\u6587\u4E2D\u4F20\u9012\u3002\u53E6\u4E00\u4E2A\u6216\u591A\u4E2A\u6807\u7B7E\u9875\u5C06\u76D1\u542C\u8FD9\u4E2A\u9891\u9053\u6765\u63A5\u6536\u548C\u54CD\u5E94\u8FD9\u4E9B\u66F4\u65B0\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6CE8\u610F\u4E8B\u9879\uFF1A"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u9891\u9053\u5185\u7684\u901A\u4FE1 ",(0,l.jsx)(e.strong,{children:"\u4EC5\u5728\u540C\u6E90\u6D4F\u89C8\u5668\u4E0A\u4E0B\u6587"}),"\uFF08\u5177\u6709\u76F8\u540C\u7684\u534F\u8BAE\u3001\u57DF\u540D\u548C\u7AEF\u53E3\u53F7\uFF09\u4E4B\u95F4\u6709\u6548\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4E0D\u540C\u7684\u7F51\u7AD9\u4E4B\u95F4\u7684\u901A\u4FE1\u662F\u4E0D\u88AB\u5141\u8BB8\u7684\uFF0C\u4EE5\u4FDD\u62A4\u6BCF\u4E2A\u7F51\u7AD9\u7684\u5B89\u5168\u6027\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9891\u9053\u4E2D\u7684\u901A\u4FE1\u662F ",(0,l.jsx)(e.strong,{children:"\u5355\u5411\u7684"}),"\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u9891\u9053\u5411\u6240\u6709\u8FDE\u63A5"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Service Workers"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5229\u7528 Service Workers\uFF0C\u5404\u4E2A\u6807\u7B7E\u9875\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"clients.matchAll()"})," \u65B9\u6CD5\u627E\u5230\u6240\u6709\u5176\u4ED6\u5BA2\u6237\u7AEF\uFF08\u5982\u6253\u5F00\u7684\u6807\u7B7E\u9875\uFF09\uFF0C\u7136\u540E\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"postMessage"})," \u53D1\u9001\u6D88\u606F\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A\u65B9\u6CD5\u76F8\u6BD4 ",(0,l.jsx)(e.code,{children:"BroadcastChannel"})," \u66F4\u52A0\u7075\u6D3B\uFF0C\u56E0\u4E3A Service Workers \u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"Focus"})," \u548C ",(0,l.jsx)(e.code,{children:"Navigate"})," \u4E8B\u4EF6\u6765\u63A7\u5236\u9875\u9762\u7684\u7126\u70B9\u548C\u5BFC\u822A\u7B49\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"ServiceWorkers"})," \u63D0\u4F9B\u4E86\u5728\u540E\u53F0\u8FD0\u884C\u811A\u672C\u7684\u80FD\u529B\uFF0C\u8FD9\u4E9B\u811A\u672C\u53EF\u4EE5\u5728\u7F51\u7EDC\u53D7\u9650\u6216\u6CA1\u6709\u7F51\u7EDC\u7684\u60C5\u51B5\u4E0B\u8FD0\u884C\u3002\u5F53\u4F60\u7528 ",(0,l.jsx)(e.code,{children:"ServiceWorkers"})," \u8FDB\u884C\u9875\u9762\u95F4\u7684\u901A\u4FE1\uFF0C\u4F60\u53EF\u4EE5\u5229\u7528\u5B83\u4EEC\u6765\u63A8\u9001\u6D88\u606F\u5230\u6253\u5F00\u7684 ",(0,l.jsx)(e.code,{children:"Clients"}),"\uFF08\u5982\u6D4F\u89C8\u5668\u6807\u7B7E\u9875\uFF09\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8981\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"ServiceWorkers"})," \u5B9E\u73B0\u4ECE\u4E0D\u540C Tab \u4E2D\u4E3B\u52A8\u63A8\u9001\u4FE1\u606F\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"1. \u7F16\u5199 ServiceWorker \u6587\u4EF6"})}),"\n",(0,l.jsxs)(e.p,{children:["\u9996\u5148\uFF0C\u521B\u5EFA\u540D\u4E3A ",(0,l.jsx)(e.code,{children:"sw.js"})," \u7684 ServiceWorker \u6587\u4EF6\u3002\u8FD9\u4E2A\u6587\u4EF6\u5728\u4F60\u7684\u7F51\u7AD9\u76EE\u5F55\u4E0B\uFF0C\u4F1A\u5728\u7528\u6237\u8BBF\u95EE\u7F51\u7AD9\u65F6\u6CE8\u518C\u5E76\u6FC0\u6D3B\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// sw.js\n\nself.addEventListener('message', (event) => {\n  if (event.data === 'New message from another tab') {\n    self.clients\n      .matchAll({\n        type: 'window',\n        includeUncontrolled: true\n      })\n      .then((windowClients) => {\n        windowClients.forEach((client) => {\n          client.postMessage('New message for ' + client.id)\n        })\n      })\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"2. \u5728\u4E3B\u9875\u9762\u6CE8\u518C ServiceWorker"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u4E3B\u9875\u9762\uFF08index.html\uFF09\u901A\u8FC7 JavaScript \u6CE8\u518C\u8FD9\u4E2A ServiceWorker \u6587\u4EF6\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// index.html\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker\n    .register('/sw.js')\n    .then((registration) => {\n      console.log('Service Worker registered with scope:', registration.scope)\n    })\n    .catch((error) => {\n      console.log('Service Worker registration failed:', error)\n    })\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.strong,{children:["3. \u76D1\u542C ",(0,l.jsx)(e.code,{children:"message"})," \u4E8B\u4EF6"]})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E3B\u9875\u9762\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"navigator.serviceWorker.controller"})," \u6765\u68C0\u67E5\u662F\u5426\u5DF2\u7ECF\u6709 ServiceWorker \u4E3B\u52A8\u63A7\u5236\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"if (navigator.serviceWorker.controller) {\n  // Post a message to the ServiceWorker\n  navigator.serviceWorker.controller.postMessage('This is from main page')\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"4. \u4ECE\u5176\u4ED6 Tab \u63A8\u9001\u6D88\u606F"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u5176\u4ED6 Tab \u4E0A\uFF0C\u4E00\u65E6 ServiceWorker \u88AB\u8BE5\u9875\u9762\u63A7\u5236\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u540C\u6837\u7684 ",(0,l.jsx)(e.code,{children:"postMessage"})," \u65B9\u6CD5\u53D1\u9001\u6D88\u606F\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"SharedWorker"})}),"\n",(0,l.jsxs)(e.p,{children:["SharedWorker \u63D0\u4F9B\u4E86\u4E00\u79CD\u66F4\u4F20\u7EDF\u7684\u8DE8\u6587\u6863\u901A\u4FE1\u673A\u5236\uFF0C\u5728\u4E0D\u540C\u6587\u6863\u95F4\u5171\u4EAB\u72B6\u6001\u548C\u6570\u636E\u3002\u4F60\u9700\u8981\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"SharedWorker"})," \u5BF9\u8C61\uFF0C\u5E76\u5728\u6240\u6709\u7684\u6587\u6863\u91CC\u76D1\u542C\u6765\u81EA\u8BE5 worker \u7684\u6D88\u606F\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u7B80\u5355\u573A\u666F\u7684 SharedWorker \u7684\u4F7F\u7528\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u548C\u8FDE\u63A5"}),":"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u521B\u5EFA\u4E00\u4E2A SharedWorker\uFF0C\u5E76\u6307\u5B9A\u8981\u52A0\u8F7D\u7684\u811A\u672C\nconst myWorker = new SharedWorker('worker.js')\n// \u5F00\u542F\u7AEF\u53E3\u901A\u4FE1\nmyWorker.port.start()\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7AEF\u53E3\u901A\u4FE1"}),": \u4F7F\u7528\u7AEF\u53E3\u63A5\u6536\u548C\u53D1\u9001\u6D88\u606F"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u53D1\u9001\u6570\u636E\u7ED9worker\nmyWorker.port.postMessage({ command: 'start', data: [1, 2, 3] })\n\n// \u76D1\u542C\u6765\u81EAworker\u7684\u6D88\u606F\nmyWorker.port.onmessage = function (event) {\n  if (event.data) {\n    console.log('Result from worker:', event.data)\n  }\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0 worker \u903B\u8F91"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"worker.js"})," \u5185\uFF0C\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"onconnect"})," \u4E8B\u4EF6\u76D1\u542C\u7AEF\u53E3\u8FDE\u63A5\uFF0C\u5E76\u5728\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"postMessage"})," \u53D1\u9001\u6570\u636E\u7684\u9875\u9762\u4E4B\u95F4\u8F6C\u53D1\u6D88\u606F\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// worker.js\n\n// \u81EA\u8EAB\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\nself.onconnect = function (event) {\n  const port = event.ports[0]\n\n  // \u76D1\u542C\u7AEF\u53E3\u7684\u6D88\u606F\n  port.onmessage = function (e) {\n    if (e.data.command === 'start') {\n      const result = someHeavyComputation(e.data.data)\n      port.postMessage({ result })\n    }\n  }\n}\n\n// \u5728\u8FD9\u91CC\u6267\u884C\u4E00\u4E9B\u5F00\u9500\u8F83\u5927\u7684\u8BA1\u7B97\u903B\u8F91\nfunction someHeavyComputation (data) {\n  // \u5728\u8FD9\u91CC\u8FDB\u884C\u8BA1\u7B97...\n  return data.reduce(function (previousValue, currentValue) {\n    return previousValue + currentValue\n  }, 0)\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u901A\u77E5\u5176\u4ED6\u9875\u9762\u66F4\u65B0"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5F53\u4F60\u5E0C\u671B\u57FA\u4E8E\u4E0A\u6587\u63D0\u5230\u7684 SharedWorker \u6267\u884C\u7684\u8BA1\u7B97\u7ED3\u679C\u901A\u77E5\u5176\u4ED6\u6240\u6709\u7684\u9875\u9762\u66F4\u65B0\u65F6\uFF0C\u53EF\u4EE5\u5229\u7528 ",(0,l.jsx)(e.code,{children:"SharedWorkerGlobalScope"})," \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"clients"})," \u5BF9\u8C61\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5728 worker.js \u4E2D\n\nself.addEventListener('message', (e) => {\n  if (e.data === 'Update all clients') {\n    // \u904D\u5386\u6240\u6709\u5BA2\u6237\u7AEF\n    self.clients.matchAll().then((clients) => {\n      clients.forEach((client) => {\n        // \u53D1\u9001\u6D88\u606F\u66F4\u65B0\u5B83\u4EEC\n        client.postMessage('Please update your state')\n      })\n    })\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 localStorage \u7684\u53D8\u66F4\u76D1\u542C"}),"\n",(0,l.jsxs)(e.p,{children:["\u867D\u7136 ",(0,l.jsx)(e.code,{children:"localStorage"})," \u6CA1\u6709\u76F4\u63A5\u63D0\u4F9B\u8DE8\u6807\u7B7E\u9875\u63A8\u9001\u673A\u5236\uFF0C\u4F46\u662F\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"window.addEventListener('storage', listener)"})," \u76D1\u542C ",(0,l.jsx)(e.code,{children:"storage"})," \u4E8B\u4EF6\uFF0C\u5B9E\u73B0\u4E0D\u540C\u6807\u7B7E\u9875\u95F4\u7684\u901A\u4FE1\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u6807\u7B7E\u98751\u4FEE\u6539\u4E86 localStorage\nlocalStorage.setItem('someKey', 'someValue')\n\n// \u5176\u4ED6\u6807\u7B7E\u9875\u76D1\u542C storage \u4E8B\u4EF6\nwindow.addEventListener('storage', function (event) {\n  if (event.storageArea === localStorage && event.key === 'someKey') {\n    console.log(event.newValue)\n  }\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 iframe \u7684 message \u4E8B\u4EF6"}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u6392\u4ED6\u6027\u4E0D\u662F\u95EE\u9898\uFF08\u6240\u6709\u6807\u7B7E\u9875\u90FD\u5C5E\u4E8E\u540C\u4E00\u5BA2\u6237\u7AEF\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528 iframe \u6765\u4F20\u9012\u6D88\u606F\uFF0C\u7236\u7A97\u53E3\u548C iframe \u53EF\u4EE5\u4F7F\u7528 DOM \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"message"})," \u4E8B\u4EF6\u7CFB\u7EDF\u76F8\u4E92\u901A\u4FE1\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8981\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"iframe"})," \u7684 ",(0,l.jsx)(e.code,{children:"message"})," \u4E8B\u4EF6\u5B9E\u73B0\u4E0D\u540C\u9875\u7B7E\u4E4B\u95F4\u7684\u901A\u4FE1\uFF0C\u4F60\u9700\u8981\u4E24\u4E2A\u5173\u952E\u9879\u7684\u914D\u5408\uFF1A\u7236\u9875\u9762\u548C ",(0,l.jsx)(e.code,{children:"iframe"})," \u9875\u9762\u4E4B\u95F4\u7684\u534F\u8C03\u5DE5\u4F5C\u3002\u8FD9\u79CD\u901A\u4FE1\u975E\u5E38\u7075\u6D3B\uFF0C\u56E0\u4E3A\u4F60\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u9700\u8981\u8FDB\u884C\u4FE1\u606F\u7684\u53D1\u9001\u548C\u76D1\u542C\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793A\u4F8B\u6B65\u9AA4\uFF1A"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"1. \u521B\u5EFA\u4E00\u4E2A\u7236\u9875\u9762"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u7236\u9875\u9762\u4E2D\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"iframe"})," \u5E76\u76D1\u542C ",(0,l.jsx)(e.code,{children:"message"})," \u4E8B\u4EF6\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'\x3c!-- parent.html --\x3e\n\n<!DOCTYPE html>\n<html lang="en">\n <head>\n <meta charset="UTF-8" />\n <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n <title>Parent Page</title>\n </head>\n <body>\n <iframe src="iframe.html" style="display:none;"></iframe>\n\n <script>\n // \u76D1\u542C iframe \u53D1\u9001\u7684 message \u4E8B\u4EF6\n window.addEventListener("message", function (event) {\n if (event.origin !== "http://example.com") {\n // \u786E\u4FDD\u6D88\u606F\u6E90\u662F\u53EF\u4FE1\u7684\n return;\n }\n if (event.data && event.data.greeting) {\n console.log("Message received from iframe:", event.data);\n // \u5982\u679Ciframe\u5411\u7236\u9875\u9762\u95EE\u597D\uFF08\u5411\u7236\u9875\u9762\u53D1\u9001\u4E86\u4E00\u6761\u6D88\u606F\uFF09\n // \u5047\u8BBE\u6211\u4EEC\u8FD8\u60F3\u518D\u5411iframe\u53D1\u9001\u4E00\u4E9B\u4FE1\u606F\n document.querySelector("iframe").contentWindow.postMessage(\n {\n response: "Hello iframe! This is the parent window speaking.",\n },\n "http://example.com"\n );\n }\n });\n <\/script>\n </body>\n</html>\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"2. \u521B\u5EFA\u4E00\u4E2A iframe \u9875\u9762"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"iframe.html"})," \u9875\u9762\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u53D1\u9001\u6D88\u606F\u5230\u7236\u9875\u9762\u5E76\u76D1\u542C\u7236\u9875\u9762\u7684\u6D88\u606F\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'\x3c!-- iframe.html --\x3e\n\n<!DOCTYPE html>\n<html lang="en">\n <head>\n <meta charset="UTF-8" />\n <title>Iframe Page</title>\n </head>\n <body>\n <script>\n // \u5047\u8BBE\u6211\u4EEC\u6709\u4E00\u4E9B\u9700\u8981\u53D1\u9001\u5230\u7236\u9875\u9762\u7684\u4FE1\u606F\n function sendMessageToParent() {\n parent.postMessage({ greeting: "Hello, I am the iframe!" }, "http://example.com");\n }\n\n // \u5F53\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u53D1\u9001\u6D88\u606F\n window.onload = function () {\n sendMessageToParent();\n };\n\n // \u76D1\u542C\u6765\u81EA\u7236\u9875\u9762\u7684\u6D88\u606F\n window.addEventListener("message", function (event) {\n if (event.origin !== "http://example.com") {\n // \u53CD\u5411\u9A8C\u8BC1\u6D88\u606F\u6E90\u7684\u53EF\u4FE1\u5EA6\n return;\n }\n if (event.data && event.data.response) {\n console.log("Message received from parent:", event.data);\n // \u53EF\u6839\u636E\u6D88\u606F\u5B9E\u73B0\u7279\u5B9A\u7684\u903B\u8F91\n }\n });\n <\/script>\n </body>\n</html>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"p0-virtual-list",children:"\u865A\u62DF\u5217\u8868"}),"\n",(0,l.jsx)(e.p,{children:"\u865A\u62DF\u6EDA\u52A8\uFF08Virtual Scrolling\uFF09\u662F\u4E00\u79CD\u6027\u80FD\u4F18\u5316\u7684\u624B\u6BB5\uFF0C\u901A\u5E38\u7528\u4E8E\u5904\u7406\u957F\u5217\u8868\u7684\u663E\u793A\u95EE\u9898\u3002\u5728\u4F20\u7EDF\u7684\u6EDA\u52A8\u52A0\u8F7D\u4E2D\uFF0C\u5F53\u9762\u5BF9\u6210\u5343\u4E0A\u4E07\u9879\u7684\u957F\u5217\u8868\u65F6\uFF0C\u76F4\u63A5\u5728 DOM \u4E2D\u521B\u5EFA\u5E76\u5C55\u793A\u6240\u6709\u9879\u4F1A\u5BFC\u81F4\u4E25\u91CD\u7684\u6027\u80FD\u95EE\u9898\uFF0C\u56E0\u4E3A\u6D4F\u89C8\u5668\u9700\u8981\u6E32\u67D3\u6240\u6709\u7684\u5217\u8868\u9879\u3002\u800C\u865A\u62DF\u6EDA\u52A8\u7684\u6838\u5FC3\u539F\u7406\u662F\u4EC5\u6E32\u67D3\u7528\u6237\u53EF\u89C6\u8303\u56F4\u5185\u7684\u5217\u8868\u9879\uFF0C\u4EE5\u6B64\u51CF\u5C11 DOM \u64CD\u4F5C\u7684\u6570\u91CF\u548C\u63D0\u9AD8\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u865A\u62DF\u6EDA\u52A8\uFF0C\u6211\u4EEC\u9700\u8981\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u76D1\u542C\u6EDA\u52A8\u4E8B\u4EF6\uFF0C\u4E86\u89E3\u5F53\u524D\u6EDA\u52A8\u4F4D\u7F6E\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u6EDA\u52A8\u4F4D\u7F6E\u8BA1\u7B97\u5F53\u524D\u5E94\u8BE5\u6E32\u67D3\u54EA\u4E9B\u5217\u8868\u9879\u76EE\uFF08\u5373\u5728\u89C6\u53E3\u5185\u7684\u9879\u76EE\uFF09\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u53EA\u6E32\u67D3\u90A3\u4E9B\u9879\u76EE\uFF0C\u5E76\u7528\u5360\u4F4D\u7B26\uFF08\u6BD4\u5982\u4E00\u4E2A\u7A7A\u7684 div\uFF09\u5360\u636E\u5176\u5B83\u9879\u76EE\u5E94\u6709\u7684\u4F4D\u7F6E\uFF0C\u4FDD\u6301\u6EDA\u52A8\u6761\u5927\u5C0F\u4E0D\u53D8\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5F53\u7528\u6237\u6EDA\u52A8\u65F6\uFF0C\u91CD\u65B0\u8BA1\u7B97\u5E76\u6E32\u67D3\u65B0\u7684\u9879\u76EE\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u57FA\u7840\u7248\u672C\u5B9E\u73B0"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u865A\u62DF\u6EDA\u52A8\u5B9E\u73B0\u7684 JavaScript \u4EE3\u7801\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"class VirtualScroll {\n  constructor (container, itemHeight, totalItems, renderCallback) {\n    this.container = container // \u5BB9\u5668\u5143\u7D20\n    this.itemHeight = itemHeight // \u6BCF\u4E2A\u9879\u7684\u9AD8\u5EA6\n    this.totalItems = totalItems // \u603B\u5217\u8868\u9879\u6570\n    this.renderCallback = renderCallback // \u6E32\u67D3\u6BCF\u4E00\u9879\u7684\u56DE\u8C03\u51FD\u6570\n\n    this.viewportHeight = container.clientHeight // \u89C6\u53E3\u9AD8\u5EA6\n    this.bufferSize = Math.ceil(this.viewportHeight / itemHeight) * 3 // \u7F13\u51B2\u5927\u5C0F\n    this.renderedItems = [] // \u5DF2\u6E32\u67D3\u9879\u7684\u6570\u7EC4\n\n    this.startIndex = 0 // \u5F53\u524D\u6E32\u67D3\u7684\u5F00\u59CB\u7D22\u5F15\n    this.endIndex = this.bufferSize // \u5F53\u524D\u6E32\u67D3\u7684\u7ED3\u675F\u7D22\u5F15\n\n    container.addEventListener('scroll', () => this.onScroll())\n    this.update()\n  }\n\n  onScroll () {\n    const scrollTop = this.container.scrollTop\n    const newStartIndex = Math.floor(scrollTop / this.itemHeight) - this.bufferSize / 2\n    const newEndIndex = newStartIndex + this.bufferSize\n\n    if (newStartIndex !== this.startIndex || newEndIndex !== this.endIndex) {\n      this.startIndex = Math.max(0, newStartIndex)\n      this.endIndex = Math.min(this.totalItems, newEndIndex)\n      this.update()\n    }\n  }\n\n  update () {\n    // \u6E05\u7A7A\u5DF2\u6709\u5185\u5BB9\n    this.container.innerHTML = ''\n\n    // \u8BA1\u7B97\u5E76\u8BBE\u7F6E\u5BB9\u5668\u7684\u603B\u9AD8\u5EA6\n    const totalHeight = this.totalItemsthis.itemHeight\n    this.container.style.height = `${totalHeight}px`\n\n    // \u6E32\u67D3\u89C6\u53E3\u5185\u7684\u9879\n    const fragment = document.createDocumentFragment()\n    for (let i = this.startIndex; i < this.endIndex; i++) {\n      const item = this.renderCallback(i)\n      item.style.top = `${ithis.itemHeight}px`\n      fragment.appendChild(item)\n    }\n    this.container.appendChild(fragment)\n  }\n}\n\n// \u521B\u5EFA\u4E00\u4E2A\u5217\u8868\u9879\u7684\u51FD\u6570\nfunction createItem (index) {\n  const item = document.createElement('div')\n  item.className = 'list-item'\n  item.innerText = `Item ${index}`\n  item.style.position = 'absolute'\n  item.style.width = '100%'\n  return item\n}\n\n// \u521D\u59CB\u5316\u865A\u62DF\u6EDA\u52A8\nconst container = document.querySelector('.scroll-container') // \u5BB9\u5668\u5143\u7D20\u9700\u8981\u9884\u5148\u5728HTML\u4E2D\u5B9A\u4E49\nconst virtualScroll = new VirtualScroll(container, 30, 10000, createItem)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"VirtualScroll"}),"\u7C7B\uFF0C\u901A\u8FC7\u4F20\u5165\u5BB9\u5668\u3001\u9879\u9AD8\u5EA6\u3001\u603B\u9879\u6570\u548C\u6E32\u67D3\u56DE\u8C03\u51FD\u6570\u6765\u8FDB\u884C\u521D\u59CB\u5316\u3002\u8BE5\u7C7B\u7684",(0,l.jsx)(e.code,{children:"update"}),"\u65B9\u6CD5\u7528\u4E8E\u6E32\u67D3\u51FA\u5F53\u524D\u53EF\u89C6\u8303\u56F4\u5185\u90E8\u5206\u7684\u9879\u76EE\uFF0C\u5E76\u5C06\u5B83\u4EEC\u653E\u5230\u6587\u6863\u788E\u7247\u4E2D\uFF0C\u7136\u540E\u4E00\u6B21\u6027\u6DFB\u52A0\u5230\u5BB9\u5668\u4E2D\u3002\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u591A\u6B21\u76F4\u63A5\u64CD\u4F5C DOM\uFF0C\u51CF\u5C11\u6027\u80FD\u6D88\u8017\u3002\u5F53\u6EDA\u52A8\u65F6\uFF0C",(0,l.jsx)(e.code,{children:"onScroll"}),"\u65B9\u6CD5\u5C06\u8BA1\u7B97\u65B0\u7684",(0,l.jsx)(e.code,{children:"startIndex"}),"\u548C",(0,l.jsx)(e.code,{children:"endIndex"}),"\uFF0C\u7136\u540E\u8C03\u7528",(0,l.jsx)(e.code,{children:"update"}),"\u65B9\u6CD5\u8FDB\u884C\u66F4\u65B0\u3002\u8BF7\u6CE8\u610F\uFF0C\u5B9E\u9645\u5E94\u7528\u53EF\u80FD\u9700\u8981\u6839\u636E\u5177\u4F53\u60C5\u51B5\u8C03\u6574\u7F13\u51B2\u533A\u5927\u5C0F\u7B49\u53C2\u6570\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u8FDB\u9636\u7248\u672C\uFF1A\u4F7F\u7528 IntersectionObserver \u6765\u5B9E\u73B0"}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"IntersectionObserver"})," \u5B9E\u73B0\u865A\u62DF\u6EDA\u52A8\u5C31\u610F\u5473\u7740\u6211\u4EEC\u4F1A\u4F9D\u8D56\u4E8E\u6D4F\u89C8\u5668\u7684 API \u6765\u89C2\u5BDF\u54EA\u4E9B\u5143\u7D20\u8FDB\u5165\u6216\u79BB\u5F00\u89C6\u53E3\uFF08viewport\uFF09\uFF0C\u800C\u975E\u76F4\u63A5\u76D1\u542C\u6EDA\u52A8\u4E8B\u4EF6\u3002\u8FD9\u6837\u6211\u4EEC\u53EA\u9700\u5728\u9700\u8981\u65F6\u6E32\u67D3\u6216\u56DE\u6536\u5143\u7D20\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5316\u7248\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"IntersectionObserver"})," \u6765\u5B9E\u73B0\u865A\u62DF\u6EDA\u52A8\u7684\u4F8B\u5B50\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"class VirtualScroll {\n  constructor (container, itemHeight, totalItems, renderItem) {\n    this.container = container\n    this.itemHeight = itemHeight\n    this.totalItems = totalItems\n    this.renderItem = renderItem\n\n    this.observer = new IntersectionObserver(this.onIntersection.bind(this), {\n      root: this.container,\n      threshold: 1.0\n    })\n\n    this.items = new Map()\n\n    this.init()\n  }\n\n  init () {\n    // \u586B\u5145\u521D\u59CB\u5C4F\u5E55\u7684\u5143\u7D20\n    for (let i = 0; i < this.totalItems; i++) {\n      const placeholder = this.createPlaceholder(i)\n      this.container.appendChild(placeholder)\n      this.observer.observe(placeholder)\n    }\n  }\n\n  createPlaceholder (index) {\n    const placeholder = document.createElement('div')\n    placeholder.style.height = `${this.itemHeight}px`\n    placeholder.style.width = '100%'\n    placeholder.dataset.index = index // store index\n    return placeholder\n  }\n\n  onIntersection (entries) {\n    entries.forEach((entry) => {\n      const index = entry.target.dataset.index\n      if (entry.isIntersecting) {\n        const rendered = this.renderItem(index)\n        this.container.replaceChild(rendered, entry.target)\n        this.items.set(index, rendered)\n      } else if (this.items.has(index)) {\n        const placeholder = this.createPlaceholder(index)\n        this.container.replaceChild(placeholder, this.items.get(index))\n        this.observer.observe(placeholder)\n        this.items.delete(index)\n      }\n    })\n  }\n}\n\n// Render item function\nfunction renderItem (index) {\n  const item = document.createElement('div')\n  item.classList.add('item')\n  item.textContent = `Item ${index}`\n  item.dataset.index = index\n  item.style.height = '30px' // Same as your itemHeight in VirtualScroll\n  return item\n}\n\n// Example usage:\nconst container = document.getElementById('scroll-container') // This should be a predefined element in your HTML\nconst itemHeight = 30 // Height of each item\nconst itemCount = 1000 // Total number of items you have\n\nconst virtualScroll = new VirtualScroll(container, itemHeight, itemCount, renderItem)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u91CC\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"VirtualScroll"})," \u7C7B\uFF0C\u6784\u9020\u51FD\u6570\u63A5\u6536\u5BB9\u5668\u5143\u7D20\u3001\u6BCF\u4E2A\u9879\u7684\u9AD8\u5EA6\u3001\u603B\u9879\u76EE\u6570\u548C\u7528\u4E8E\u6E32\u67D3\u6BCF\u4E2A\u9879\u76EE\u7684\u51FD\u6570\u3002\u6211\u4EEC\u5728\u521D\u59CB\u5316\u65B9\u6CD5\u4E2D\uFF0C\u4E3A\u6BCF\u4E2A\u9879\u76EE\u521B\u5EFA\u4E86\u4E00\u4E2A\u5360\u4F4D\u7B26\u5143\u7D20\uFF0C\u5E76\u4E14\u5411 ",(0,l.jsx)(e.code,{children:"IntersectionObserver"})," \u6CE8\u518C\u4E86\u8FD9\u4E9B\u5360\u4F4D\u5143\u7D20\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u4E00\u4E2A\u5360\u4F4D\u5143\u7D20\u8FDB\u5165\u5230\u89C6\u53E3\u4E2D\u65F6\uFF0C\u6211\u4EEC\u5C31\u4F1A\u6E32\u67D3\u5BF9\u5E94\u7684\u9879\uFF0C\u5E76\u4E14\u5C06\u5B83\u66FF\u6362\u8FD9\u4E2A\u5360\u4F4D\u7B26\u3002\u5F53\u4E00\u4E2A\u9879\u79BB\u5F00\u89C6\u53E3\uFF0C\u6211\u4EEC\u53C8\u4F1A\u5C06\u5B83\u66FF\u6362\u56DE\u539F\u6765\u7684\u5360\u4F4D\u7B26\u5E76\u53D6\u6D88\u5B83\u7684\u6CE8\u518C\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u79CD\u65B9\u6CD5\u7684\u4F18\u52BF\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E0D\u9700\u8981\u7ED1\u5B9A\u6EDA\u52A8\u4E8B\u4EF6\uFF0C\u9632\u6B62\u6EDA\u52A8\u6027\u80FD\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u4F18\u5316\u89C2\u5BDF\u8005\u7684\u56DE\u8C03\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u9700\u8981\u624B\u52A8\u8BA1\u7B97\u5F53\u524D\u5E94\u8BE5\u6E32\u67D3\u7684\u9879\u76EE\uFF0C\u5F53\u7528\u6237\u5FEB\u901F\u6EDA\u52A8\u65F6\u4E5F\u4E0D\u4F1A\u9047\u5230\u7A7A\u767D\u5185\u5BB9\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p1-virtuallist",children:"\u4E00\u6B21\u6027\u6E32\u67D3\u5341\u4E07\u6761\u6570\u636E\u8FD8\u80FD\u4FDD\u8BC1\u9875\u9762\u4E0D\u5361\u987F"}),"\n",(0,l.jsxs)(e.p,{children:["\u539F\u7406\u5176\u5B9E\u5C31\u662F \u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"requestAnimationFrame"})," \u5B9E\u73B0\u5206\u5757\u513F\u52A0\u8F7D\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"requestAnimationFrame + fragment\uFF08\u65F6\u95F4\u5206\u7247\uFF09"}),"\n",(0,l.jsxs)(e.p,{children:["\u65E2\u7136\u5B9A\u65F6\u5668\u7684\u6267\u884C\u65F6\u95F4\u548C\u6D4F\u89C8\u5668\u7684\u5237\u65B0\u7387\u4E0D\u4E00\u81F4\uFF0C\u90A3\u4E48\u6211\u5C31\u53EF\u4EE5\u7528",(0,l.jsx)(e.code,{children:"requestAnimationFrame"}),"\u6765\u89E3\u51B3"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"requestAnimationFrame"}),"\u4E5F\u662F\u4E2A\u5B9A\u65F6\u5668\uFF0C\u4E0D\u540C\u4E8E",(0,l.jsx)(e.code,{children:"setTimeout"}),"\uFF0C\u5B83\u7684\u65F6\u95F4\u4E0D\u9700\u8981\u6211\u4EEC\u4EBA\u4E3A\u6307\u5B9A\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u53D6\u51B3\u4E8E\u5F53\u524D\u7535\u8111\u7684\u5237\u65B0\u7387\uFF0C\u5982\u679C\u662F 60Hz \uFF0C\u90A3\u4E48\u5C31\u662F 16.7ms \u6267\u884C\u4E00\u6B21\uFF0C\u5982\u679C\u662F 120Hz \u90A3\u5C31\u662F 8.3ms \u6267\u884C\u4E00\u6B21"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u56E0\u6B64",(0,l.jsx)(e.code,{children:"requestAnimationFrame"}),"\u4E5F\u662F\u4E2A\u5B8F\u4EFB\u52A1\uFF0C\u524D\u9635\u5B50\u9762\u8BD5\u5C31\u88AB\u95EE\u5230\u8FC7\u8FD9\u4E2A"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E48\u4E00\u6765\uFF0C\u6BCF\u6B21\u7535\u8111\u5C4F\u5E55 16.7ms \u540E\u5237\u65B0\u4E00\u4E0B\uFF0C\u5B9A\u65F6\u5668\u5C31\u4F1A\u4EA7\u751F 20 \u4E2A",(0,l.jsx)(e.code,{children:"li"}),"\uFF0C",(0,l.jsx)(e.code,{children:"dom"}),"\u7ED3\u6784\u7684\u51FA\u73B0\u548C\u5C4F\u5E55\u7684\u5237\u65B0\u4FDD\u6301\u4E86\u4E00\u81F4"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const total = 100000\nconst ul = document.getElementById('container')\nconst once = 20\nconst page = total / once\n\nfunction loop (curTotal) {\n  if (curTotal <= 0) return\n\n  const pageCount = Math.min(curTotal, once)\n\n  window.requestAnimationFrame(() => {\n    for (let i = 0; i < pageCount; i++) {\n      const li = document.createElement('li')\n      li.innerHTML = ~~(Math.random() * total)\n      ul.appendChild(li)\n    }\n    loop(curTotal - pageCount)\n  })\n}\n\nloop(total)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5176\u5B9E\u76EE\u524D\u8FD9\u4E2A\u4EE3\u7801\u8FD8\u53EF\u4EE5\u4F18\u5316\u4E00\u4E0B\uFF0C\u6BCF\u4E00\u6B21",(0,l.jsx)(e.code,{children:"appendChild"}),"\u90FD\u662F\u65B0\u589E\u4E00\u4E2A\u65B0\u7684",(0,l.jsx)(e.code,{children:"li"}),"\uFF0C\u4E5F\u5C31\u610F\u5473\u7740\u9700\u8981\u56DE\u6D41\u4E00\u6B21\uFF0C\u603B\u5171\u5341\u4E07\u6761\u6570\u636E\u5C31\u9700\u8981\u56DE\u6D41\u5341\u4E07\u6B21"]}),"\n",(0,l.jsxs)(e.p,{children:["\u6B64\u524D\u8BB2\u56DE\u6D41\u7684\u65F6\u5019\u63D0\u51FA\u8FC7\u865A\u62DF\u7247\u6BB5",(0,l.jsx)(e.code,{children:"fragment"}),"\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"fragment"}),"\u662F\u865A\u62DF\u6587\u6863\u788E\u7247\uFF0C\u6211\u4EEC\u4E00\u6B21",(0,l.jsx)(e.code,{children:"for"}),"\u5FAA\u73AF\u4EA7\u751F 20 \u4E2A",(0,l.jsx)(e.code,{children:"li"}),"\u7684\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u5168\u90E8\u628A\u771F\u5B9E",(0,l.jsx)(e.code,{children:"dom"}),"\u6302\u8F7D\u5230",(0,l.jsx)(e.code,{children:"fragment"}),"\u4E0A\uFF0C\u7136\u540E\u518D\u628A",(0,l.jsx)(e.code,{children:"fragment"}),"\u6302\u8F7D\u5230\u771F\u5B9E",(0,l.jsx)(e.code,{children:"dom"}),"\u4E0A\uFF0C\u8FD9\u6837\u539F\u6765\u9700\u8981\u56DE\u6D41\u5341\u4E07\u6B21\uFF0C\u73B0\u5728\u53EA\u9700\u8981\u56DE\u6D41",(0,l.jsx)(e.code,{children:"100000 / 20"}),"\u6B21"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const total = 100000\nconst ul = document.getElementById('container')\nconst once = 20\nconst page = total / once\n\nfunction loop (curTotal) {\n  if (curTotal <= 0) return\n\n  const pageCount = Math.min(curTotal, once)\n\n  window.requestAnimationFrame(() => {\n    const fragment = document.createDocumentFragment() // \u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u6587\u6863\u788E\u7247\n    for (let i = 0; i < pageCount; i++) {\n      const li = document.createElement('li')\n      li.innerHTML = ~~(Math.random() * total)\n      fragment.appendChild(li) // \u6302\u5230fragment\u4E0A\n    }\n    ul.appendChild(fragment) // \u73B0\u5728\u624D\u56DE\u6D41\n    loop(curTotal - pageCount)\n  })\n}\n\nloop(total)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FDB\u9636\uFF1A \u5982\u679C\u505A\u5230\u6781\u81F4\u7684\u8BDD\uFF0C \u53EF\u4EE5\u8003\u8651\u901A\u8FC7\u52A8\u6001\u8BA1\u7B97\u6E32\u67D3\u7684\u91CF\uFF0C \u4E00\u6B21\u6027\u6E32\u67D3\u591A\u5C11\u3002 \u4F1A\u6D89\u53CA\u5230\u4E00\u4E9B \u957F\u4EFB\u52A1 \u7B49\u76F8\u5173\u77E5\u8BC6\u3002\n\u8FD9\u90E8\u5206\u53EF\u4EE5\u53C2\u8003\uFF1A",(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7328366295091380262",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(e.p,{children:"\u53C2\u8003\u6587\u6863"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7354940230301057033",children:"\u8D44\u6599"})}),"\n",(0,l.jsx)(e.h2,{id:"\u4E0B\u8F7D\u8FDB\u5EA6",children:"\u4E0B\u8F7D\u8FDB\u5EA6"}),"\n",(0,l.jsxs)(e.p,{children:["\u8981\u83B7\u53D6\u4E0B\u8F7D\u8FDB\u5EA6\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"XMLHttpRequest"})," \u5BF9\u8C61\u63D0\u4F9B\u7684 ",(0,l.jsx)(e.code,{children:"onprogress"})," \u4E8B\u4EF6\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 onprogress \u4E8B\u4EF6\uFF0C\u53EF\u4EE5\u83B7\u53D6\u6587\u4EF6\u7684\u4E0B\u8F7D\u8FDB\u5EA6\u4FE1\u606F\uFF0C\u53EF\u4EE5\u901A\u8FC7 loaded \u548C total \u5C5E\u6027\u83B7\u53D6\u5F53\u524D\u5DF2\u7ECF\u4E0B\u8F7D\u7684\u5B57\u8282\u6570\u548C\u6587\u4EF6\u7684\u603B\u5B57\u8282\u6570\uFF0C\u4ECE\u800C\u8BA1\u7B97\u51FA\u5F53\u524D\u7684\u4E0B\u8F7D\u8FDB\u5EA6\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u4F7F\u7528 onprogress \u4E8B\u4EF6\u83B7\u53D6\u6587\u4EF6\u4E0B\u8F7D\u8FDB\u5EA6\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const xhr = new XMLHttpRequest()\nxhr.open('GET', 'file.url', true)\nxhr.responseType = 'blob'\nxhr.onprogress = function (event) {\n  if (event.lengthComputable) {\n    const percentComplete = (event.loaded / event.total) * 100\n    console.log(`Downloaded ${percentComplete}%`)\n  }\n}\nxhr.onload = function (event) {\n  // \u6587\u4EF6\u4E0B\u8F7D\u5B8C\u6210\n  const blob = xhr.response\n}\nxhr.send()\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\uFF0C\u901A\u8FC7\u5C06 XMLHttpRequest \u5BF9\u8C61\u7684 ",(0,l.jsx)(e.strong,{children:"responseType \u8BBE\u7F6E\u4E3A blob"}),"\uFF0C\u6765\u8BF7\u6C42\u4E00\u4E2A\u6587\u4EF6\u8D44\u6E90\uFF0C\u7136\u540E\u76D1\u542C onprogress \u4E8B\u4EF6\uFF0C\u8BA1\u7B97\u51FA\u5F53\u524D\u7684\u4E0B\u8F7D\u8FDB\u5EA6\uFF0C\u5E76\u5728\u63A7\u5236\u53F0\u8F93\u51FA\uFF0C\u6700\u540E\u5728 onload \u4E8B\u4EF6\u4E2D\u83B7\u53D6\u5230\u4E0B\u8F7D\u7684\u6587\u4EF6\u5185\u5BB9\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-ajax",children:"\u624B\u5199\u521B\u5EFA\u4E00\u4E2A ajax \u8BF7\u6C42"}),"\n",(0,l.jsx)(e.p,{children:"\u4E00\u822C\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528XMLHttpRequest\u5BF9\u8C61\u6765\u521B\u5EFAAjax\u8BF7\u6C42\uFF0C\u5176\u6D41\u7A0B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFAXMLHttpRequest\u5BF9\u8C61\uFF0C\u901A\u8FC7\u8C03\u7528\u5176\u6784\u9020\u51FD\u6570\u6765\u5B9E\u73B0\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528open()\u65B9\u6CD5\u6307\u5B9A\u8BF7\u6C42\u7684\u65B9\u6CD5\u3001URL\u4EE5\u53CA\u662F\u5426\u5F02\u6B65\u8BF7\u6C42\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528setRequestHeader()\u65B9\u6CD5\u8BBE\u7F6E\u8BF7\u6C42\u5934\uFF0C\u4F8B\u5982\u8BBE\u7F6E\u8BF7\u6C42\u7684Content-Type\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u8BBE\u7F6E\u54CD\u5E94\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u4E00\u822C\u6709onreadystatechange\u548Conload\u4E24\u79CD\u65B9\u5F0F\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528send()\u65B9\u6CD5\u53D1\u9001\u8BF7\u6C42\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const getJSON = function (url) {\n  const promise = new Promise(function (resolve, reject) {\n    function handler () {\n      if (this.readyState !== 4) {\n        return\n      }\n      if (this.status === 200) {\n        resolve(this.response)\n      } else {\n        reject(new Error(this.statusText))\n      }\n    }\n\n    const client = new XMLHttpRequest()\n    // \u5982\u679C\u662FIE\u7684\u5185\u6838ActiveXObject('Microsoft.XMLHTTP');\n    client.open('GET', url)\n    client.onreadystatechange = handler\n    client.responseType = 'json'\n    client.setRequestHeader('Accept', 'application/json')\n    // \u5982\u679C\u662Fpost\u8BF7\u6C42\uFF1Aclient.setRequestHeader('Content-Type','application/X-WWW-form-urlencoded')\n    client.send()\n  })\n  return promise\n}\n\ngetJSON('/posts.json').then(function (json) {\n  console.log('Contents: ' + json)\n}, function (error) {\n  console.error(' \u51FA\u9519\u4E86 ', error)\n})\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"xhr.open()"})," \u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u8BF7\u6C42\u7684\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u662FGET\u3001POST\u3001PUT\u7B49\uFF1B\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u8BF7\u6C42\u7684URL\uFF1B\u7B2C\u4E09\u4E2A\u53C2\u6570\u8868\u793A\u662F\u5426\u5F02\u6B65\u8BF7\u6C42\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"setRequestHeader()"}),"\u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u8BF7\u6C42\u5934\uFF0C\u4F8B\u5982\u8BBE\u7F6EContent-Type\uFF0C\u5E38\u89C1\u7684\u503C\u6709application/json\u3001application/x-www-form-urlencoded\u7B49"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"onreadystatechange\u56DE\u8C03\u51FD\u6570"}),"\u4F1A\u5728XMLHttpRequest\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F\u53D8\u5316\u65F6\u89E6\u53D1"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6700\u540E\uFF0C\u8C03\u7528send()\u65B9\u6CD5\u53D1\u9001\u8BF7\u6C42\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8C03\u51FD\u6570\u4E00\u822C\u6709\u54EA\u4E9B\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:["\u8BBE\u7F6E\u54CD\u5E94\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u4E00\u822C\u6709 ",(0,l.jsx)(e.code,{children:"onreadystatechange"})," \u548C ",(0,l.jsx)(e.code,{children:"onload"})," \u4E24\u79CD\u65B9\u5F0F\uFF1B"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728 XMLHttpRequest \u5BF9\u8C61\u4E2D\uFF0Conreadystatechange \u548C onload \u662F\u4E24\u79CD\u4E0D\u540C\u7684\u4E8B\u4EF6\u56DE\u8C03\u51FD\u6570\u3002"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"onreadystatechange"})," :\u4E8B\u4EF6\u4F1A\u5728 readyState \u7684\u503C\u6539\u53D8\u65F6\u88AB\u89E6\u53D1\uFF0C\u5B83\u4F1A\u5728\u8BF7\u6C42\u8FC7\u7A0B\u4E2D\u7684\u6BCF\u4E2A\u72B6\u6001\u6539\u53D8\u65F6\u90FD\u88AB\u89E6\u53D1\uFF0C\u4ECE\u800C\u53EF\u4EE5\u901A\u8FC7 readyState\n\u7684\u503C\u6765\u5224\u65AD\u8BF7\u6C42\u7684\u8FC7\u7A0B\u3002\u4E00\u822C\u6765\u8BF4\uFF0Conreadystatechange \u56DE\u8C03\u51FD\u6570\u9700\u8981\u6839\u636E readyState \u7684\u4E0D\u540C\u503C\u505A\u51FA\u4E0D\u540C\u7684\u5904\u7406\uFF0C\u5982\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"readyState \u4E3A 1 \uFF08UNSENT\uFF09\uFF1A\u4EE3\u7406\u88AB\u521B\u5EFA\uFF0C\u4F46\u5C1A\u672A\u8C03\u7528 open() \u65B9\u6CD5\uFF1B"}),"\n",(0,l.jsx)(e.li,{children:"readyState \u4E3A 1 \uFF08\u5DF2\u7ECF\u8C03\u7528 open() \u65B9\u6CD5\uFF09\u65F6\uFF0C\u53EF\u4EE5\u505A\u4E00\u4E9B\u8BF7\u6C42\u521D\u59CB\u5316\u7684\u5DE5\u4F5C\uFF1B"}),"\n",(0,l.jsx)(e.li,{children:"readyState \u4E3A 2 \uFF08\u5DF2\u7ECF\u8C03\u7528 send() \u65B9\u6CD5\uFF09\u65F6\uFF0C\u53EF\u4EE5\u83B7\u53D6\u54CD\u5E94\u5934\u4FE1\u606F\uFF1B"}),"\n",(0,l.jsx)(e.li,{children:"readyState \u4E3A 3 \uFF08\u6B63\u5728\u63A5\u6536\u6570\u636E\uFF09\u65F6\uFF0C\u53EF\u4EE5\u83B7\u53D6\u54CD\u5E94\u7684\u90E8\u5206\u6570\u636E\uFF1B"}),"\n",(0,l.jsx)(e.li,{children:"readyState \u4E3A 4 \uFF08\u5DF2\u7ECF\u63A5\u6536\u5230\u5168\u90E8\u54CD\u5E94\u6570\u636E\uFF09\u65F6\uFF0C\u53EF\u4EE5\u5BF9\u54CD\u5E94\u7684\u6570\u636E\u8FDB\u884C\u5904\u7406\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"onload"}),": \u800C onload \u4E8B\u4EF6\u5219\u662F\u5728\u6574\u4E2A\u8BF7\u6C42\u8FC7\u7A0B\u5B8C\u6210\u540E\u88AB\u89E6\u53D1\uFF0C\u8868\u793A\u6574\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u5B8C\u6210\u3002\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570\u901A\u5E38\u7528\u6765\u5904\u7406\u54CD\u5E94\u6570\u636E\uFF0C\u5982\u5C06\u54CD\u5E94\u6570\u636E\u6E32\u67D3\u5230\u9875\u9762\u4E2D\u7B49\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u56E0\u6B64\uFF0Conreadystatechange \u548C onload \u8FD9\u4E24\u79CD\u56DE\u8C03\u51FD\u6570\u7684\u4F5C\u7528\u662F\u4E0D\u540C\u7684\uFF0C\u9700\u8981\u6839\u636E\u4E0D\u540C\u7684\u573A\u666F\u8FDB\u884C\u9009\u62E9\u548C\u4F7F\u7528\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p2-web-idle",children:"\u5982\u4F55\u68C0\u6D4B\u7F51\u9875\u7A7A\u95F2\u72B6\u6001(\u4E00\u5B9A\u65F6\u95F4\u5185\u65E0\u64CD\u4F5C)"}),"\n",(0,l.jsx)(e.p,{children:"\u9996\u5148\uFF0C\u6211\u4EEC\u8981\u77E5\u9053\u4EC0\u4E48\u662F\u7A7A\u95F2\uFF1F\u7528\u6237\u4E00\u5B9A\u65F6\u95F4\u5185\uFF0C\u6CA1\u6709\u5BF9\u7F51\u9875\u8FDB\u884C\u4EFB\u4F55\u64CD\u4F5C\uFF0C\u5219\u5F53\u524D\u7F51\u9875\u4E3A\u7A7A\u95F2\u72B6\u6001\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u7528\u6237\u64CD\u4F5C\u7F51\u9875\uFF0C\u65E0\u975E\u5C31\u662F\u901A\u8FC7",(0,l.jsx)(e.code,{children:"\u9F20\u6807"}),"\u3001",(0,l.jsx)(e.code,{children:"\u952E\u76D8"}),"\u4E24\u4E2A\u8F93\u5165\u8BBE\u5907(\u6682\u4E0D\u8003\u8651\u624B\u67C4\u7B49\u8BBE\u5907)\u3002\u56E0\u800C\u6211\u4EEC\u53EF\u4EE5\u76D1\u542C\u76F8\u5E94\u7684\u8F93\u5165\u4E8B\u4EF6\uFF0C\u6765\u5224\u65AD\u7F51\u9875\u662F\u5426\u7A7A\u95F2(\u7528\u6237\u662F\u5426\u6709\u64CD\u4F5C\u7F51\u9875)\u3002"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u76D1\u542C\u9F20\u6807\u79FB\u52A8\u4E8B\u4EF6",(0,l.jsx)(e.code,{children:"mousemove"}),"\uFF1B"]}),"\n",(0,l.jsxs)(e.li,{children:["\u76D1\u542C\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6",(0,l.jsx)(e.code,{children:"mousedown"}),"\uFF1B"]}),"\n",(0,l.jsx)(e.li,{children:"\u5728\u7528\u6237\u8FDB\u5165\u7F51\u9875\u540E\uFF0C\u8BBE\u7F6E\u5EF6\u65F6\u8DF3\u8F6C\uFF0C\u5982\u679C\u89E6\u53D1\u4EE5\u4E0A\u4E8B\u4EF6\uFF0C\u5219\u79FB\u9664\u5EF6\u65F6\u5668\uFF0C\u5E76\u91CD\u65B0\u5F00\u59CB\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u7F51\u9875\u7A7A\u95F2\u68C0\u6D4B\u5B9E\u73B0"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u70B9\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u9700\u8981\u4F7F\u7528\u9632\u6296\u65B9\u5F0F\u5B9E\u73B0\uFF0C\u907F\u514D\u6027\u80FD\u95EE\u9898"}),"\n",(0,l.jsxs)(e.li,{children:["\u76D1\u542C",(0,l.jsx)(e.code,{children:"visibilitychange"}),"\u4E8B\u4EF6\uFF0C\u5728\u9875\u9762\u9690\u85CF\u65F6\u79FB\u9664\u5EF6\u65F6\u5668\uFF0C\u7136\u540E\u9875\u9762\u663E\u793A\u65F6\u7EE7\u7EED\u8BA1\u65F6\uFF0C\u4ECE\u800C\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"/**\n\u7F51\u9875\u7A7A\u95F2\u68C0\u6D4B\n@param {() => void} callback \u7A7A\u95F2\u65F6\u6267\u884C\uFF0C\u5373\u4E00\u5B9A\u65F6\u957F\u65E0\u64CD\u4F5C\u65F6\u89E6\u53D1\n@param {number} [timeout=15] \u65F6\u957F\uFF0C\u9ED8\u8BA415s\uFF0C\u5355\u4F4D\uFF1A\u79D2\n@param {boolean} [immediate=false] \u662F\u5426\u7ACB\u5373\u5F00\u59CB\uFF0C\u9ED8\u8BA4 false\n@returns\n */\nconst onIdleDetection = (callback, timeout = 15, immediate = false) => {\n  let pageTimer\n  let beginTime = 0\n  const onClearTimer = () => {\n    pageTimer && clearTimeout(pageTimer)\n    pageTimer = undefined\n  }\n  const onStartTimer = () => {\n    const currentTime = Date.now()\n    if (pageTimer && currentTime - beginTime < 100) {\n      return\n    }\n\n    onClearTimer()\n    beginTime = currentTime\n    pageTimer = setTimeout(() => {\n      callback()\n    }, timeout1000)\n  }\n\n  const onPageVisibility = () => {\n    // \u9875\u9762\u663E\u793A\u72B6\u6001\u6539\u53D8\u65F6\uFF0C\u79FB\u9664\u5EF6\u65F6\u5668\n    onClearTimer()\n\n    if (document.visibilityState === 'visible') {\n      const currentTime = Date.now()\n      // \u9875\u9762\u663E\u793A\u65F6\uFF0C\u8BA1\u7B97\u65F6\u95F4\uFF0C\u5982\u679C\u8D85\u51FA\u9650\u5236\u65F6\u95F4\u5219\u76F4\u63A5\u6267\u884C\u56DE\u8C03\u51FD\u6570\n      if (currentTime - beginTime >= timeout1000) {\n        callback()\n        return\n      }\n      // \u7EE7\u7EED\u8BA1\u65F6\n      pageTimer = setTimeout(() => {\n        callback()\n      }, timeout1000 - (currentTime - beginTime))\n    }\n  }\n\n  const startDetection = () => {\n    onStartTimer()\n    document.addEventListener('mousedown', onStartTimer)\n    document.addEventListener('mousemove', onStartTimer)\n    document.addEventListener('visibilitychange', onPageVisibility)\n  }\n\n  const stopDetection = () => {\n    onClearTimer()\n    document.removeEventListener('mousedown', onStartTimer)\n    document.removeEventListener('mousemove', onStartTimer)\n    document.removeEventListener('visibilitychange', onPageVisibility)\n  }\n\n  const restartDetection = () => {\n    onClearTimer()\n    onStartTimer()\n  }\n\n  if (immediate) {\n    startDetection()\n  }\n\n  return {\n    startDetection,\n    stopDetection,\n    restartDetection\n  }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6269\u5C55"}),"\n",(0,l.jsxs)(e.p,{children:["chrome\u6D4F\u89C8\u5668\u5176\u5B9E\u63D0\u4F9B\u4E86\u4E00\u4E2A",(0,l.jsx)(e.code,{children:"Idle Detection"}),"API\uFF0C\u6765\u5B9E\u73B0\u7F51\u9875\u7A7A\u95F2\u72B6\u6001\u7684\u68C0\u6D4B\uFF0C\u4F46\u662F\u8FD9\u4E2AAPI\u8FD8\u662F\u4E00\u4E2A\u5B9E\u9A8C\u6027\u7279\u6027\uFF0C\u5E76\u4E14Firefox\u4E0ESafari\u4E0D\u652F\u6301\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u53C2\u8003\u6587\u6863"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://juejin.cn/post/7344670957405405223",children:"\u8D44\u6599"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-domer-render",children:"\u624B\u5199 dom \u5206\u6BB5\u6E32\u67D3"}),"\n",(0,l.jsx)(e.p,{children:"\u5206\u65F6\u51FD\u6570\u6848\u4F8B\uFF1A\u628A1\u79D2\u521B\u5EFA1000\u4E2ADOM\u8282\u70B9\uFF0C\u6539\u6210\u6BCF\u9694200\u6BEB\u79D2\u521B\u5EFA10\u4E2A\u8282\u70B9\uFF0C\u8FD9\u6837\u4E0D\u7528\u77ED\u65F6\u95F4\u5728\u9875\u9762\u4E2D\u521B\u5EFA\u5927\u91CF\u7684DOM\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-jsx",children:"var timeChunk = function(arr,fn,count,interval) {\n var timer = null;\n var data = null;\n var start = function() {\n for(var i = 0 ; i < Math.min(count || 1 , arr.length) ; i++) {\n fn(arr.shift());\n }\n }\n return function() {\n timer = setInterval(function(){\n if(arr.length == 0) {\n clearInterval(timer);\n timer = null;\n return;\n }\n start();\n }, interval || 200)\n }\n}\n\nvar arr = [];\nfor(var i = 0 ; i < 1000 ; i++) {\n arr.push(i);\n}\n\nvar renderDOMList = timeChunk(arr, function(data) {\n var div = document.createElement('div');\n div.innerHTML = data;\n document.body.appendChild(div);\n},10,200);\nrenderDOMList();\n"})}),"\n",(0,l.jsx)(e.h2,{id:"p1-settimeout-setinterval",children:"\u4E0D\u4F7F\u7528 setTimeout \u6765\u5B9E\u73B0 setInterval"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u952E\u8BCD"}),"\uFF1A\u5B9E\u73B0setInterval\u3001requestAnimationFrame\u5B9E\u73B0setInterval\u3001setTimeout\u5B9E\u73B0setInterval"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u4E0D\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"setTimeout"})," \u6765\u5B9E\u73B0 ",(0,l.jsx)(e.code,{children:"setInterval"}),"\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"requestAnimationFrame"})," \u51FD\u6570\u548C\u65F6\u95F4\u6233\u6765\u5B9E\u73B0\u5B9A\u65F6\u5FAA\u73AF\u3002\u4E0B\u9762\u662F\u5B9E\u73B0\u7684\u4EE3\u7801\u793A\u4F8B\uFF1A"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5F0F1"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function mySetInterval (callback, interval) {\n  let startTime = Date.now()\n  let elapsedTime = 0\n\n  function loop () {\n    const currentTime = Date.now()\n    const deltaTime = currentTime - startTime\n\n    if (deltaTime >= interval) {\n      callback()\n      startTime = currentTime\n    }\n\n    requestAnimationFrame(loop)\n  }\n\n  requestAnimationFrame(loop)\n\n  return {\n    clear: function () {\n      startTime = 0\n      elapsedTime = 0\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A\u5B9E\u73B0\u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"requestAnimationFrame"})," \u51FD\u6570\u6765\u5FAA\u73AF\u6267\u884C ",(0,l.jsx)(e.code,{children:"loop"})," \u51FD\u6570\u3002\u5728 ",(0,l.jsx)(e.code,{children:"loop"})," \u51FD\u6570\u4E2D\uFF0C\u6211\u4EEC\u83B7\u53D6\u5F53\u524D\u65F6\u95F4\u6233 ",(0,l.jsx)(e.code,{children:"currentTime"}),"\uFF0C\u5E76\u8BA1\u7B97\u4E0E\u4E0A\u4E00\u6B21\u6267\u884C\u7684\u65F6\u95F4\u95F4\u9694 ",(0,l.jsx)(e.code,{children:"deltaTime"}),"\n\u3002\u5982\u679C ",(0,l.jsx)(e.code,{children:"deltaTime"})," \u5927\u4E8E\u7B49\u4E8E\u6307\u5B9A\u7684\u95F4\u9694\u65F6\u95F4 ",(0,l.jsx)(e.code,{children:"interval"}),"\uFF0C\u5219\u6267\u884C\u56DE\u8C03\u51FD\u6570 ",(0,l.jsx)(e.code,{children:"callback"}),"\uFF0C\u5E76\u66F4\u65B0 ",(0,l.jsx)(e.code,{children:"startTime"})," \u4E3A\u5F53\u524D\u65F6\u95F4\uFF0C\u4EE5\u4FBF\u4E0B\u4E00\u6B21\u5224\u65AD\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u6700\u540E\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5177\u6709 ",(0,l.jsx)(e.code,{children:"clear"})," \u65B9\u6CD5\u7684\u5BF9\u8C61\uFF0C\u7528\u4E8E\u6E05\u9664\u5B9A\u65F6\u5668\u3002\u8C03\u7528 ",(0,l.jsx)(e.code,{children:"clear"})," \u65B9\u6CD5\u65F6\uFF0C\u5C06 ",(0,l.jsx)(e.code,{children:"startTime"})," \u548C ",(0,l.jsx)(e.code,{children:"elapsedTime"})," \u91CD\u7F6E\u4E3A\u521D\u59CB\u503C\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5F0F2"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const obj = {\n  timer: null,\n  setInterval: function (callback, interval) {\n    const now = Date.now\n    let startTime = now()\n    let endTime = startTime\n    const self = this\n    const loop = function () {\n      self.timer = requestAnimationFrame(loop)\n      endTime = now()\n      if (endTime - startTime >= interval) {\n        startTime = endTime = now()\n        callback && callback()\n      }\n    }\n    this.timer = requestAnimationFrame(loop)\n    return this.timer\n  },\n  clearInterval: function () {\n    cancelAnimationFrame(this.timer)\n  }\n}\n\nlet count = 0\nconst timer = obj.setInterval(() => {\n  console.log('interval...')\n  count++\n  if (count >= 3) {\n    obj.clearInterval()\n  }\n}, 500)\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5F0F3"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"setTimeout"})," \u6765\u5B9E\u73B0"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:"/**\nsetTimeout \u7248\u672C\n */\nfunction _setIntervalUseTimeout (\n  fn: () => void,\n  millisec: number,\n  count?: number\n) {\n  let timer: number\n  function interval () {\n    if (typeof count === 'undefined' || count-- > 0) {\n      timer = setTimeout(interval, millisec)\n      try {\n        fn()\n      } catch (e: any) {\n        count = 0\n        throw e.toString()\n      }\n    }\n  }\n  timer = setTimeout(interval, millisec)\n  return {\n    clear: () => clearTimeout(timer)\n  }\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"p0-interceptor",children:"\u5982\u4F55\u62E6\u622A web \u5E94\u7528\u7684\u8BF7\u6C42"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u952E\u8BCD"}),"\uFF1Aweb\u524D\u7AEF\u76D1\u542C\u8BF7\u6C42\u3001\u524D\u7AEF\u62E6\u622A\u8BF7\u6C42"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u524D\u7AEF\u62E6\u622A\u548C\u5904\u7406 Web \u5E94\u7528\u7684\u6240\u6709\u8BF7\u6C42\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 Fetch \u6216 XMLHttpRequest"}),"\uFF1A\u5728\u524D\u7AEF\u4EE3\u7801\u4E2D\u4F7F\u7528 Fetch API \u6216 XMLHttpRequest \u5BF9\u8C61\u53D1\u9001\u8BF7\u6C42\u3002\u901A\u8FC7\u62E6\u622A Fetch \u6216 XMLHttpRequest \u5BF9\u8C61\u7684 open \u548C send \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5728\u8BF7\u6C42\u53D1\u51FA\u524D\u8FDB\u884C\u62E6\u622A\u548C\u4FEE\u6539\u3002\u8FD9\u6837\u53EF\u4EE5\u6355\u83B7\u8BF7\u6C42\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u5E76\u8FDB\u884C\u76F8\u5E94\u7684\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u793A\u4F8B\u4EE3\u7801\uFF08\u4F7F\u7528 Fetch API\uFF09\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const originalFetch = window.fetch\nwindow.fetch = function (url, options) {\n  // \u5728\u8BF7\u6C42\u53D1\u51FA\u524D\u8FDB\u884C\u62E6\u622A\u548C\u5904\u7406\n  console.log('\u62E6\u622A\u5230\u8BF7\u6C42:', url)\n\n  // \u53EF\u4EE5\u4FEE\u6539\u8BF7\u6C42\u7684\u76F8\u5173\u4FE1\u606F\n  // options.headers['Authorization'] = 'Bearer token';\n\n  return originalFetch.apply(this, arguments)\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 Service Worker\uFF1AService Worker"})," \u662F\u4E00\u79CD\u5728\u6D4F\u89C8\u5668\u80CC\u540E\u8FD0\u884C\u7684\u811A\u672C\uFF0C\u53EF\u4EE5\u62E6\u622A\u548C\u5904\u7406\u7F51\u7EDC\u8BF7\u6C42\u3002\u901A\u8FC7\u6CE8\u518C\u4E00\u4E2A Service Worker\uFF0C\u53EF\u4EE5\u5728\u5176\u4E2D\u76D1\u542C\u548C\u5904\u7406\u8BF7\u6C42\u4E8B\u4EF6\u3002\u4ECE\u800C\u5B9E\u73B0\u62E6\u622A\u548C\u5904\u7406 Web \u5E94\u7528\u7684\u6240\u6709\u8BF7\u6C42\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"self.addEventListener('fetch', function (event) {\n  // \u5728\u8BF7\u6C42\u53D1\u51FA\u524D\u8FDB\u884C\u62E6\u622A\u548C\u5904\u7406\n  console.log('\u62E6\u622A\u5230\u8BF7\u6C42:', event.request.url)\n\n  // \u53EF\u4EE5\u4FEE\u6539\u8BF7\u6C42\u7684\u76F8\u5173\u4FE1\u606F\n  // event.request.headers.set('Authorization', 'Bearer token');\n\n  event.respondWith(fetch(event.request))\n})\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u524D\u7AEF\u62E6\u622A\u548C\u5904\u7406\u8BF7\u6C42\u53EA\u80FD\u5728\u5BA2\u6237\u7AEF\u8FDB\u884C\uFF0C\u5BF9\u4E8E\u670D\u52A1\u5668\u7AEF\u7684\u8BF7\u6C42\u65E0\u6CD5\u62E6\u622A\u3002\u6B64\u5916\uFF0C\u62E6\u622A\u548C\u5904\u7406\u8BF7\u6C42\u53EF\u80FD\u4F1A\u5BF9\u6027\u80FD\u4EA7\u751F\u4E00\u5B9A\u7684\u5F71\u54CD\uFF0C\u56E0\u6B64\u8981\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8FDB\u884C\u6743\u8861\u548C\u8C03\u4F18\u3002\u540C\u65F6\uFF0C\u5BF9\u4E8E\u4E00\u4E9B\u654F\u611F\u4FE1\u606F\uFF08\u5982\u5BC6\u7801\u3001\u4E2A\u4EBA\u4FE1\u606F\u7B49\uFF09\uFF0C\u5E94\u8BE5\u8C28\u614E\u5904\u7406\uFF0C\u786E\u4FDD\u5B89\u5168\u6027\u3002"}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5982\u679C\u662F\u4F7F\u7528\u662F\u4E09\u65B9\u8BF7\u6C42\u5E93\uFF0C \u6BD4\u5982 aixos"})," \uFF0C \u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u4E09\u65B9\u5E93\u63D0\u4F9B\u7684\u80FD\u529B"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u662F\u7684\uFF0C\u4F7F\u7528 axios \u4E5F\u53EF\u4EE5\u62E6\u622A\u8BF7\u6C42\u3002axios \u63D0\u4F9B\u4E86\u62E6\u622A\u5668\uFF08interceptors\uFF09\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u5728\u8BF7\u6C42\u53D1\u51FA\u524D\u8FDB\u884C\u62E6\u622A\u548C\u5904\u7406\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"import axios from 'axios'\n\n// \u8BF7\u6C42\u62E6\u622A\u5668\naxios.interceptors.request.use(function (config) {\n  // \u5728\u8BF7\u6C42\u53D1\u51FA\u524D\u8FDB\u884C\u62E6\u622A\u548C\u5904\u7406\n  console.log('\u62E6\u622A\u5230\u8BF7\u6C42:', config.url)\n\n  // \u53EF\u4EE5\u4FEE\u6539\u8BF7\u6C42\u7684\u76F8\u5173\u4FE1\u606F\n  // config.headers['Authorization'] = 'Bearer token';\n\n  return config\n}, function (error) {\n  return Promise.reject(error)\n})\n\n// \u53D1\u9001\u8BF7\u6C42\naxios.get('/api/data')\n  .then(function (response) {\n    console.log(response.data)\n  })\n  .catch(function (error) {\n    console.error(error)\n  })\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u901A\u8FC7\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"interceptors.request"})," \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5BF9\u8BF7\u6C42\u8FDB\u884C\u62E6\u622A\u548C\u5904\u7406\u3002\u5728\u62E6\u622A\u5668\u51FD\u6570\u4E2D\uFF0C\u53EF\u4EE5\u4FEE\u6539\u8BF7\u6C42\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u5E76\u8FD4\u56DE\u4FEE\u6539\u540E\u7684\u914D\u7F6E\u5BF9\u8C61\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 axios \u62E6\u622A\u8BF7\u6C42\u53EA\u80FD\u5728\u5BA2\u6237\u7AEF\u8FDB\u884C\uFF0C\u5BF9\u670D\u52A1\u5668\u7AEF\u7684\u8BF7\u6C42\u65E0\u6CD5\u62E6\u622A\u3002\u540C\u6837\u9700\u8981\u8C28\u614E\u5904\u7406\u654F\u611F\u4FE1\u606F\uFF0C\u5E76\u786E\u4FDD\u5B89\u5168\u6027\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-remove-water-pring",children:"web \u7F51\u9875\u5982\u4F55\u7981\u6B62\u522B\u4EBA\u79FB\u9664\u6C34\u5370"}),"\n",(0,l.jsx)(e.p,{children:"\u660E\u6C34\u5370\u548C\u6697\u6C34\u5370\u7684\u533A\u522B"}),"\n",(0,l.jsx)(e.p,{children:"\u524D\u7AEF\u6C34\u5370\u53EF\u4EE5\u5206\u4E3A\u660E\u6C34\u5370\u548C\u6697\u6C34\u5370\u4E24\u79CD\u7C7B\u578B\u3002\u5B83\u4EEC\u7684\u533A\u522B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u660E\u6C34\u5370\uFF1A\u660E\u6C34\u5370\u662F\u901A\u8FC7\u5728\u6587\u672C\u6216\u56FE\u50CF\u4E0A\u8986\u76D6\u53E6\u4E00\u5C42\u56FE\u50CF\u6216\u6587\u5B57\u6765\u5B9E\u73B0\u7684\u3002\u8FD9\u79CD\u6C34\u5370\u4F1A\u660E\u663E\u5730\u51FA\u73B0\u5728\u9875\u9762\u4E0A\uFF0C\u53EF\u4EE5\u7528\u6765\u663E\u793A\u7248\u6743\u4FE1\u606F\u6216\u5176\u4ED6\u76F8\u5173\u4FE1\u606F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6697\u6C34\u5370\uFF1A\u6697\u6C34\u5370\u662F\u6307\u5728\u6587\u672C\u6216\u56FE\u50CF\u4E2D\u9690\u85CF\u76F8\u5173\u4FE1\u606F\u7684\u4E00\u79CD\u6280\u672F\u3002\u8FD9\u79CD\u6C34\u5370\u4E0D\u4F1A\u76F4\u63A5\u51FA\u73B0\u5728\u9875\u9762\u4E0A\uFF0C\u53EA\u6709\u5728\u7279\u6B8A\u7684\u7A0B\u5E8F\u6216\u5DE5\u5177\u4E0B\u624D\u80FD\u88AB\u68C0\u6D4B\u5230\u3002\u6697\u6C34\u5370\u901A\u5E38\u7528\u4E8E\u4FDD\u62A4\u654F\u611F\u4FE1\u606F\u4EE5\u53CA\u8FFD\u8E2A\u7F51\u9875\u5185\u5BB9\u7684\u6765\u6E90\u548C\u7248\u672C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6DFB\u52A0\u660E\u6C34\u5370\u624B\u6BB5\u6709\u54EA\u4E9B"}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u53C2\u8003\u8FD9\u4E2A\u6587\u6863\uFF1A ",(0,l.jsx)(e.a,{href:"https://zhuanlan.zhihu.com/p/374734095",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(e.p,{children:"\u603B\u8BA1\u4E00\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u91CD\u590D\u7684dom\u5143\u7D20\u8986\u76D6\u5B9E\u73B0\uFF1A \u5728\u9875\u9762\u4E0A\u8986\u76D6\u4E00\u4E2Aposition",":fixed","\u7684div\u76D2\u5B50\uFF0C\u76D2\u5B50\u900F\u660E\u5EA6\u8BBE\u7F6E\u8F83\u4F4E\uFF0C\u8BBE\u7F6Epointer-events: none;\u6837\u5F0F\u5B9E\u73B0\u70B9\u51FB\u7A7F\u900F\uFF0C\u5728\u8FD9\u4E2A\u76D2\u5B50\u5185\u901A\u8FC7js\u5FAA\u73AF\u751F\u6210\u5C0F\u7684\u6C34\u5370div\uFF0C\u6BCF\u4E2A\u6C34\u5370div\u5185\u5C55\u793A\u4E00\u4E2A\u8981\u663E\u793A\u7684\u6C34\u5370\u5185\u5BB9"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"canvas\u8F93\u51FA\u80CC\u666F\u56FE\uFF1A \u7ED8\u5236\u51FA\u4E00\u4E2A\u6C34\u5370\u533A\u57DF\uFF0C\u5C06\u8FD9\u4E2A\u6C34\u5370\u901A\u8FC7toDataURL\u65B9\u6CD5\u8F93\u51FA\u4E3A\u4E00\u4E2A\u56FE\u7247\uFF0C\u5C06\u8FD9\u4E2A\u56FE\u7247\u8BBE\u7F6E\u4E3A\u76D2\u5B50\u7684\u80CC\u666F\u56FE\uFF0C\u901A\u8FC7backgroud-repeat\uFF1Arepeat\uFF1B\u6837\u5F0F\u5B9E\u73B0\u586B\u6EE1\u6574\u4E2A\u5C4F\u5E55\u7684\u6548\u679C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"svg\u5B9E\u73B0\u80CC\u666F\u56FE\uFF1A \u4E0Ecanvas\u751F\u6210\u80CC\u666F\u56FE\u7684\u65B9\u6CD5\u7C7B\u4F3C\uFF0C\u53EA\u4E0D\u8FC7\u662F\u751F\u6210\u80CC\u666F\u56FE\u7684\u65B9\u6CD5\u6362\u6210\u4E86\u901A\u8FC7svg\u751F\u6210"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u56FE\u7247\u52A0\u6C34\u5370"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"css \u6DFB\u52A0\u6C34\u5370\u7684\u65B9\u5F0F\uFF0C \u5982\u4F55\u9632\u6B62\u7528\u6237\u5220\u9664\u5BF9\u5E94\u7684 css \uFF0C \u4ECE\u800C\u8FBE\u5230\u53BB\u9664\u6C34\u5370\u7684\u76EE\u7684"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 CSS \u6DFB\u52A0\u6C34\u5370\u7684\u65B9\u5F0F\u672C\u8EAB\u5E76\u4E0D\u80FD\u5B8C\u5168\u9632\u6B62\u7528\u6237\u5220\u9664\u5BF9\u5E94\u7684 CSS \u6837\u5F0F\uFF0C\u4ECE\u800C\u5220\u9664\u6C34\u5370\u3002\u4F46\u662F\uFF0C\u53EF\u4EE5\u91C7\u53D6\u4E00\u4E9B\u63AA\u65BD\u6765\u589E\u52A0\u5220\u9664\u96BE\u5EA6\uFF0C\u63D0\u9AD8\u6C34\u5370\u7684\u9632\u4F2A\u80FD\u529B\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u5E38\u89C1\u7684\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8C03\u7528\u5916\u90E8CSS\u6587\u4EF6\uFF1A\u5C06\u6C34\u5370\u6837\u5F0F\u5355\u72EC\u8BBE\u7F6E\u5728\u4E00\u4E2ACSS\u6587\u4EF6\u5185\uFF0C\u5E76\u901A\u8FC7\u5916\u94FE\u7684\u65B9\u5F0F\u5728\u7F51\u7AD9\u4E2D\u8C03\u7528\uFF0C\u53EF\u4EE5\u907F\u514D\u7528\u6237\u901A\u8FC7\u7F16\u8F91\u9875\u9762HTML\u6587\u4EF6\u6216\u5185\u5D4C\u6837\u5F0F\u8868\u7684\u65B9\u5F0F\u5220\u9664\u6C34\u5370\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8BBE\u7F6E\u6837\u5F0F\u4E3A !important\uFF1A\u5728CSS\u6837\u5F0F\u4E2D\u4F7F\u7528 !important \u6807\u8BB0\u53EF\u4EE5\u907F\u514D\u88AB\u8986\u76D6\u3002\u4F46\u662F\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u4F1A\u5F71\u54CD\u7F51\u9875\u7684\u53EF\u8BFB\u6027\uFF0C\u9700\u614E\u91CD\u8003\u8651\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6DFB\u52A0\u81EA\u5B9A\u4E49\u7C7B\u540D\uFF1A\u901A\u8FC7\u5728CSS\u6837\u5F0F\u4E2D\u52A0\u5165\u81EA\u5B9A\u4E49\u7684class\u7C7B\u540D\uFF0C\u53EF\u4EE5\u9632\u6B62\u7528\u6237\u76F4\u63A5\u5220\u6389\u8BE5\u7C7B\u540D\uFF0C\u8FDB\u800C\u5220\u9664\u6C34\u5370\u3002\u4F46\u662F\uFF0C\u7528\u6237\u4E5F\u53EF\u4EE5\u901A\u8FC7\u91CD\u65B0\u5B9A\u4E49\u8BE5\u7C7B\u540D\u6837\u5F0F\u6765\u66FF\u6362\u6C34\u5370\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:'\u5C06\u6C34\u5370\u6837\u5F0F\u5E94\u7528\u5230\u591A\u4E2A\u5143\u7D20\u4E0A\uFF1A\u5C06\u6C34\u5370\u6837\u5F0F\u5E94\u7528\u5230\u591A\u4E2A\u5143\u7D20\u4E0A\uFF0C\u53EF\u4EE5\u4F7F\u5F97\u7528\u6237\u5220\u9664\u6C34\u5370\u8F83\u4E3A\u56F0\u96BE\u3002\u4F8B\u5982\uFF0C\u5728\u7F51\u7AD9\u7684\u591A\u4E2A\u4F4D\u7F6E\u90FD\u52A0\u4E0A"Power by XXX"\u7684\u6C34\u5370\u6837\u5F0F\u3002'}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528JavaScript\u52A8\u6001\u751F\u6210CSS\u6837\u5F0F\uFF1A\u53EF\u4EE5\u76D1\u542C\u6302\u8F7D\u6C34\u5370\u6837\u5F0F\u7684dom \u8282\u70B9\uFF0C \u5982\u679C\u7528\u6237\u6539\u53D8\u4E86\u8BE5 dom , \u91CD\u65B0\u751F\u6210 \u5BF9\u5E94\u7684\u6C34\u5370\u6302\u8F7D\u4E0A\u53BB\u5373\u53EF\u3002 \u8FD9\u79CD\u65B9\u6CD5\u53EF\u901A\u8FC7JS\u52A8\u6001\u751F\u6210CSS\u6837\u5F0F\uFF0C\u4ECE\u800C\u907F\u514D\u7528\u6237\u76F4\u63A5\u5728\u7F51\u9875\u6E90\u6587\u4EF6\u4E2D\u5220\u9664CSS\u4EE3\u7801\u3002\u4F46\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u79CD\u65B9\u6848\u4F1A\u7A0D\u7A0D\u52A0\u91CD\u7F51\u9875\u7684\u52A0\u8F7D\u901F\u5EA6\uFF0C\u9700\u8981\u5408\u7406\u6743\u8861\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6DF7\u6DC6CSS\u4EE3\u7801\uFF1A\u901A\u8FC7\u591A\u6B21\u91CD\u590D\u4F7F\u7528\u540C\u4E00\u6837\u5F0F\uFF0C\u6216\u8005\u91C7\u7528CSS\u538B\u7F29\u7B49\u6DF7\u6DC6\u624B\u6BB5\uFF0C\u53EF\u4EE5\u4F7FCSS\u6837\u5F0F\u8868\u53D8\u5F97\u590D\u6742\u96BE\u61C2\uFF0C\u589E\u52A0\u6C34\u5370\u88AB\u5220\u9664\u7684\u96BE\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u91C7\u7528\u56FE\u7247\u6C34\u5370\u7684\u65B9\u5F0F\uFF1A\u5C06\u6C34\u5370\u8F6C\u5316\u4E3A\u4E00\u4E2A\u900F\u660E\u7684PNG\u56FE\u7247\uFF0C\u7136\u540E\u5C06\u5176\u4F5C\u4E3A\u7F51\u9875\u7684\u80CC\u666F\u56FE\u7247\uFF0C\u53EF\u4EE5\u66F4\u6709\u6548\u5730\u9632\u6B62\u6C34\u5370\u88AB\u5220\u9664\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528SVG\u56FE\u5F62\uFF1A\u53EF\u4EE5\u5C06\u6C34\u5370\u4F5C\u4E3ASVG\u56FE\u5F62\u5D4C\u5165\u5230\u7F51\u9875\u4E2D\u8FDB\u884C\u5C55\u793A\u3002\u7531\u4E8ESVG\u7684\u77E2\u91CF\u6027\u8D28\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u4FDD\u8BC1\u6C34\u5370\u5728\u7F29\u653E\u6216\u65CB\u8F6C\u540E\u7684\u6E05\u6670\u5EA6\uFF0C\u540C\u65F6\u4E5F\u589E\u52A0\u4E86\u5220\u9664\u96BE\u5EA6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6697\u6C34\u5370\u662F\u5982\u4F55\u628A\u6C34\u5370\u4FE1\u606F\u9690\u85CF\u8D77\u6765\u7684"}),"\n",(0,l.jsx)(e.p,{children:"\u6697\u6C34\u5370\u7684\u57FA\u672C\u539F\u7406\u662F\u5728\u539F\u59CB\u6570\u636E\uFF08\u5982\u6587\u672C\u3001\u56FE\u50CF\u7B49\uFF09\u4E2D\u5D4C\u5165\u4FE1\u606F\uFF0C\u4ECE\u800C\u5B9E\u73B0\u7248\u6743\u4FDD\u62A4\u548C\u6EAF\u6E90\u8FFD\u8E2A\u7B49\u529F\u80FD\u3002\u6697\u6C34\u5370\u628A\u4FE1\u606F\u9690\u85CF\u5728\u6E90\u6570\u636E\u4E2D\uFF0C\u4F7F\u5F97\u4EBA\u773C\u96BE\u4EE5\u5BDF\u89C9\uFF0C\u540C\u65F6\u5BF9\u6E90\u6570\u636E\u7684\u5F71\u54CD\u5C3D\u53EF\u80FD\u5C0F\uFF0C\u4FDD\u6301\u5176\u81EA\u8EAB\u7684\u7279\u5F81\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4E00\u822C\u6765\u8BF4\uFF0C\u6697\u6C34\u5370\u7B97\u6CD5\u4E3B\u8981\u5305\u62EC\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6C34\u5370\u4FE1\u606F\u5904\u7406\uFF1A\u5C06\u5F85\u5D4C\u5165\u7684\u4FE1\u606F\u7ECF\u8FC7\u5904\u7406\u548C\u52A0\u5BC6\u540E\uFF0C\u8F6C\u5316\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6E90\u6570\u636E\u5904\u7406\uFF1A\u904D\u5386\u6E90\u6570\u636E\u4E2D\u7684\u50CF\u7D20\u6216\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u6839\u636E\u7279\u5B9A\u89C4\u5219\u5BF9\u5176\u8FDB\u884C\u8C03\u6574\uFF0C\u4EE5\u6B64\u817E\u51FA\u7A7A\u95F4\u63D2\u5165\u6C34\u5370\u4E8C\u8FDB\u5236\u6570\u636E\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5D4C\u5165\u6C34\u5370\uFF1A\u5C06\u6C34\u5370\u4E8C\u8FDB\u5236\u6570\u636E\u63D2\u5165\u5230\u6E90\u6570\u636E\u4E2D\u7684\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u4EE5\u67D0\u79CD\u65B9\u5F0F\u5D4C\u5165\u5230\u6E90\u6570\u636E\u4E4B\u4E2D\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u63D0\u53D6\u6C34\u5370\uFF1A\u5728\u4F7F\u7528\u6697\u6C34\u5370\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u9700\u8981\u4ECE\u5E26\u6C34\u5370\u7684\u6570\u636E\u4E2D\u63D0\u53D6\u51FA\u9690\u85CF\u7684\u6C34\u5370\u4FE1\u606F\u3002\u63D0\u53D6\u6C34\u5370\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u7684\u89E3\u5BC6\u7B97\u6CD5\u548C\u63D0\u53D6\u5BC6\u94A5\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6697\u6C34\u5370\u7684\u4E00\u4E2A\u5173\u952E\u95EE\u9898\u662F\u5728\u5D4C\u5165\u6C34\u5370\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u8981\u4FDD\u8BC1\u6C34\u5370\u5BF9\u6E90\u6570\u636E\u7684\u4F24\u5BB3\u5C3D\u53EF\u80FD\u7684\u5C0F\uFF0C\u540C\u65F6\u5D4C\u5165\u6C34\u5370\u540E\u6570\u636E\u7684\u5206\u5E03\u3001\u7EDF\u8BA1\u6027\u8D28\u7B49\u4E0D\u5E94\u53D1\u751F\u660E\u663E\u53D8\u5316\uFF0C\u4EE5\u66F4\u597D\u5730\u4FDD\u6301\u6570\u636E\u7684\u8D28\u91CF\u548C\u53EF\u89C6\u6548\u679C\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u5173\u4E8E\u52A0\u6C34\u5370\u7684\u95EE\u9898\uFF0C \u53EF\u4EE5\u770B\u8FD9\u7BC7\u6587\u6863\uFF1A ",(0,l.jsx)(e.a,{href:"https://github.com/pro-collection/interview-question/issues/351",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(e.p,{children:"\u5173\u4E8E\u5982\u4F55\u9632\u6B62\u79FB\u9664\u6C34\u5370\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u901A\u8FC7\u76D1\u542C DOM \u7684\u53D8\u5316\u6765\u68C0\u6D4B\u662F\u5426\u6709\u4EBA\u5220\u9664\u6C34\u5370\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"MutationObserver API"}),"\u3002\n",(0,l.jsx)(e.code,{children:"MutationObserver"})," \u53EF\u4EE5\u89C2\u5BDF DOM \u6811\u7684\u53D8\u5316\uFF0C\u5E76\u5728\u53D8\u5316\u53D1\u751F\u65F6\u89E6\u53D1\u56DE\u8C03\u51FD\u6570\u3002\u4F60\u53EF\u4EE5\u5728\u56DE\u8C03\u51FD\u6570\u4E2D\u68C0\u67E5\u662F\u5426\u6709\u6C34\u5370\u88AB\u5220\u9664\uFF0C\u7136\u540E\u91C7\u53D6\u76F8\u5E94\u7684\u63AA\u65BD\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\u4EE3\u7801\uFF0C\u6F14\u793A\u4E86\u5982\u4F55\u4F7F\u7528 MutationObserver \u76D1\u542C DOM \u53D8\u5316\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u76EE\u6807\u8282\u70B9\nconst targetNode = document.body\n\n// \u521B\u5EFA MutationObserver \u5B9E\u4F8B\nconst observer = new MutationObserver((mutationsList) => {\n  for (const mutation of mutationsList) {\n    // \u68C0\u67E5\u662F\u5426\u6709\u5B50\u8282\u70B9\u88AB\u5220\u9664\n    if (mutation.removedNodes.length > 0) {\n      // \u5728\u6B64\u5904\u5224\u65AD\u662F\u5426\u6709\u6C34\u5370\u88AB\u5220\u9664\n      // \u5982\u679C\u6C34\u5370\u88AB\u5220\u9664\uFF0C\u5219\u91CD\u65B0\u63D2\u5165\u6C34\u5370\u7684 DOM \u5143\u7D20\u5230\u76EE\u6807\u8282\u70B9\n      // \u4F8B\u5982\uFF1A targetNode.appendChild(watermarkElement);\n    }\n  }\n})\n\n// \u914D\u7F6E MutationObserver\nconst config = { childList: true, subtree: true }\n\n// \u5F00\u59CB\u89C2\u5BDF\u76EE\u6807\u8282\u70B9\nobserver.observe(targetNode, config)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A MutationObserver \u5B9E\u4F8B\uFF0C\u5E76\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"observe"})," \u65B9\u6CD5\u5C06\u5176\u7ED1\u5B9A\u5230\u76EE\u6807\u8282\u70B9\u4E0A\u3002\u5728\u56DE\u8C03\u51FD\u6570\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"mutation.removedNodes"})," \u6765\u68C0\u67E5\u662F\u5426\u6709\u5B50\u8282\u70B9\u88AB\u5220\u9664\uFF0C\u5982\u679C\u53D1\u73B0\u6C34\u5370\u88AB\u5220\u9664\uFF0C\u5219\u53EF\u4EE5\u91C7\u53D6\u76F8\u5E94\u7684\u63AA\u65BD\u6765\u91CD\u65B0\u63D2\u5165\u6C34\u5370\u7684 DOM \u5143\u7D20\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0CMutationObserver API \u662F\u73B0\u4EE3\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684\u529F\u80FD\uFF0C\u5728\u8001\u65E7\u7684\u6D4F\u89C8\u5668\u4E2D\u53EF\u80FD\u4E0D\u652F\u6301\u3002\u56E0\u6B64\uFF0C\u5728\u5B9E\u9645\u4F7F\u7528\u65F6\uFF0C\u4F60\u9700\u8981\u5BF9\u6D4F\u89C8\u5668\u7684\u517C\u5BB9\u6027\u8FDB\u884C\u6D4B\u8BD5\u548C\u5904\u7406\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u53E6\u5916\uFF0C\u5982\u679C\u6C34\u5370\u88AB\u5220\u9664\u540E\u7ACB\u5373\u52A0\u56DE\u53BB\uFF0C\u4F60\u53EF\u4EE5\u5728\u68C0\u6D4B\u5230\u6C34\u5370\u88AB\u5220\u9664\u65F6\uFF0C\u7ACB\u5373\u6267\u884C\u63D2\u5165\u6C34\u5370\u7684\u4EE3\u7801\uFF0C\u4EE5\u786E\u4FDD\u6C34\u5370\u80FD\u591F\u8FC5\u901F\u5730\u91CD\u65B0\u51FA\u73B0\u5728\u9875\u9762\u4E0A\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-break-point-upload",children:"\u5982\u4F55\u5B9E\u73B0\u5927\u6587\u4EF6\u65AD\u70B9\u7EED\u4F20"}),"\n",(0,l.jsx)(e.p,{children:"\u524D\u7AEF\u5B9E\u73B0\u65AD\u70B9\u7EED\u4F20\u4E00\u822C\u6D89\u53CA\u5230\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5206\u7247\u4E0A\u4F20\uFF1A\u5C06\u5927\u6587\u4EF6\u5206\u5272\u6210\u591A\u4E2A\u5C0F\u7684\u6587\u4EF6\u5757\u3002\u53EF\u4EE5\u4F7F\u7528 JavaScript \u7684 ",(0,l.jsx)(e.code,{children:"File"})," \u5BF9\u8C61\u7684 ",(0,l.jsx)(e.code,{children:"slice"})," \u65B9\u6CD5\u6765\u5B9E\u73B0\u5206\u7247\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4E0A\u4F20\u6587\u4EF6\u5757\uFF1A\u4F7F\u7528 XMLHttpRequest \u6216 Fetch API \u53D1\u9001\u6BCF\u4E2A\u6587\u4EF6\u5757\u5230\u670D\u52A1\u5668\u3002\u53EF\u4EE5\u5C06\u6BCF\u4E2A\u6587\u4EF6\u5757\u7684\u7D22\u5F15\u3001\u603B\u6587\u4EF6\u5927\u5C0F\u7B49\u4FE1\u606F\u4E00\u540C\u53D1\u9001\u5230\u670D\u52A1\u5668\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4FDD\u5B58\u4E0A\u4F20\u8FDB\u5EA6\uFF1A\u5728\u6BCF\u4E2A\u6587\u4EF6\u5757\u4E0A\u4F20\u6210\u529F\u540E\uFF0C\u53EF\u4EE5\u5C06\u5DF2\u4E0A\u4F20\u7684\u5757\u6570\u3001\u5DF2\u4E0A\u4F20\u7684\u5B57\u8282\u6570\u7B49\u4FE1\u606F\u4FDD\u5B58\u5230\u672C\u5730\uFF0C\u4EE5\u4FBF\u5728\u7EE7\u7EED\u4E0A\u4F20\u65F6\u6062\u590D\u8FDB\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7EED\u4F20\uFF1A\u5728\u7EE7\u7EED\u4E0A\u4F20\u65F6\uFF0C\u5148\u4ECE\u672C\u5730\u6062\u590D\u5DF2\u4E0A\u4F20\u7684\u8FDB\u5EA6\u4FE1\u606F\u3002\u7136\u540E\u6839\u636E\u5DF2\u4E0A\u4F20\u7684\u5B57\u8282\u6570\uFF0C\u8BA1\u7B97\u51FA\u4E0B\u4E00\u4E2A\u6587\u4EF6\u5757\u7684\u8D77\u59CB\u4F4D\u7F6E\uFF0C\u7136\u540E\u7EE7\u7EED\u4E0A\u4F20\u5269\u4F59\u7684\u6587\u4EF6\u5757\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5408\u5E76\u6587\u4EF6\u5757\uFF1A\u5728\u6240\u6709\u6587\u4EF6\u5757\u90FD\u4E0A\u4F20\u5B8C\u6210\u540E\uFF0C\u670D\u52A1\u5668\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u6587\u4EF6\u5757\u5408\u5E76\u4E3A\u5B8C\u6574\u7684\u6587\u4EF6\u3002\u53EF\u4EE5\u901A\u8FC7\u5C06\u6240\u6709\u6587\u4EF6\u5757\u7684\u5185\u5BB9\u62FC\u63A5\u5728\u4E00\u8D77\u6216\u4F7F\u7528\u670D\u52A1\u5668\u7AEF\u7684\u5DE5\u5177\u8FDB\u884C\u5408\u5E76\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u65AD\u70B9\u7EED\u4F20\u7684\u5B9E\u73B0\u8FD8\u9700\u8981\u670D\u52A1\u5668\u7AEF\u7684\u652F\u6301\u3002\u670D\u52A1\u5668\u7AEF\u9700\u8981\u63A5\u6536\u548C\u5904\u7406\u5206\u7247\u4E0A\u4F20\u7684\u8BF7\u6C42\uFF0C\u5E76\u4FDD\u5B58\u548C\u7BA1\u7406\u5DF2\u4E0A\u4F20\u7684\u6587\u4EF6\u5757\uFF0C\u4EE5\u4FBF\u5728\u7EED\u4F20\u65F6\u6062\u590D\u6587\u4EF6\u7684\u5B8C\u6574\u6027\u3002\u56E0\u6B64\uFF0C\u524D\u7AEF\u5B9E\u73B0\u65AD\u70B9\u7EED\u4F20\u9700\u8981\u548C\u540E\u7AEF\u8FDB\u884C\u534F\u4F5C\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-store-expired",children:"\u5982\u4F55\u901A\u8FC7\u8BBE\u7F6E\u5931\u6548\u65F6\u95F4\u6E05\u9664\u672C\u5730\u5B58\u50A8\u7684\u6570\u636E\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:["\u4EE5\u4E0B\u662F\u4E00\u4E2A\u5C01\u88C5\u4E86\u652F\u6301\u8FC7\u671F\u65F6\u95F4\u7684",(0,l.jsx)(e.code,{children:"localStorage"}),"\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"class EnhancedLocalStorage {\n  constructor () {\n    this.prefix = 'enhanced_storage_'\n  }\n\n  setItem (key, value, expirationInSeconds) {\n    const item = {\n      value,\n      expirationTime: expirationInSeconds ? Date.now() + expirationInSeconds1000 : null\n    }\n    localStorage.setItem(this.prefix + key, JSON.stringify(item))\n  }\n\n  getItem (key) {\n    const itemStr = localStorage.getItem(this.prefix + key)\n    if (!itemStr) return null\n    const item = JSON.parse(itemStr)\n    if (item.expirationTime && item.expirationTime < Date.now()) {\n      localStorage.removeItem(this.prefix + key)\n      return null\n    }\n    return item.value\n  }\n\n  removeItem (key) {\n    localStorage.removeItem(this.prefix + key)\n  }\n}\n\nconst enhancedStorage = new EnhancedLocalStorage()\nexport default enhancedStorage\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u65B9\u6CD5\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u8BBE\u7F6E\u5E26\u6709\u8FC7\u671F\u65F6\u95F4\u7684\u5B58\u50A8\u9879\nenhancedStorage.setItem('myKey', 'myValue', 60) // 60 \u79D2\u540E\u8FC7\u671F\n\n// \u83B7\u53D6\u5B58\u50A8\u9879\nconst value = enhancedStorage.getItem('myKey')\nconsole.log(value)\n\n// \u4E00\u6BB5\u65F6\u95F4\u540E\uFF0C\u5B58\u50A8\u9879\u8FC7\u671F\nsetTimeout(() => {\n  const expiredValue = enhancedStorage.getItem('myKey')\n  console.log(expiredValue) // null\n}, 65000)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u5C01\u88C5\u4E2D\uFF0C\u4F7F\u7528\u4E86\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u524D\u7F00\u6765\u907F\u514D\u4E0E\u666E\u901A\u7684",(0,l.jsx)(e.code,{children:"localStorage"}),"\u952E\u51B2\u7A81\u3002\u8BBE\u7F6E\u9879\u65F6\uFF0C\u4F1A\u8BB0\u5F55\u4E00\u4E2A\u8FC7\u671F\u65F6\u95F4\uFF0C\u5982\u679C\u6709\u8FC7\u671F\u65F6\u95F4\u4E14\u5F53\u524D\u65F6\u95F4\u8D85\u8FC7\u4E86\u8FC7\u671F\u65F6\u95F4\uFF0C\u5728\u83B7\u53D6\u9879\u65F6\u4F1A\u8FD4\u56DE",(0,l.jsx)(e.code,{children:"null"}),"\u5E76\u81EA\u52A8\u5220\u9664\u8BE5\u9879\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u6E05\u9664\u672C\u5730\u5B58\u50A8\u7684\u6570\u636E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u5931\u6548\u65F6\u95F4\u6765\u5B9E\u73B0\u3002\u4EE5\u4E0B\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5C06\u6570\u636E\u5B58\u50A8\u5230\u672C\u5730\u5B58\u50A8\u4E2D\uFF0C\u4F8B\u5982\u4F7F\u7528localStorage\u6216sessionStorage\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728\u5B58\u50A8\u6570\u636E\u65F6\uFF0C\u540C\u65F6\u8BBE\u7F6E\u4E00\u4E2A\u5931\u6548\u65F6\u95F4\u3002\u53EF\u4EE5\u5C06\u5931\u6548\u65F6\u95F4\u5B58\u50A8\u4E3A\u4E00\u4E2A\u65F6\u95F4\u6233\u6216\u7279\u5B9A\u7684\u65E5\u671F\u65F6\u95F4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728\u8BFB\u53D6\u6570\u636E\u65F6\uFF0C\u68C0\u67E5\u5F53\u524D\u65F6\u95F4\u662F\u5426\u8D85\u8FC7\u4E86\u5931\u6548\u65F6\u95F4\u3002\u5982\u679C\u8D85\u8FC7\u4E86\u5931\u6548\u65F6\u95F4\uFF0C\u5219\u8BA4\u4E3A\u6570\u636E\u5DF2\u8FC7\u671F\uFF0C\u9700\u8981\u6E05\u9664\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u6570\u636E\u5DF2\u8FC7\u671F\uFF0C\u5219\u4F7F\u7528localStorage.removeItem(key)\u6216sessionStorage.removeItem(key)\u65B9\u6CD5\u5220\u9664\u8BE5\u6570\u636E\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u5B58\u50A8\u6570\u636E\nfunction setLocalStorageData (key, data, expiration) {\n  const item = {\n    data,\n    expiration\n  }\n  localStorage.setItem(key, JSON.stringify(item))\n}\n\n// \u8BFB\u53D6\u6570\u636E\nfunction getLocalStorageData (key) {\n  let item = localStorage.getItem(key)\n  if (item) {\n    item = JSON.parse(item)\n    if (item.expiration && new Date().getTime() > item.expiration) {\n      // \u6570\u636E\u5DF2\u8FC7\u671F\uFF0C\u6E05\u9664\u6570\u636E\n      localStorage.removeItem(key)\n      return null\n    }\n    return item.data\n  }\n  return null\n}\n\n// \u793A\u4F8B\u7528\u6CD5\nconst data = { name: 'John', age: 30 }\nconst expiration = new Date().getTime() + 36001000 // \u8BBE\u7F6E\u5931\u6548\u65F6\u95F4\u4E3A\u5F53\u524D\u65F6\u95F4\u540E\u76841\u5C0F\u65F6\nsetLocalStorageData('user', data, expiration)\n\nconst storedData = getLocalStorageData('user')\nconsole.log(storedData)\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u793A\u4F8B\u4EE3\u7801\u4E2D\uFF0CsetLocalStorageData\u51FD\u6570\u7528\u4E8E\u5B58\u50A8\u6570\u636E\uFF0C\u5E76\u63A5\u53D7\u4E00\u4E2A\u5931\u6548\u65F6\u95F4\u53C2\u6570\u3002getLocalStorageData\u51FD\u6570\u7528\u4E8E\u8BFB\u53D6\u6570\u636E\uFF0C\u5E76\u68C0\u67E5\u5931\u6548\u65F6\u95F4\u662F\u5426\u5DF2\u8FC7\u671F\u3002\u5982\u679C\u6570\u636E\u5DF2\u8FC7\u671F\uFF0C\u5219\u6E05\u9664\u6570\u636E\u3002\u793A\u4F8B\u4E2D\u7684\u5931\u6548\u65F6\u95F4\u8BBE\u7F6E\u4E3A\u5F53\u524D\u65F6\u95F4\u540E\u76841\u5C0F\u65F6\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-element-visible",children:"\u5982\u4F55\u5224\u65ADdom\u5143\u7D20\u662F\u5426\u5728\u53EF\u89C6\u533A\u57DF"}),"\n",(0,l.jsx)(e.p,{children:"\u5224\u65AD DOM \u5143\u7D20\u662F\u5426\u5728\u53EF\u89C6\u533A\u57DF\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"getBoundingClientRect() \u65B9\u6CD5"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u5143\u7D20\u7684\u5927\u5C0F\u53CA\u5176\u76F8\u5BF9\u4E8E\u89C6\u53E3\u7684\u4F4D\u7F6E\uFF0C\u5305\u62EC top\u3001right\u3001bottom\u3001left \u56DB\u4E2A\u5C5E\u6027\u3002\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u8FD9\u56DB\u4E2A\u5C5E\u6027\u6765\u5224\u65AD\u5143\u7D20\u662F\u5426\u5728\u53EF\u89C6\u533A\u57DF\u5185\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function isInViewport (element) {\n  const rect = element.getBoundingClientRect()\n  return (\n    rect.top >= 0 &&\n rect.left >= 0 &&\n rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  )\n}\n\n// Example usage\nconst element = document.getElementById('my-element')\nif (isInViewport(element)) {\n  console.log('Element is in viewport')\n} else {\n  console.log('Element is not in viewport')\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"IntersectionObserver API"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8BE5 API \u53EF\u4EE5\u89C2\u5BDF\u5143\u7D20\u4E0E\u5176\u7956\u5148\u5143\u7D20\u6216\u89C6\u53E3\u4EA4\u53C9\u7684\u60C5\u51B5\uFF0C\u5E76\u4E14\u53EF\u4EE5\u8BBE\u7F6E\u56DE\u8C03\u51FD\u6570\uFF0C\u5F53\u5143\u7D20\u7684\u53EF\u89C1\u6027\u53D1\u751F\u53D8\u5316\u65F6\u4F1A\u8C03\u7528\u8BE5\u56DE\u8C03\u51FD\u6570\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function callback (entries, observer) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      console.log('Element is in viewport')\n    } else {\n      console.log('Element is not in viewport')\n    }\n  })\n}\n\nconst observer = new IntersectionObserver(callback)\n\nconst element = document.getElementById('my-element')\nobserver.observe(element)\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 IntersectionObserver API \u7684\u4F18\u70B9\u662F\u53EF\u4EE5\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u8BA1\u7B97\u548C\u4E8B\u4EF6\u76D1\u542C\uFF0C\u63D0\u9AD8\u4E86\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-mobile-scroll",children:"\u79FB\u52A8\u7AEF\u5982\u4F55\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\uFF0C\u4E0B\u62C9\u5237\u65B0\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"\u79FB\u52A8\u7AEF\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u901A\u5E38\u4F7F\u7528\u4E00\u4E9B\u7279\u5B9A\u7684\u5E93\u6216\u6846\u67B6\u6765\u7B80\u5316\u5F00\u53D1\u3002\u4EE5\u4E0B\u662F\u4E24\u79CD\u5E38\u89C1\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93\uFF1A\u4E00\u4E9B\u6D41\u884C\u7684\u79FB\u52A8\u7AEFUI\u5E93\uFF08\u5982iScroll\u3001BetterScroll\u3001Ant Design Mobile\u7B49\uFF09\u63D0\u4F9B\u4E86\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u7684\u529F\u80FD\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528\u5B83\u4EEC\u6765\u5B9E\u73B0\u3002\u8FD9\u4E9B\u5E93\u901A\u5E38\u63D0\u4F9B\u4E86\u6613\u4E8E\u4F7F\u7528\u7684API\u548C\u914D\u7F6E\u9009\u9879\uFF0C\u53EF\u4EE5\u5728\u4F60\u7684\u5E94\u7528\u4E2D\u8F7B\u677E\u5730\u96C6\u6210\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u529F\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u81EA\u5B9A\u4E49\u5B9E\u73B0\uFF1A\u5982\u679C\u4F60\u60F3\u66F4\u81EA\u5B9A\u4E49\u5730\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\uFF0C\u53EF\u4EE5\u4F7F\u7528\u539F\u751F\u7684\u89E6\u6478\u4E8B\u4EF6\uFF08\u5982touchstart\u3001touchmove\u3001touchend\u7B49\uFF09\u548C\u6EDA\u52A8\u4E8B\u4EF6\uFF08\u5982scroll\uFF09\u6765\u76D1\u6D4B\u7528\u6237\u7684\u624B\u52BF\u64CD\u4F5C\u548C\u6EDA\u52A8\u884C\u4E3A\uFF0C\u5E76\u6839\u636E\u8FD9\u4E9B\u4E8B\u4EF6\u6765\u89E6\u53D1\u76F8\u5E94\u7684\u52A0\u8F7D\u6216\u5237\u65B0\u903B\u8F91\u3002\u4F60\u53EF\u4EE5\u76D1\u542C\u89E6\u6478\u4E8B\u4EF6\u6765\u68C0\u6D4B\u7528\u6237\u7684\u4E0B\u62C9\u6216\u4E0A\u62C9\u624B\u52BF\uFF0C\u5F53\u8FBE\u5230\u4E00\u5B9A\u7684\u9608\u503C\u65F6\uFF0C\u89E6\u53D1\u5237\u65B0\u6216\u52A0\u8F7D\u7684\u64CD\u4F5C\u3002\u540C\u65F6\uFF0C\u4F60\u8FD8\u9700\u8981\u76D1\u542C\u6EDA\u52A8\u4E8B\u4EF6\u6765\u5224\u65AD\u5F53\u524D\u6EDA\u52A8\u4F4D\u7F6E\u662F\u5426\u5DF2\u7ECF\u5230\u8FBE\u9875\u9762\u5E95\u90E8\uFF0C\u4ECE\u800C\u89E6\u53D1\u4E0A\u62C9\u52A0\u8F7D\u7684\u64CD\u4F5C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u81EA\u5B9A\u4E49\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u65F6\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528JavaScript\u548CHTML/CSS\u6765\u7F16\u5199\u4EE3\u7801\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF0C\u6F14\u793A\u4E86\u5982\u4F55\u901A\u8FC7\u539F\u751F\u4E8B\u4EF6\u6765\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u7684\u529F\u80FD\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:"HTML \u7ED3\u6784\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n<head>\n <title>\u4E0A\u62C9\u52A0\u8F7D\u548C\u4E0B\u62C9\u5237\u65B0\u793A\u4F8B</title>\n <style>\n // \u7528\u4E8E\u5C55\u793A\u52A0\u8F7D\u548C\u5237\u65B0\u72B6\u6001\u7684\u6837\u5F0F */\n .loading {\n text-align: center;\n padding: 10px;\n background-color: #f1f1f1;\n }\n\n .refresh {\n text-align: center;\n padding: 10px;\n background-color: #f1f1f1;\n }\n </style>\n</head>\n<body>\n <div id="content">\n \x3c!-- \u5185\u5BB9\u533A\u57DF --\x3e\n </div>\n <div id="loading" class="loading">\n \u52A0\u8F7D\u4E2D...\n </div>\n <div id="refresh" class="refresh">\n \u4E0B\u62C9\u5237\u65B0\n </div>\n\n <script src="your_script.js"><\/script>\n</body>\n</html>\n'})}),"\n",(0,l.jsx)(e.p,{children:"JavaScript \u4EE3\u7801\uFF08your_script.js\uFF09\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u83B7\u53D6\u76F8\u5173\u5143\u7D20\nconst content = document.getElementById('content')\nconst loading = document.getElementById('loading')\nconst refresh = document.getElementById('refresh')\n\nlet isRefreshing = false\nlet isLoading = false\n\n// \u76D1\u542C\u89E6\u6478\u4E8B\u4EF6\nlet startY = 0\nlet moveY = 0\ncontent.addEventListener('touchstart', function (event) {\n  startY = event.touches[0].pageY\n})\n\ncontent.addEventListener('touchmove', function (event) {\n  moveY = event.touches[0].pageY\n\n  // \u4E0B\u62C9\u5237\u65B0\n  if (moveY - startY > 100 && !isRefreshing) {\n    refresh.innerHTML = '\u91CA\u653E\u5237\u65B0'\n  }\n\n  // \u4E0A\u62C9\u52A0\u8F7D\n  const scrollTop = content.scrollTop\n  const scrollHeight = content.scrollHeight\n  const offsetHeight = content.offsetHeight\n  if (scrollTop + offsetHeight >= scrollHeight && !isLoading) {\n    loading.style.display = 'block'\n  }\n})\n\ncontent.addEventListener('touchend', function (event) {\n  // \u4E0B\u62C9\u5237\u65B0\n  if (moveY - startY > 100 && !isRefreshing) {\n    refresh.innerHTML = '\u5237\u65B0\u4E2D...'\n    simulateRefresh()\n  }\n\n  // \u4E0A\u62C9\u52A0\u8F7D\n  const scrollTop = content.scrollTop\n  const scrollHeight = content.scrollHeight\n  const offsetHeight = content.offsetHeight\n  if (scrollTop + offsetHeight >= scrollHeight && !isLoading) {\n    loading.style.display = 'block'\n    simulateLoad()\n  }\n\n  // \u91CD\u7F6E\u72B6\u6001\n  startY = 0\n  moveY = 0\n})\n\n// \u6A21\u62DF\u5237\u65B0\nfunction simulateRefresh () {\n  isRefreshing = true\n  setTimeout(function () {\n    // \u5237\u65B0\u5B8C\u6210\u540E\u7684\u64CD\u4F5C\n    refresh.innerHTML = '\u5237\u65B0\u6210\u529F'\n    isRefreshing = false\n  }, 2000)\n}\n\n// \u6A21\u62DF\u52A0\u8F7D\nfunction simulateLoad () {\n  isLoading = true\n  setTimeout(function () {\n    // \u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u64CD\u4F5C\n    loading.style.display = 'none'\n    isLoading = false\n  }, 2000)\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4E0A\u9762\u7684\u4EE3\u7801\u4F7F\u7528\u4E86",(0,l.jsx)(e.code,{children:"touchstart"}),"\u3001",(0,l.jsx)(e.code,{children:"touchmove"}),"\u548C",(0,l.jsx)(e.code,{children:"touchend"}),"\u4E8B\u4EF6\u6765\u76D1\u6D4B\u7528\u6237\u7684\u624B\u52BF\u64CD\u4F5C\uFF0C\u5B9E\u73B0\u4E86\u4E0B\u62C9\u5237\u65B0\u548C\u4E0A\u62C9\u52A0\u8F7D\u7684\u529F\u80FD\u3002\u901A\u8FC7\u4FEE\u6539",(0,l.jsx)(e.code,{children:"refresh"}),"\u548C",(0,l.jsx)(e.code,{children:"loading"}),"\u5143"]}),"\n",(0,l.jsx)(e.p,{children:"\u7D20\u7684\u5185\u5BB9\u548C\u6837\u5F0F\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u76F8\u5E94\u7684\u72B6\u6001\u5C55\u793A\u6548\u679C\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-upload-file",children:"\u4F7F\u7528 ajax \u5C01\u88C5\u4E00\u4E2A\u4E0A\u4F20\u6587\u4EF6\u7684\u51FD\u6570"}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u4F7F\u7528 AJAX \u5C01\u88C5\u7684\u4E0A\u4F20\u6587\u4EF6\u51FD\u6570\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"function uploadFile (file, url, progressCallback, successCallback, errorCallback) {\n  const xhr = new XMLHttpRequest()\n  const formData = new FormData()\n\n  // \u5C06\u6587\u4EF6\u6DFB\u52A0\u5230 FormData \u5BF9\u8C61\n  formData.append('file', file)\n\n  xhr.open('POST', url, true)\n\n  // \u76D1\u542C\u4E0A\u4F20\u8FDB\u5EA6\n  xhr.upload.addEventListener('progress', function (event) {\n    if (event.lengthComputable) {\n      const progress = Math.round((event.loaded / event.total) * 100)\n      // \u8C03\u7528\u8FDB\u5EA6\u56DE\u8C03\u51FD\u6570\n      progressCallback(progress)\n    }\n  })\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === XMLHttpRequest.DONE) {\n      if (xhr.status === 200) {\n        // \u4E0A\u4F20\u6210\u529F\n        // \u89E3\u6790\u54CD\u5E94\u6570\u636E\n        const response = JSON.parse(xhr.responseText)\n        // \u8C03\u7528\u6210\u529F\u56DE\u8C03\u51FD\u6570\n        successCallback(response)\n      } else {\n        // \u4E0A\u4F20\u5931\u8D25\n        // \u521B\u5EFA\u9519\u8BEF\u5BF9\u8C61\n        const error = new Error(`File upload failed with status ${xhr.status}`)\n        // \u8C03\u7528\u9519\u8BEF\u56DE\u8C03\u51FD\u6570\n        errorCallback(error)\n      }\n    }\n  }\n\n  // \u53D1\u9001\u8BF7\u6C42\n  xhr.send(formData)\n}\n\n// \u4F7F\u7528\u793A\u4F8B\nconst fileInput = document.getElementById('file-input')\nconst uploadButton = document.getElementById('upload-button')\nconst progressElement = document.getElementById('progress')\nconst statusElement = document.getElementById('status')\n\nuploadButton.addEventListener('click', function () {\n  const file = fileInput.files[0]\n  const url = 'https://api.example.com/upload'\n\n  uploadFile(\n    file,\n    url,\n    function (progress) {\n      // \u66F4\u65B0\u8FDB\u5EA6\n      progressElement.textContent = `Upload Progress: ${progress}%`\n    },\n    function (response) {\n      // \u4E0A\u4F20\u6210\u529F\n      statusElement.textContent = 'Upload Successful'\n      console.log('Response:', response)\n    },\n    function (error) {\n      // \u4E0A\u4F20\u5931\u8D25\n      statusElement.textContent = 'Upload Failed'\n      console.error('Error:', error)\n    }\n  )\n})\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u8FF0\u793A\u4F8B\u4EE3\u7801\u4E2D\uFF0C\u5B9A\u4E49\u4E86\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"uploadFile"})," \u51FD\u6570\u7528\u4E8E\u4E0A\u4F20\u6587\u4EF6\u3002\u8BE5\u51FD\u6570\u63A5\u6536\u6587\u4EF6\u5BF9\u8C61\u3001\u4E0A\u4F20 URL\u3001\u8FDB\u5EA6\u56DE\u8C03\u51FD\u6570\u3001\u6210\u529F\u56DE\u8C03\u51FD\u6570\u548C\u9519\u8BEF\u56DE\u8C03\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u51FD\u6570\u5185\u90E8\u901A\u8FC7\u521B\u5EFA ",(0,l.jsx)(e.code,{children:"XMLHttpRequest"})," \u5BF9\u8C61\uFF0C\u5C06\u6587\u4EF6\u6DFB\u52A0\u5230 ",(0,l.jsx)(e.code,{children:"FormData"})," \u5BF9\u8C61\uFF0C\u5E76\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"POST"})," \u65B9\u6CD5\u53D1\u9001\u8BF7\u6C42\u5230\u6307\u5B9A\u7684 URL\u3002\u540C\u65F6\uFF0C\u901A\u8FC7\u76D1\u542C ",(0,l.jsx)(e.code,{children:"upload"})," \u4E8B\u4EF6\u6765\u83B7\u53D6\u4E0A\u4F20\u8FDB\u5EA6\uFF0C\u5E76\u8C03\u7528\u8FDB\u5EA6\u56DE\u8C03\u51FD\u6570\u8FDB\u884C\u66F4\u65B0\u3002\u5728\u8BF7\u6C42\u7684\u72B6\u6001\u6539\u53D8\u65F6\uFF0C\u6839\u636E\u54CD\u5E94\u72B6\u6001\u7801\u5224\u65AD\u4E0A\u4F20\u6210\u529F\u4E0E\u5426\uFF0C\u5E76\u8C03\u7528\u76F8\u5E94\u7684\u56DE\u8C03\u51FD\u6570\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528\u793A\u4F8B\u4E2D\uFF0C\u901A\u8FC7\u76D1\u542C\u6309\u94AE\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u83B7\u53D6\u9009\u62E9\u7684\u6587\u4EF6\u5BF9\u8C61\uFF0C\u5E76\u8C03\u7528 ",(0,l.jsx)(e.code,{children:"uploadFile"})," \u51FD\u6570\u8FDB\u884C\u6587\u4EF6\u4E0A\u4F20\u3002\u5728\u56DE\u8C03\u51FD\u6570\u4E2D\u66F4\u65B0\u8FDB\u5EA6\u548C\u72B6\u6001\u4FE1\u606F\uFF0C\u5E76\u5904\u7406\u6210\u529F\u548C\u5931\u8D25\u7684\u60C5\u51B5\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-cancel",children:"ajax \u53D6\u6D88\u8BF7\u6C42"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:[(0,l.jsx)(e.code,{children:"xhr.abort()"})," \u65B9\u6CD5\u7528\u4E8E\u4E2D\u6B62\u5F53\u524D\u7684\u8BF7\u6C42"]}),"\u3002\u8C03\u7528\u8BE5\u65B9\u6CD5\u4F1A\u5BFC\u81F4 XHR \u5BF9\u8C61\u89E6\u53D1 abort \u4E8B\u4EF6\uFF0C\u4E14\u89E6\u53D1 readystatechange \u4E8B\u4EF6\u7684\u5904\u7406\u51FD\u6570\uFF0Cxhr.readyState \u7684\u503C\u5C06\u53D8\u4E3A 0\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u793A\u4F8B\u4EE3\u7801\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u4F7F\u7528\u6807\u5FD7\u4F4D\u5B9E\u73B0\u53D6\u6D88\u8BF7\u6C42\u7684\u6548\u679C\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"let isRequestCanceled = false\n\nfunction sendGetRequest (url, callback) {\n  const xhr = new XMLHttpRequest()\n  xhr.open('GET', url, true)\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === XMLHttpRequest.DONE && !isRequestCanceled) {\n      if (xhr.status === 200) {\n        // \u8BF7\u6C42\u6210\u529F\n        const response = JSON.parse(xhr.responseText)\n        callback(null, response)\n      } else {\n        // \u8BF7\u6C42\u5931\u8D25\n        const error = new Error(`Request failed with status ${xhr.status}`)\n        callback(error, null)\n      }\n    }\n  }\n\n  xhr.send()\n\n  // \u53D6\u6D88\u8BF7\u6C42\n  function cancelRequest () {\n    if (xhr.readyState !== XMLHttpRequest.DONE) {\n      xhr.abort()\n      isRequestCanceled = true\n      callback(new Error('Request canceled'), null)\n    }\n  }\n\n  // \u8FD4\u56DE\u53D6\u6D88\u8BF7\u6C42\u7684\u51FD\u6570\n  return cancelRequest\n}\n\n// \u4F7F\u7528\u793A\u4F8B\nconst apiUrl = 'https://api.example.com/data'\nconst cancelRequest = sendGetRequest(apiUrl, (error, response) => {\n  if (error) {\n    console.error('Error:', error)\n  } else {\n    console.log('Response:', response)\n  }\n})\n\n// \u53D6\u6D88\u8BF7\u6C42\ncancelRequest()\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u8FF0\u793A\u4F8B\u4EE3\u7801\u4E2D\uFF0C\u6DFB\u52A0\u4E86\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"cancelRequest"})," \u51FD\u6570\u7528\u4E8E\u53D6\u6D88\u8BF7\u6C42\u3002\u8BE5\u51FD\u6570\u4F1A\u5728\u8BF7\u6C42\u53D1\u9001\u540E\u7ACB\u5373\u8FD4\u56DE\uFF0C\u5E76\u4E2D\u6B62\u8BF7\u6C42\u7684\u53D1\u9001\u3002\u540C\u65F6\uFF0C\u5C06\u6807\u5FD7\u4F4D ",(0,l.jsx)(e.code,{children:"isRequestCanceled"})," \u8BBE\u4E3A true\uFF0C\u5E76\u901A\u8FC7\u56DE\u8C03\u51FD\u6570\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\u5BF9\u8C61\uFF0C\u8868\u793A\u8BF7\u6C42\u88AB\u53D6\u6D88\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u867D\u7136\u901A\u8FC7\u6807\u5FD7\u4F4D\u6A21\u62DF\u4E86\u8BF7\u6C42\u7684\u53D6\u6D88\uFF0C\u4F46\u5B9E\u9645\u4E0A\u8BF7\u6C42\u5DF2\u7ECF\u53D1\u9001\u5230\u670D\u52A1\u5668\u5E76\u5F97\u5230\u4E86\u54CD\u5E94\u3002\u53EA\u662F\u5728\u5BA2\u6237\u7AEF\u8FD9\u8FB9\u5FFD\u7565\u4E86\u54CD\u5E94\u7ED3\u679C\u3002\u5728\u771F\u5B9E\u7684\u7F51\u7EDC\u8BF7\u6C42\u4E2D\uFF0C\u670D\u52A1\u5668\u4ECD\u7136\u4F1A\u7EE7\u7EED\u5904\u7406\u8BF7\u6C42\u5E76\u8FD4\u56DE\u54CD\u5E94\uFF0C\u4F46\u5BA2\u6237\u7AEF\u4F1A\u5FFD\u7565\u8BE5\u54CD\u5E94\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u53D6\u6D88ajax\u8BF7\u6C42\u7684\u610F\u4E49"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5DF2\u53D1\u51FA\u7684\u8BF7\u6C42\u53EF\u80FD\u4ECD\u7136\u4F1A\u5230\u8FBE\u540E\u7AEF"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u53D6\u6D88\u540E\u7EED\u7684\u56DE\u8C03\u5904\u7406\uFF0C\u907F\u514D\u591A\u4F59\u7684\u56DE\u8C03\u5904\u7406\uFF0C\u4EE5\u53CA\u7279\u6B8A\u60C5\u51B5\uFF0C\u5148\u53D1\u51FA\u7684\u540E\u8FD4\u56DE\uFF0C\u5BFC\u81F4\u56DE\u8C03\u4E2D\u7684\u6570\u636E\u9519\u8BEF\u8986\u76D6"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u53D6\u6D88loading\u6548\u679C\uFF0C\u4EE5\u53CA\u8BE5\u8BF7\u6C42\u7684\u5176\u4ED6\u4EA4\u4E92\u6548\u679C\uFF0C\u7279\u522B\u662F\u5728\u5355\u9875\u5E94\u7528\u4E2D\uFF0CA\u9875\u9762\u8DF3\u8F6C\u5230B\u9875\u9762\u4E4B\u540E\uFF0CA\u9875\u9762\u7684\u8BF7\u6C42\u5E94\u8BE5\u53D6\u6D88\uFF0C\u5426\u5219\u56DE\u8C03\u4E2D\u7684\u4E00\u4E9B\u5904\u7406\u53EF\u80FD\u5F71\u54CDB\u9875\u9762"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8D85\u65F6\u5904\u7406\uFF0C\u9519\u8BEF\u5904\u7406\u7B49\u90FD\u7701\u53BB\u4E86\uFF0C\u8282\u7EA6\u8D44\u6E90"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-tooltip",children:"\uFF08Ant Design\uFF09\u7684 Tooltip \u7EC4\u4EF6\u662F\u5982\u4F55\u5B9E\u73B0\u7684"}),"\n",(0,l.jsx)(e.p,{children:"Antd\uFF08Ant Design\uFF09\u7684 Tooltip \u7EC4\u4EF6\u662F\u901A\u8FC7 CSS \u548C JavaScript \u7ED3\u5408\u5B9E\u73B0\u7684\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5728 CSS \u65B9\u9762\uFF0CTooltip \u7EC4\u4EF6\u4F7F\u7528\u4E86\u7EDD\u5BF9\u5B9A\u4F4D\u548C\u4E00\u4E9B\u6837\u5F0F\u89C4\u5219\u6765\u5B9A\u4E49 Tooltip \u7684\u5916\u89C2\u3002\u5B83\u901A\u5E38\u5305\u62EC\u4E00\u4E2A\u89E6\u53D1\u5143\u7D20\u548C\u4E00\u4E2A\u6D6E\u52A8\u5728\u89E6\u53D1\u5143\u7D20\u65C1\u8FB9\u7684\u63D0\u793A\u6846\u3002\u901A\u8FC7\u8BBE\u7F6E\u6837\u5F0F\u5C5E\u6027\uFF0C\u5982 position: absolute\u3001top\u3001left\u3001display \u7B49\uFF0C\u53EF\u4EE5\u63A7\u5236\u63D0\u793A\u6846\u7684\u4F4D\u7F6E\u3001\u663E\u793A\u548C\u9690\u85CF\u7B49\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5728 JavaScript \u65B9\u9762\uFF0CTooltip \u7EC4\u4EF6\u901A\u8FC7\u4E8B\u4EF6\u76D1\u542C\u548C\u64CD\u4F5C DOM \u5143\u7D20\u6765\u5B9E\u73B0\u4EA4\u4E92\u884C\u4E3A\u3002\u5F53\u9F20\u6807\u60AC\u505C\u5728\u89E6\u53D1\u5143\u7D20\u4E0A\u65F6\uFF0C\u4F1A\u89E6\u53D1\u76F8\u5E94\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u3002\u5728\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u901A\u5E38\u4F1A\u4FEE\u6539\u63D0\u793A\u6846\u5143\u7D20\u7684\u6837\u5F0F\u6216\u7C7B\u540D\uFF0C\u4EE5\u5B9E\u73B0\u663E\u793A\u6216\u9690\u85CF\u63D0\u793A\u6846\u7684\u6548\u679C\u3002\u540C\u65F6\uFF0C\u8FD8\u53EF\u4EE5\u6839\u636E\u9F20\u6807\u4F4D\u7F6E\u8C03\u6574\u63D0\u793A\u6846\u7684\u4F4D\u7F6E\uFF0C\u4F7F\u5176\u76F8\u5BF9\u4E8E\u89E6\u53D1\u5143\u7D20\u5C45\u4E2D\u6216\u663E\u793A\u5728\u7279\u5B9A\u7684\u4F4D\u7F6E\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u53E6\u5916\uFF0CTooltip \u7EC4\u4EF6\u8FD8\u652F\u6301\u4E00\u4E9B\u989D\u5916\u7684\u914D\u7F6E\u9009\u9879\uFF0C\u5982\u5EF6\u8FDF\u663E\u793A\u3001\u81EA\u5B9A\u4E49\u5185\u5BB9\u7B49\u3002\u8FD9\u4E9B\u9009\u9879\u53EF\u4EE5\u901A\u8FC7\u4F20\u9012\u5C5E\u6027\u6216\u914D\u7F6E\u9879\u7ED9 Tooltip \u7EC4\u4EF6\u6765\u8FDB\u884C\u8BBE\u7F6E\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Tooltip \u7EC4\u4EF6\u7684\u52A8\u6001\u504F\u79FB\u6837\u5F0F\u8BA1\u7B97"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u76D1\u542C\u89E6\u53D1\u5143\u7D20\u7684\u4E8B\u4EF6\uFF1ATooltip \u7EC4\u4EF6\u901A\u5E38\u5728\u89E6\u53D1\u5143\u7D20\u4E0A\u76D1\u542C\u9F20\u6807\u60AC\u505C\u6216\u70B9\u51FB\u7B49\u4E8B\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u83B7\u53D6\u89E6\u53D1\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\uFF1A\u5728\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u901A\u8FC7 DOM \u64CD\u4F5C\u83B7\u53D6\u89E6\u53D1\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u5BBD\u5EA6\u3001\u9AD8\u5EA6\u3001\u5DE6\u504F\u79FB\u548C\u4E0A\u504F\u79FB\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8BA1\u7B97\u504F\u79FB\u6837\u5F0F\uFF1A\u6839\u636E\u89E6\u53D1\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\uFF0C\u7ED3\u5408\u7EC4\u4EF6\u914D\u7F6E\u9879\u6216\u5C5E\u6027\u4E2D\u7684\u504F\u79FB\u53C2\u6570\uFF0C\u8BA1\u7B97\u51FA\u63D0\u793A\u6846\u76F8\u5BF9\u4E8E\u89E6\u53D1\u5143\u7D20\u7684\u504F\u79FB\u6837\u5F0F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8BBE\u7F6E\u63D0\u793A\u6846\u7684\u6837\u5F0F\uFF1A\u901A\u8FC7\u4FEE\u6539\u63D0\u793A\u6846\u5143\u7D20\u7684\u6837\u5F0F\u5C5E\u6027\uFF0C\u5982 top\u3001left\u3001transform \u7B49\uFF0C\u5C06\u8BA1\u7B97\u5F97\u5230\u7684\u504F\u79FB\u6837\u5F0F\u5E94\u7528\u4E8E\u63D0\u793A\u6846\uFF0C\u4F7F\u5176\u51FA\u73B0\u5728\u9884\u671F\u7684\u4F4D\u7F6E\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5177\u4F53\u5B9E\u73B0\u4E0A\u8FF0\u6B65\u9AA4\u7684\u65B9\u5F0F\u53EF\u4EE5\u6709\u591A\u79CD\uFF0C\u53D6\u51B3\u4E8E\u5177\u4F53\u7684\u5B9E\u73B0\u6846\u67B6\u6216\u5E93\u3002\u4E00\u79CD\u5E38\u89C1\u7684\u65B9\u5F0F\u662F\u4F7F\u7528 JavaScript \u6765\u76D1\u542C\u4E8B\u4EF6\u3001\u83B7\u53D6\u4F4D\u7F6E\u4FE1\u606F\u548C\u8BBE\u7F6E\u6837\u5F0F\uFF0C\u914D\u5408 CSS \u6765\u5B9A\u4E49\u6837\u5F0F\u89C4\u5219\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E9B\u5E38\u89C1\u7684\u6280\u672F\u624B\u6BB5\u6765\u8BA1\u7B97\u52A8\u6001\u504F\u79FB\u6837\u5F0F\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 CSS \u7684 position: absolute \u5C06\u63D0\u793A\u6846\u5B9A\u4F4D\u5728\u89E6\u53D1\u5143\u7D20\u7684\u76F8\u5BF9\u4F4D\u7F6E\u4E0A\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 JavaScript \u7684 getBoundingClientRect() \u65B9\u6CD5\u83B7\u53D6\u89E6\u53D1\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u5BBD\u5EA6\u3001\u9AD8\u5EA6\u3001\u5DE6\u504F\u79FB\u548C\u4E0A\u504F\u79FB\u7B49\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u7ED3\u5408\u89E6\u53D1\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\u548C\u7EC4\u4EF6\u914D\u7F6E\u9879\u4E2D\u7684\u504F\u79FB\u53C2\u6570\uFF0C\u901A\u8FC7\u8BA1\u7B97\u5F97\u5230\u6700\u7EC8\u7684\u504F\u79FB\u503C\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5C06\u8BA1\u7B97\u5F97\u5230\u7684\u504F\u79FB\u503C\u5E94\u7528\u4E8E\u63D0\u793A\u6846\u7684\u6837\u5F0F\u5C5E\u6027\uFF0C\u5982 top\u3001left\u3001transform \u7B49\uFF0C\u4F7F\u5176\u76F8\u5BF9\u4E8E\u89E6\u53D1\u5143\u7D20\u8FDB\u884C\u52A8\u6001\u504F\u79FB\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5177\u4F53\u7684\u5B9E\u73B0\u65B9\u5F0F\u53EF\u80FD\u56E0\u6846\u67B6\u3001\u5E93\u6216\u7EC4\u4EF6\u7684\u4E0D\u540C\u800C\u6709\u6240\u5DEE\u5F02\uFF0C\u4F46\u6838\u5FC3\u601D\u60F3\u662F\u901A\u8FC7\u76D1\u542C\u4E8B\u4EF6\u3001\u83B7\u53D6\u4F4D\u7F6E\u4FE1\u606F\u548C\u8BA1\u7B97\u6837\u5F0F\u6765\u5B9E\u73B0\u52A8\u6001\u504F\u79FB\u6548\u679C\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p0-batch-dom-operation",children:"\u5982\u4F55\u4F18\u5316\u5927\u89C4\u6A21 dom \u64CD\u4F5C\u7684\u573A\u666F"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u5904\u7406\u5927\u89C4\u6A21DOM\u64CD\u4F5C\u7684\u573A\u666F\u4E2D\uFF0C\u53EF\u4EE5\u91C7\u53D6\u4EE5\u4E0B\u4E00\u4E9B\u4F18\u5316\u7B56\u7565\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528\u6279\u91CF\u64CD\u4F5C\uFF1A\u907F\u514D\u9891\u7E41\u5730\u8FDB\u884C\u5355\u4E2ADOM\u64CD\u4F5C\uFF0C\u800C\u662F\u5C06\u591A\u4E2A\u64CD\u4F5C\u5408\u5E76\u4E3A\u4E00\u4E2A\u6279\u91CF\u64CD\u4F5C\u3002\u4F8B\u5982\uFF0C\u4F7F\u7528",(0,l.jsx)(e.code,{children:"DocumentFragment"}),"\u6765\u521B\u5EFA\u4E00\u4E2A\u79BB\u7EBF\u7684DOM\u7247\u6BB5\uFF0C\u5C06\u591A\u4E2A\u5143\u7D20\u4E00\u6B21\u6027\u6DFB\u52A0\u5230\u7247\u6BB5\u4E2D\uFF0C\u7136\u540E\u518D\u5C06\u6574\u4E2A\u7247\u6BB5\u63D2\u5165\u5230\u6587\u6863\u4E2D\u3002\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C11DOM\u64CD\u4F5C\u7684\u6B21\u6570\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u907F\u514D\u91CD\u590D\u8BBF\u95EE\u548C\u67E5\u8BE2\uFF1A\u907F\u514D\u5728\u5FAA\u73AF\u6216\u9012\u5F52\u64CD\u4F5C\u4E2D\u91CD\u590D\u8BBF\u95EE\u548C\u67E5\u8BE2DOM\u5143\u7D20\u3002\u5728\u6267\u884C\u5FAA\u73AF\u6216\u9012\u5F52\u64CD\u4F5C\u524D\uFF0C\u5148\u5C06\u9700\u8981\u64CD\u4F5C\u7684DOM\u5143\u7D20\u4FDD\u5B58\u5728\u53D8\u91CF\u4E2D\uFF0C\u4EE5\u51CF\u5C11\u91CD\u590D\u67E5\u8BE2\u7684\u5F00\u9500\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u865A\u62DFDOM\uFF08Virtual DOM\uFF09\uFF1A\u865A\u62DFDOM\u662F\u4E00\u79CD\u5C06\u771F\u5B9EDOM\u7ED3\u6784\u6620\u5C04\u5230JavaScript\u5BF9\u8C61\u7684\u6280\u672F\u3002\u901A\u8FC7\u5728JavaScript\u4E2D\u5BF9\u865A\u62DFDOM\u8FDB\u884C\u64CD\u4F5C\uFF0C\u7136\u540E\u518D\u5C06\u53D8\u66F4\u5E94\u7528\u5230\u771F\u5B9EDOM\u4E0A\uFF0C\u53EF\u4EE5\u51CF\u5C11\u5BF9\u771F\u5B9EDOM\u7684\u76F4\u63A5\u64CD\u4F5C\u6B21\u6570\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002\u5E38\u89C1\u7684\u865A\u62DFDOM\u5E93\u6709React\u548CVue\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5206\u5272\u4EFB\u52A1\uFF1A\u5C06\u5927\u89C4\u6A21DOM\u64CD\u4F5C\u62C6\u5206\u6210\u591A\u4E2A\u5C0F\u4EFB\u52A1\uFF0C\u5E76\u4F7F\u7528",(0,l.jsx)(e.code,{children:"requestAnimationFrame"}),"\u6216",(0,l.jsx)(e.code,{children:"setTimeout"}),"\u7B49\u65B9\u6CD5\u5728\u6BCF\u4E2A\u4EFB\u52A1\u4E4B\u95F4\u8FDB\u884C\u5F02\u6B65\u5904\u7406\uFF0C\u4EE5\u907F\u514D\u957F\u65F6\u95F4\u963B\u585E\u4E3B\u7EBF\u7A0B\uFF0C\u63D0\u9AD8\u9875\u9762\u7684\u54CD\u5E94\u6027\u80FD\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u4E8B\u4EF6\u59D4\u6258\uFF1A\u5229\u7528\u4E8B\u4EF6\u5192\u6CE1\u673A\u5236\uFF0C\u5C06\u4E8B\u4EF6\u5904\u7406\u7A0B\u5E8F\u7ED1\u5B9A\u5230DOM\u7ED3\u6784\u7684\u7236\u5143\u7D20\u4E0A\uFF0C\u901A\u8FC7\u4E8B\u4EF6\u59D4\u6258\u7684\u65B9\u5F0F\u5904\u7406\u5B50\u5143\u7D20\u7684\u4E8B\u4EF6\u3002\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C11\u4E8B\u4EF6\u5904\u7406\u7A0B\u5E8F\u7684\u6570\u91CF\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u907F\u514D\u9891\u7E41\u7684\u91CD\u7ED8\u548C\u91CD\u6392\uFF1ADOM\u7684\u91CD\u7ED8\uFF08Repaint\uFF09\u548C\u91CD\u6392\uFF08Reflow\uFF09\u662F\u6BD4\u8F83\u6602\u8D35\u7684\u64CD\u4F5C\uFF0C\u4F1A\u5BFC\u81F4\u9875\u9762\u91CD\u65B0\u5E03\u5C40\u548C\u91CD\u65B0\u6E32\u67D3\u3002\u5C3D\u91CF\u907F\u514D\u9891\u7E41\u5730\u4FEE\u6539\u6837\u5F0F\u5C5E\u6027\uFF0C\u53EF\u4EE5\u4F7F\u7528CSS\u7C7B\u8FDB\u884C\u6279\u91CF\u7684\u6837\u5F0F\u53D8\u66F4\uFF0C\u6216\u4F7F\u7528",(0,l.jsx)(e.code,{children:"display: none"}),"\u5C06\u5143\u7D20\u9690\u85CF\u8D77\u6765\u8FDB\u884C\u64CD\u4F5C\uFF0C\u6700\u540E\u518D\u663E\u793A\u51FA\u6765\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528\u5408\u9002\u7684\u5DE5\u5177\u548C\u5E93\uFF1A\u9009\u62E9\u5408\u9002\u7684\u5DE5\u5177\u548C\u5E93\u6765\u5904\u7406\u5927\u89C4\u6A21DOM\u64CD\u4F5C\u7684\u573A\u666F\u3002\u4F8B\u5982\uFF0C\u4F7F\u7528\u4E13\u95E8\u7684\u6570\u636E\u7ED1\u5B9A\u5E93\u6216UI\u6846\u67B6\uFF0C\u5982React\u3001Vue\u6216Angular\u7B49\uFF0C\u5B83\u4EEC\u63D0\u4F9B\u4E86\u9AD8\u6548\u7684\u7EC4\u4EF6\u5316\u548C\u6570\u636E\u66F4\u65B0\u673A\u5236\uFF0C\u80FD\u591F\u4F18\u5316DOM\u64CD\u4F5C\u7684\u6027\u80FD\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0A\u4F18\u5316\u7B56\u7565\uFF0C\u53EF\u4EE5\u51CF\u5C11\u5BF9DOM\u7684\u9891\u7E41\u64CD\u4F5C\uFF0C\u63D0\u9AD8\u5927\u89C4\u6A21DOM\u64CD\u4F5C\u573A\u666F\u4E0B\u7684\u6027\u80FD\u548C\u54CD\u5E94\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"p1-loading",children:"\u5982\u4F55\u5B9E\u73B0\u7F51\u9875\u52A0\u8F7D\u8FDB\u5EA6\u6761\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"window.performance"})," \u5BF9\u8C61\u6765\u76D1\u542C\u9875\u9762\u8D44\u6E90\u52A0\u8F7D\u8FDB\u5EA6\u3002\u8BE5\u5BF9\u8C61\u63D0\u4F9B\u4E86\u5404\u79CD\u65B9\u6CD5\u6765\u83B7\u53D6\u8D44\u6E90\u52A0\u8F7D\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"performance.getEntries()"})," \u65B9\u6CD5\u83B7\u53D6\u9875\u9762\u4E0A\u6240\u6709\u7684\u8D44\u6E90\u52A0\u8F7D\u4FE1\u606F\u3002\u53EF\u4EE5\u4F7F\u7528\u8BE5\u65B9\u6CD5\u6765\u76D1\u6D4B\u6BCF\u4E2A\u8D44\u6E90\u7684\u52A0\u8F7D\u72B6\u6001\uFF0C\u8BA1\u7B97\u52A0\u8F7D\u65F6\u95F4\uFF0C\u5E76\u636E\u6B64\u6765\u5B9E\u73B0\u4E00\u4E2A\u8D44\u6E90\u52A0\u8F7D\u8FDB\u5EA6\u6761\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const resources = window.performance.getEntriesByType('resource')\nconst totalResources = resources.length\nlet loadedResources = 0\n\nresources.forEach((resource) => {\n  if (resource.initiatorType !== 'xmlhttprequest') {\n    // \u6392\u9664 AJAX \u8BF7\u6C42\n    resource.onload = () => {\n      loadedResources++\n      const progress = Math.round((loadedResources / totalResources) * 100)\n      updateProgress(progress)\n    }\n  }\n})\n\nfunction updateProgress (progress) {\n  // \u66F4\u65B0\u8FDB\u5EA6\u6761\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8BE5\u4EE3\u7801\u4F1A\u904D\u5386\u6240\u6709\u8D44\u6E90\uFF0C\u5E76\u6CE8\u518C\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"onload"})," \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u3002\u5F53\u6BCF\u4E2A\u8D44\u6E90\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u4F1A\u66F4\u65B0 ",(0,l.jsx)(e.code,{children:"loadedResources"})," \u53D8\u91CF\uFF0C\u5E76\u8BA1\u7B97\u5F53\u524D\u7684\u8FDB\u5EA6\u767E\u5206\u6BD4\uFF0C\u7136\u540E\u8C03\u7528 ",(0,l.jsx)(e.code,{children:"updateProgress()"})," \u51FD\u6570\u6765\u66F4\u65B0\u8FDB\u5EA6\u6761\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u91CC\u6392\u9664\u4E86 AJAX \u8BF7\u6C42\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u4E0D\u5C5E\u4E8E\u9875\u9762\u8D44\u6E90\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u6240\u6709\u8D44\u6E90\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u9875\u9762\u5C31\u4F1A\u5B8C\u5168\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u8FDB\u5EA6\u6761"}),"\n",(0,l.jsx)(e.p,{children:"\u7F51\u9875\u52A0\u8F7D\u8FDB\u5EA6\u6761\u53EF\u4EE5\u901A\u8FC7\u524D\u7AEF\u6280\u672F\u5B9E\u73B0\uFF0C\u4E00\u822C\u7684\u5B9E\u73B0\u601D\u8DEF\u662F\u901A\u8FC7\u76D1\u542C\u6D4F\u89C8\u5668\u7684\u9875\u9762\u52A0\u8F7D\u4E8B\u4EF6\u548C\u8D44\u6E90\u52A0\u8F7D\u4E8B\u4EF6\uFF0C\u6765\u5B9E\u65F6\u66F4\u65B0\u8FDB\u5EA6\u6761\u7684\u72B6\u6001\u3002\u4E0B\u9762\u4ECB\u7ECD\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F\u3002"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528\u539F\u751F\u8FDB\u5EA6\u6761"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 HTML5 \u4E2D\u63D0\u4F9B\u4E86 ",(0,l.jsx)(e.code,{children:"progress"})," \u5143\u7D20\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B83\u6765\u5B9E\u73B0\u4E00\u4E2A\u539F\u751F\u7684\u8FDB\u5EA6\u6761\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<progress id="progressBar" value="0" max="100"></progress>\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u7136\u540E\u5728 JavaScript \u4E2D\uFF0C\u76D1\u542C\u9875\u9762\u52A0\u8F7D\u4E8B\u4EF6\u548C\u8D44\u6E90\u52A0\u8F7D\u4E8B\u4EF6\uFF0C\u5B9E\u65F6\u66F4\u65B0 ",(0,l.jsx)(e.code,{children:"progress"})," \u5143\u7D20\u7684 ",(0,l.jsx)(e.code,{children:"value"})," \u5C5E\u6027\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const progressBar = document.getElementById('progressBar')\n\nwindow.addEventListener('load', () => {\n  progressBar.value = 100\n})\n\ndocument.addEventListener('readystatechange', () => {\n  const progress = Math.floor((document.readyState / 4) * 100)\n  progressBar.value = progress\n})\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93\u53EF\u4EE5\u66F4\u52A0\u65B9\u4FBF\u5730\u5B9E\u73B0\u7F51\u9875\u52A0\u8F7D\u8FDB\u5EA6\u6761\uFF0C\u4E0B\u9762\u4EE5 ",(0,l.jsx)(e.code,{children:"nprogress"})," \u5E93\u4E3A\u4F8B\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5B89\u88C5 ",(0,l.jsx)(e.code,{children:"nprogress"})," \u5E93"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"bashCopy codenpm install nprogress --save\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u9875\u9762\u4E2D\u5F15\u5165 ",(0,l.jsx)(e.code,{children:"nprogress.css"})," \u548C ",(0,l.jsx)(e.code,{children:"nprogress.js"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<link rel="stylesheet" href="/node_modules/nprogress/nprogress.css">\n<script src="/node_modules/nprogress/nprogress.js"><\/script>\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:["\u5728 JavaScript \u4E2D\u521D\u59CB\u5316 ",(0,l.jsx)(e.code,{children:"nprogress"})," \u5E76\u76D1\u542C\u9875\u9762\u52A0\u8F7D\u4E8B\u4EF6\u548C\u8D44\u6E90\u52A0\u8F7D\u4E8B\u4EF6"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"// \u521D\u59CB\u5316 nprogress\nNProgress.configure({ showSpinner: false })\n\n// \u76D1\u542C\u9875\u9762\u52A0\u8F7D\u4E8B\u4EF6\nwindow.addEventListener('load', () => {\n  NProgress.done()\n})\n\n// \u76D1\u542C\u8D44\u6E90\u52A0\u8F7D\u4E8B\u4EF6\ndocument.addEventListener('readystatechange', () => {\n  if (document.readyState === 'interactive') {\n    NProgress.start()\n  } else if (document.readyState === 'complete') {\n    NProgress.done()\n  }\n})\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"nprogress"})," \u53EF\u4EE5\u81EA\u5B9A\u4E49\u8FDB\u5EA6\u6761\u7684\u6837\u5F0F\uFF0C\u540C\u65F6\u4E5F\u63D0\u4F9B\u4E86\u66F4\u591A\u7684 API \u4F9B\u6211\u4EEC\u4F7F\u7528\uFF0C\u6BD4\u5982\u8BF4\u624B\u52A8\u63A7\u5236\u8FDB\u5EA6\u6761\u7684\u663E\u793A\u548C\u9690\u85CF\uFF0C\u4EE5\u53CA\u652F\u6301 Promise \u548C Ajax \u8BF7\u6C42\u7684\u8FDB\u5EA6\u6761\u7B49\u7B49\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"p0-screenshot",children:"\u524D\u7AEF\u5982\u4F55\u5B9E\u73B0\u622A\u56FE\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"\u524D\u7AEF\u5B9E\u73B0\u622A\u56FE\u9700\u8981\u4F7F\u7528 HTML5 \u7684 Canvas \u548C\u76F8\u5173 API\uFF0C\u5177\u4F53\u6B65\u9AA4\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u9996\u5148\u5728\u9875\u9762\u4E2D\u521B\u5EFA\u4E00\u4E2A Canvas \u5143\u7D20\uFF0C\u5E76\u8BBE\u7F6E\u5176\u5BBD\u9AD8\u548C\u6837\u5F0F\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528 Canvas API \u5728 Canvas \u4E0A\u7ED8\u5236\u9700\u8981\u622A\u56FE\u7684\u5185\u5BB9\uFF0C\u6BD4\u5982\u9875\u9762\u7684\u67D0\u4E2A\u533A\u57DF\u3001\u67D0\u4E2A\u5143\u7D20\u3001\u56FE\u7247\u7B49\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u8C03\u7528 Canvas API \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"toDataURL()"})," \u65B9\u6CD5\u5C06 Canvas \u8F6C\u5316\u4E3A base64 \u7F16\u7801\u7684\u56FE\u7247\u6570\u636E\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"\u5C06 base64 \u7F16\u7801\u7684\u56FE\u7247\u6570\u636E\u4F20\u9012\u7ED9\u540E\u7AEF\u8FDB\u884C\u5904\u7406\u6216\u8005\u76F4\u63A5\u5728\u524D\u7AEF\u8FDB\u884C\u663E\u793A\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u5B9E\u73B0\u4E86\u5BF9\u6574\u4E2A\u9875\u9762\u7684\u622A\u56FE\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n <head>\n <meta charset=\"UTF-8\">\n <title>\u622A\u56FE\u793A\u4F8B</title>\n <style>\n #canvas {\n position: fixed;\n left: 0;\n top: 0;\n z-index: 9999;\n }\n </style>\n </head>\n <body>\n <h1>\u622A\u56FE\u793A\u4F8B</h1>\n <p>\u8FD9\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u622A\u56FE\u793A\u4F8B\u3002</p>\n <button id=\"btn\">\u622A\u56FE</button>\n <canvas id=\"canvas\"></canvas>\n <script>\n const canvas = document.getElementById('canvas');\n const ctx = canvas.getContext('2d');\n const btn = document.getElementById('btn');\n canvas.width = window.innerWidth;\n canvas.height = window.innerHeight;\n\n btn.addEventListener('click', () => {\n ctx.clearRect(0, 0, canvas.width, canvas.height);\n ctx.drawImage(document.documentElement, 0, 0);\n const imgData = canvas.toDataURL();\n console.log(imgData);\n });\n <\/script>\n </body>\n</html>\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u5728\u9875\u9762\u4E2D\u521B\u5EFA\u4E86\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"canvas"})," \u5143\u7D20\uFF0C\u5E76\u8BBE\u7F6E\u5176\u5BBD\u9AD8\u548C\u6837\u5F0F\uFF0C\u5C06\u5176\u653E\u5728\u9875\u9762\u6700\u4E0A\u65B9\u3002\u5728\u70B9\u51FB\u201C\u622A\u56FE\u201D\u6309\u94AE\u65F6\uFF0C\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"toDataURL()"})," \u65B9\u6CD5\u5C06\u6574\u4E2A\u9875\u9762\u7684\u622A\u56FE\u8F6C\u6362\u4E3A base64 \u7F16\u7801\u7684\u56FE\u7247\u6570\u636E\uFF0C\u5E76\u6253\u5370\u5230\u63A7\u5236\u53F0\u4E0A\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"\u6587\u4EF6\u4E0A\u4F20\u548C\u4E0A\u4F20\u6587\u4EF6\u89E3\u6790\u7684\u539F\u7406\u662F\u5565",children:"\u6587\u4EF6\u4E0A\u4F20\u548C\u4E0A\u4F20\u6587\u4EF6\u89E3\u6790\u7684\u539F\u7406\u662F\u5565\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"\u524D\u7AEF\u5982\u4F55\u4E0A\u4F20\u56FE\u7247\u7B49\u6587\u4EF6"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u524D\u7AEF\u4E0A\u4F20\u56FE\u7247\u6216\u5176\u4ED6\u6587\u4EF6\u5B57\u6BB5\uFF0C\u4E00\u822C\u4F7F\u7528 HTML \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"<input>"})," \u5143\u7D20\uFF0C\u5E76\u8BBE\u7F6E ",(0,l.jsx)(e.code,{children:'type="file"'}),"\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u8BA9\u7528\u6237\u9009\u62E9\u672C\u5730\u7684\u6587\u4EF6\u8FDB\u884C\u4E0A\u4F20\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4F8B\u5982\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'htmlCopy code<form enctype="multipart/form-data">\n <input type="file" name="image" accept="image/*">\n <input type="submit" value="\u4E0A\u4F20">\n</form>\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"<form>"})," \u5143\u7D20\u7684 ",(0,l.jsx)(e.code,{children:"enctype"})," \u5C5E\u6027\u8BBE\u7F6E\u4E3A ",(0,l.jsx)(e.code,{children:"multipart/form-data"}),"\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u5C06\u6587\u4EF6\u4F5C\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u8FDB\u884C\u4E0A\u4F20\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5F53\u7528\u6237\u9009\u62E9\u4E86\u672C\u5730\u7684\u6587\u4EF6\u540E\uFF0C\u63D0\u4EA4\u8868\u5355\u65F6\u5C31\u4F1A\u5C06\u6587\u4EF6\u4F5C\u4E3A ",(0,l.jsx)(e.code,{children:"FormData"})," \u5BF9\u8C61\u7684\u4E00\u90E8\u5206\u8FDB\u884C\u53D1\u9001\u3002\u5728 JavaScript \u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"FormData"})," \u6784\u9020\u51FD\u6570\u6765\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(e.code,{children:"FormData"})," \u5BF9\u8C61\uFF0C\u5E76\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"append()"})," \u65B9\u6CD5\u5411\u5176\u4E2D\u6DFB\u52A0\u4E0A\u4F20\u7684\u6587\u4EF6\u6570\u636E\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const formData = new FormData()\nconst fileInput = document.querySelector('input[type=\"file\"]')\nformData.append('image', fileInput.files[0])\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u6837\u5C31\u53EF\u4EE5\u5C06\u6587\u4EF6\u6570\u636E\u6DFB\u52A0\u5230 ",(0,l.jsx)(e.code,{children:"formData"})," \u5BF9\u8C61\u4E2D\uFF0C\u7136\u540E\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"fetch()"})," \u65B9\u6CD5\u6216\u5176\u4ED6\u65B9\u5F0F\u5C06\u5176\u53D1\u9001\u5230\u540E\u7AEF\u8FDB\u884C\u5904\u7406\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u7531\u4E8E\u5B89\u5168\u539F\u56E0\uFF0C\u6D4F\u89C8\u5668\u9650\u5236\u4E86\u7528\u6237\u4E0A\u4F20\u6587\u4EF6\u7684\u5927\u5C0F\u548C\u7C7B\u578B\u3002\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"accept"})," \u5C5E\u6027\u6765\u9650\u5236\u6587\u4EF6\u7684\u7C7B\u578B\uFF0C\u4F8B\u5982 ",(0,l.jsx)(e.code,{children:'accept="image/*"'})," \u8868\u793A\u53EA\u5141\u8BB8\u4E0A\u4F20\u56FE\u7247\u7C7B\u578B\u7684\u6587\u4EF6\u3002\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"multiple"})," \u5C5E\u6027\u6765\u5141\u8BB8\u7528\u6237\u9009\u62E9\u591A\u4E2A\u6587\u4EF6\u8FDB\u884C\u4E0A\u4F20\u3002\u540C\u65F6\uFF0C\u8FD8\u9700\u8981\u5728\u540E\u7AEF\u5BF9\u4E0A\u4F20\u7684\u6587\u4EF6\u8FDB\u884C\u5904\u7406\u548C\u9A8C\u8BC1\uFF0C\u4EE5\u786E\u4FDD\u5B89\u5168\u6027\u548C\u6B63\u786E\u6027\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u540E\u7AEF\u5982\u4F55\u89E3\u6790\uFF1Fkoa \u4E3A\u4F8B"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Koa \u4E2D\u89E3\u6790\u4E0A\u4F20\u7684\u6587\u4EF6\u9700\u8981\u4F7F\u7528\u4E00\u4E2A\u53EB\u505A ",(0,l.jsx)(e.code,{children:"koa-body"})," \u7684\u4E2D\u95F4\u4EF6\uFF0C\u5B83\u53EF\u4EE5\u81EA\u52A8\u5C06 ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u89E3\u6790\u6210 JavaScript \u5BF9\u8C61\uFF0C\u4ECE\u800C\u83B7\u53D6\u5230\u4E0A\u4F20\u7684\u6587\u4EF6\u548C\u5176\u4ED6\u8868\u5355\u6570\u636E\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4EE5\u4E0B\u662F\u4E00\u4E2A\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"koa-body"})," \u4E2D\u95F4\u4EF6\u89E3\u6790\u4E0A\u4F20\u6587\u4EF6\u7684\u4F8B\u5B50\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"const Koa = require('koa')\nconst koaBody = require('koa-body')\n\nconst app = new Koa()\n\n// \u6CE8\u518C koa-body \u4E2D\u95F4\u4EF6\napp.use(koaBody({\n  multipart: true // \u652F\u6301\u4E0A\u4F20\u6587\u4EF6\n}))\n\n// \u5904\u7406\u4E0A\u4F20\u6587\u4EF6\u7684\u8BF7\u6C42\napp.use(async (ctx) => {\n  const { files, fields } = ctx.request.body // \u83B7\u53D6\u4E0A\u4F20\u7684\u6587\u4EF6\u548C\u5176\u4ED6\u8868\u5355\u6570\u636E\n  const file = files && files.image // \u83B7\u53D6\u4E0A\u4F20\u7684\u540D\u4E3A image \u7684\u6587\u4EF6\n\n  if (file) {\n    console.log(`Received file: ${file.name}, type: ${file.type}, size: ${file.size}`)\n    // \u5904\u7406\u4E0A\u4F20\u7684\u6587\u4EF6\n  } else {\n    console.log('No file received')\n  }\n\n  // \u8FD4\u56DE\u54CD\u5E94\n  ctx.body = 'Upload success'\n})\n\napp.listen(3000)\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"koa-body"})," \u4E2D\u95F4\u4EF6\u6CE8\u518C\u4E86\u4E00\u4E2A\u89E3\u6790\u8BF7\u6C42\u4F53\u7684\u51FD\u6570\uFF0C\u5E76\u5728\u8BF7\u6C42\u5904\u7406\u51FD\u6570\u4E2D\u83B7\u53D6\u5230\u4E86\u4E0A\u4F20\u7684\u6587\u4EF6\u548C\u5176\u4ED6\u8868\u5355\u6570\u636E\u3002\u5176\u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"files"})," \u5BF9\u8C61\u5305\u542B\u4E86\u6240\u6709\u4E0A\u4F20\u7684\u6587\u4EF6\uFF0C",(0,l.jsx)(e.code,{children:"fields"})," \u5BF9\u8C61\u5305\u542B\u4E86\u6240\u6709\u975E\u6587\u4EF6\u7C7B\u578B\u7684\u8868\u5355\u6570\u636E\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u9700\u8981\u4ECE ",(0,l.jsx)(e.code,{children:"files"})," \u5BF9\u8C61\u4E2D\u83B7\u53D6\u5230\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6\uFF0C\u4F8B\u5982\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\u4F7F\u7528\u4E86 ",(0,l.jsx)(e.code,{children:"files.image"})," \u6765\u83B7\u53D6\u540D\u4E3A ",(0,l.jsx)(e.code,{children:"image"})," \u7684\u4E0A\u4F20\u6587\u4EF6\u3002\u53EF\u4EE5\u4F7F\u7528\u4E0A\u4F20\u6587\u4EF6\u7684\u5C5E\u6027\uFF0C\u5982 ",(0,l.jsx)(e.code,{children:"name"}),"\u3001",(0,l.jsx)(e.code,{children:"type"})," \u548C ",(0,l.jsx)(e.code,{children:"size"})," \u6765\u83B7\u53D6\u6587\u4EF6\u7684\u4FE1\u606F\uFF0C\u5E76\u8FDB\u884C\u5904\u7406\u3002\u6700\u540E\u8FD4\u56DE\u54CD\u5E94\uFF0C\u8868\u793A\u4E0A\u4F20\u6210\u529F\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C",(0,l.jsx)(e.code,{children:"koa-body"})," \u4E2D\u95F4\u4EF6\u9700\u8981\u8BBE\u7F6E ",(0,l.jsx)(e.code,{children:"multipart: true"})," \u624D\u80FD\u652F\u6301\u4E0A\u4F20\u6587\u4EF6\u3002\u53E6\u5916\uFF0C\u5728\u5904\u7406\u4E0A\u4F20\u6587\u4EF6\u65F6\u9700\u8981\u6CE8\u610F\u5B89\u5168\u6027\u548C\u6B63\u786E\u6027\uFF0C\u53EF\u4EE5\u4F7F\u7528\u7B2C\u4E09\u65B9\u7684\u6587\u4EF6\u4E0A\u4F20\u5904\u7406\u5E93\u6765\u8FDB\u884C\u5904\u7406\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u89E3\u6790\u4E0A\u4F20\u6587\u4EF6\u7684\u539F\u7406\u662F\u5565\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 HTTP \u534F\u8BAE\u4E2D\uFF0C\u4E0A\u4F20\u6587\u4EF6\u7684\u8BF7\u6C42\u901A\u5E38\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u3002\u8FD9\u79CD\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u7531\u591A\u4E2A\u90E8\u5206\u7EC4\u6210\uFF0C\u6BCF\u4E2A\u90E8\u5206\u4EE5\u4E00\u4E2A boundary \u5B57\u7B26\u4E32\u4F5C\u4E3A\u5206\u9694\u7B26\uFF0C\u6BCF\u4E2A\u90E8\u5206\u90FD\u4EE3\u8868\u4E00\u4E2A\u5B57\u6BB5\u6216\u4E00\u4E2A\u6587\u4EF6\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5BF9\u4E8E\u4E00\u4E2A\u4E0A\u4F20\u6587\u4EF6\u7684\u8BF7\u6C42\uFF0C\u6D4F\u89C8\u5668\u4F1A\u5C06\u8BF7\u6C42\u4F53\u6309\u7167 ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u683C\u5F0F\u6784\u9020\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u90E8\u5206\u90FD\u6709\u4E00\u4E9B\u63CF\u8FF0\u4FE1\u606F\u548C\u5185\u5BB9\uFF0C\u4F8B\u5982\u6587\u4EF6\u540D\u3001\u6587\u4EF6\u7C7B\u578B\u3001\u6587\u4EF6\u5927\u5C0F\u3001\u5185\u5BB9\u7B49\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u670D\u52A1\u5668\u7AEF\u9700\u8981\u5BF9\u8FD9\u4E9B\u90E8\u5206\u8FDB\u884C\u89E3\u6790\uFF0C\u63D0\u53D6\u51FA\u6240\u9700\u8981\u7684\u4FE1\u606F\u3002\u5E38\u89C1\u7684\u89E3\u6790\u65B9\u5F0F\u6709\u4E24\u79CD\uFF1A"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u624B\u52A8\u89E3\u6790\uFF1A\u6839\u636E ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u683C\u5F0F\u7684\u89C4\u8303\uFF0C\u6309\u7167 boundary \u5B57\u7B26\u4E32\u5C06\u8BF7\u6C42\u4F53\u5207\u5206\u4E3A\u591A\u4E2A\u90E8\u5206\uFF0C\u7136\u540E\u89E3\u6790\u6BCF\u4E2A\u90E8\u5206\u7684\u5934\u90E8\u548C\u5185\u5BB9\uFF0C\u63D0\u53D6\u51FA\u6587\u4EF6\u540D\u3001\u6587\u4EF6\u7C7B\u578B\u3001\u6587\u4EF6\u5927\u5C0F\u7B49\u4FE1\u606F\u3002\u8FD9\u79CD\u65B9\u5F0F\u6BD4\u8F83\u9EBB\u70E6\uFF0C\u9700\u8981\u624B\u52A8\u5904\u7406\u8F83\u591A\u7684\u7EC6\u8282\uFF0C\u5BB9\u6613\u51FA\u9519\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93\uFF1A\u53EF\u4EE5\u4F7F\u7528\u7B2C\u4E09\u65B9\u7684\u89E3\u6790\u5E93\uFF0C\u5982 ",(0,l.jsx)(e.code,{children:"multer"}),"\u3001",(0,l.jsx)(e.code,{children:"formidable"}),"\u3001",(0,l.jsx)(e.code,{children:"busboy"})," \u7B49\uFF0C\u6765\u65B9\u4FBF\u5730\u89E3\u6790 ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u3002\u8FD9\u4E9B\u5E93\u901A\u5E38\u4F1A\u5C06\u89E3\u6790\u51FA\u7684\u4FE1\u606F\u5B58\u50A8\u5230\u4E00\u4E2A\u5BF9\u8C61\u4E2D\uFF0C\u65B9\u4FBF\u8FDB\u4E00\u6B65\u5904\u7406\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Node.js \u4E2D\uFF0C\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"http"})," \u6A21\u5757\u81EA\u5DF1\u5B9E\u73B0 ",(0,l.jsx)(e.code,{children:"multipart/form-data"})," \u7684\u89E3\u6790\u6BD4\u8F83\u9EBB\u70E6\uFF0C\u5E38\u89C1\u7684\u505A\u6CD5\u662F\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93\u6765\u89E3\u6790\u4E0A\u4F20\u6587\u4EF6\uFF0C\u4F8B\u5982\u5728 Koa \u4E2D\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"koa-body"})," \u4E2D\u95F4\u4EF6\u5C31\u53EF\u4EE5\u65B9\u4FBF\u5730\u5904\u7406\u4E0A\u4F20\u6587\u4EF6\u3002"]})]})}function h(n={}){let{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},715:function(n,e,s){s.d(e,{Z:function(){return c},a:function(){return i}});var r=s(1699);let l={},t=r.createContext(l);function i(n){let e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);