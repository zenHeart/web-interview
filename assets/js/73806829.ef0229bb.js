"use strict";(self.webpackChunkweb_interview=self.webpackChunkweb_interview||[]).push([["5831"],{8948:function(e,n,s){s.r(n),s.d(n,{default:()=>a,frontMatter:()=>d,metadata:()=>c,assets:()=>h,toc:()=>o,contentTitle:()=>i});var c=JSON.parse('{"id":"engineering/bundler","title":"\u6253\u5305\u5DE5\u5177","description":"tapable \u7684\u8BBE\u8BA1\u601D\u8DEF\u4E0E\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F","source":"@site/docs/06.engineering/04-bundler.md","sourceDirName":"06.engineering","slug":"/engineering/bundler","permalink":"/web-interview/docs/engineering/bundler","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5B89\u5168","permalink":"/web-interview/docs/engineering/security"},"next":{"title":"\u6027\u80FD","permalink":"/web-interview/docs/engineering/performance"}}'),l=s("6773"),r=s("715");let d={},i="\u6253\u5305\u5DE5\u5177",h={},o=[{value:"tapable \u7684\u8BBE\u8BA1\u601D\u8DEF\u4E0E\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F",id:"p0-tapable",level:2},{value:"[webpack] module\u3001chunk \u3001bundle \u7684\u533A\u522B",id:"p0-bundler",level:2},{value:"\u4E3A\u4EC0\u4E48\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u9700\u8981\u6253\u5305\u5DE5\u5177\u8FDB\u884C\u6253\u5305\u7F16\u8BD1\uFF1F",id:"p0-bunlder-concept",level:2},{value:"\u8BB2\u4E00\u4E0BWebpack\u8BBE\u8BA1\u7406\u5FF5",id:"p0-webpack-design",level:2},{value:"webpack \u539F\u7406",id:"p0-webpack-principle",level:2},{value:"webpack-dev-server",id:"p1-webpack-de-server",level:2},{value:"chunk \u662F\u4EC0\u4E48\u6982\u5FF5\uFF0C\u4ECB\u7ECD\u4E00\u4E0B\uFF1F",id:"p0-chunk-concept",level:2},{value:"webpack \u7684\u4E3B\u8981\u914D\u7F6E\u9879\u6709\u54EA\u4E9B",id:"p1-webpack-config",level:2},{value:"\u5982\u4F55\u914D\u7F6E\u591A\u5165\u53E3\u5E94\u7528\uFF0C \u4E14\u533A\u5206\u516C\u5171\u4F9D\u8D56\u7684\uFF1F",id:"p1-config-entry",level:2},{value:"webpack \u4F18\u5316",id:"p0-webpack-profile",level:2},{value:"webpack \u6253\u5305",id:"p0-webpack-bundler",level:2},{value:"\u5206\u5305\u7684\u65B9\u5F0F\u6709\u54EA\u4E9B\uFF1F",id:"p0-webpack-package",level:2},{value:"\u5F02\u6B65\u52A0\u8F7D\u539F\u7406\u662F\u5565",id:"p0-async-load",level:2},{value:"webpack \u7F16\u8BD1\u5982\u4F55\u5C06\u6E90\u7801\u548C\u4F9D\u8D56\u6253\u5305\u5230\u4E0D\u540C\u8DEF\u5F84",id:"p1-webpack-compile",level:2},{value:"loader \u548C plugin \u6709\u5565\u533A\u522B",id:"p0-loader-plugin",level:2},{value:"\u624B\u5199 webpack loader \u6709\u54EA\u4E9B\u91CD\u8981 api \u4E0E\u6CE8\u610F\u4E8B\u9879\uFF1F",id:"p1-webpack-loader",level:2},{value:"loader \u901A\u4FE1",id:"p1-loader-commucation",level:2},{value:"webpack plugin \u6709\u90A3\u4E9B\u91CD\u8981 api \u4E0E\u6CE8\u610F\u7684\u5730\u65B9\uFF1F",id:"p2-plugin",level:2},{value:"webpack externals \u662F\u5982\u4F55\u52A0\u8F7D\u5916\u90E8\u4F9D\u8D56\u7684",id:"p0-webpack-externals",level:2},{value:"rollup \u4E3A\u4EC0\u4E48\u5FEB",id:"p1-rollup-webpack-difference",level:2},{value:"webpack \u548C vite \u533A\u522B",id:"p0-webpack-vite-difference",level:2},{value:"vite \u5F00\u53D1\u548C\u6784\u5EFA\u6709\u4F55\u4E0D\u540C\uFF1F",id:"vite-\u5F00\u53D1\u548C\u6784\u5EFA\u6709\u4F55\u4E0D\u540C",level:2},{value:"esbuild \u548C rollup \u90FD\u662F vite \u7684\u57FA\u7840\u4F9D\u8D56\uFF0C \u90A3\u4E48\u4ED6\u4EEC\u6709\u5565\u4E0D\u540C\uFF1F",id:"p1-vite",level:2},{value:"vite dev  \u662F\u5982\u4F55\u5DE5\u4F5C\u7684, \u4E3A\u4EC0\u4E48\u5FEB\uFF0C\u6709\u4EC0\u4E48\u7F3A\u70B9?",id:"p3-vite-dev-work",level:2},{value:"tree-shaking",id:"p0-tree-shaking-principle",level:2},{value:"babel \u7684\u7406\u89E3\uFF1F",id:"p0-babel",level:2},{value:"babel-loader \u6765\u7F16\u8BD1 tsx \u6587\u4EF6\uFF0C \u5E94\u8BE5\u5982\u4F55\u914D\u7F6E\u5462\uFF1F",id:"babel-loader",level:2},{value:"vue-cli \u90FD\u505A\u4E86\u54EA\u4E9B\u4E8B\u513F\uFF0C\u6709\u54EA\u4E9B\u529F\u80FD\uFF1F",id:"p1-vue-cli",level:2},{value:"\u6D4F\u89C8\u5668\u672C\u8EAB\u662F\u4E0D\u652F\u6301\u6A21\u5757\u5316\u7684, webpack \u662F\u5982\u4F55\u901A\u8FC7\u6587\u4EF6\u6253\u5305\uFF0C\u8BA9\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BFB\u53D6\u5230\u524D\u7AEF\u5404\u4E2A\u6A21\u5757\u7684\u4EE3\u7801\u7684\uFF1F",id:"p0-webpack-browser",level:2},{value:"sideEffects \u5C5E\u6027\u7684\u4F5C\u7528\u662F\u5565",id:"p0-sideEffects",level:2},{value:"webpack \u5982\u4F55\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u7684\u6A21\u5757",id:"p0-require-load",level:2},{value:"webpack5 Module Federation",id:"p0-module-federation",level:2},{value:"babel \u7684\u5DE5\u4F5C\u6D41\u7A0B\u662F\u5982\u4F55\u7684\uFF1F",id:"p0-babel",level:2},{value:"babel \u63D2\u4EF6",id:"p0-bable-plugin",level:2},{value:"Babel Polyfill \u4E86\u89E3\u591A\u5C11",id:"p2-babel-polyfill",level:2},{value:"webpack\u70ED\u66F4\u65B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F",id:"p1-hotreload",level:2},{value:"define plugin",id:"p1-define-plugin",level:2},{value:"ES6 \u4EE3\u7801\u8F6C\u6210 ES5 \u4EE3\u7801\u7684\u5B9E\u73B0\u601D\u8DEF\u662F\u4EC0\u4E48\uFF1F",id:"p0-es6-es5",level:2}];function j(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{Answer:s}=n;return s||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Answer",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u6253\u5305\u5DE5\u5177",children:"\u6253\u5305\u5DE5\u5177"})}),"\n",(0,l.jsx)(n.h2,{id:"p0-tapable",children:"tapable \u7684\u8BBE\u8BA1\u601D\u8DEF\u4E0E\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Webpack Tapable \u7684\u8BBE\u8BA1\u601D\u8DEF\u4E3B\u8981\u57FA\u4E8E\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF08Observer Pattern\uFF09\u548C\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\uFF08Publish-Subscribe Pattern\uFF09\uFF0C\u7528\u4E8E\u89E3\u8026\u5404\u4E2A\u63D2\u4EF6\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u8BA9\u63D2\u4EF6\u80FD\u591F\u72EC\u7ACB\u4F5C\u7528\u4E8E\u7279\u5B9A\u7684\u94A9\u5B50\uFF08Hook\uFF09\uFF0C\u4ECE\u800C\u5B9E\u73B0\u53EF\u6269\u5C55\u6027\u548C\u7075\u6D3B\u6027\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u6765\u8BF4\uFF0CTapable \u91C7\u7528\u4E86\u94A9\u5B50\uFF08Hook\uFF09\u7684\u6982\u5FF5\uFF0C\u6BCF\u4E2A\u94A9\u5B50\u5BF9\u5E94\u4E00\u7EC4\u4E8B\u4EF6\uFF0CWebpack \u5728\u4E0D\u540C\u7684\u65F6\u523B\u89E6\u53D1\u8FD9\u4E9B\u94A9\u5B50\uFF0C\u63D2\u4EF6\u53EF\u4EE5\u6CE8\u518C\u81EA\u5DF1\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5230\u5BF9\u5E94\u7684\u94A9\u5B50\u4E0A\uFF0C\u4EE5\u5B9E\u73B0\u5404\u79CD\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E3A\u4E86\u907F\u514D\u63D2\u4EF6\u4E4B\u95F4\u7684\u8026\u5408\uFF0CTapable \u5C06\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u6309\u7167\u94A9\u5B50\u7C7B\u578B\u5206\u4E3A\u540C\u6B65\u94A9\u5B50\uFF08Sync Hook\uFF09\u3001\u5F02\u6B65\u94A9\u5B50\uFF08Async Hook\uFF09\u3001\u5355\u5411\u5F02\u6B65\u94A9\u5B50\uFF08Async Parallel Hook\uFF09\u548C\u591A\u5411\u5F02\u6B65\u94A9\u5B50\uFF08Async Series Hook\uFF09\u56DB\u79CD\u7C7B\u578B\u3002\u8FD9\u6837\uFF0C\u4E0D\u540C\u7C7B\u578B\u7684\u94A9\u5B50\u5BF9\u5E94\u7740\u4E0D\u540C\u7684\u4E8B\u4EF6\u5904\u7406\u987A\u5E8F\u548C\u8C03\u7528\u65B9\u5F0F\uFF0C\u63D2\u4EF6\u5728\u6CE8\u518C\u81EA\u5DF1\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u65F6\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E0D\u540C\u7684\u94A9\u5B50\u7C7B\u578B\u6765\u9002\u5E94\u4E0D\u540C\u7684\u5E94\u7528\u573A\u666F\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9664\u6B64\u4E4B\u5916\uFF0CTapable \u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E9B\u8F85\u52A9\u65B9\u6CD5\u548C\u5DE5\u5177\u51FD\u6570\uFF0C\u7528\u4E8E\u65B9\u4FBF\u5730\u521B\u5EFA\u548C\u7BA1\u7406\u94A9\u5B50\u3001\u5411\u94A9\u5B50\u6CE8\u518C\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u3001\u8C03\u7528\u94A9\u5B50\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7B49\u3002\u8FD9\u4E9B\u5DE5\u5177\u51FD\u6570\u7684\u8BBE\u8BA1\u601D\u8DEF\u4E5F\u9075\u5FAA\u4E86\u89E3\u8026\u3001\u7B80\u5355\u6613\u7528\u7684\u539F\u5219\uFF0C\u4E3A\u63D2\u4EF6\u5F00\u53D1\u63D0\u4F9B\u4E86\u5F88\u5927\u7684\u4FBF\u5229\u6027\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Tapable \u7684\u4F7F\u7528"}),"\n",(0,l.jsx)(n.p,{children:"Webpack Tapable \u7684\u4F7F\u7528\u5206\u4E3A\u4E09\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u5B9A\u4E49\u4E00\u4E2A\u65B0\u7684 Tapable \u5B9E\u4F8B\uFF1A\u5728 Webpack \u63D2\u4EF6\u4E2D\u5B9A\u4E49\u4E00\u4E2A\u65B0\u7684 Tapable \u5B9E\u4F8B\uFF0C\u5E76\u5B9A\u4E49\u9700\u8981\u76D1\u542C\u7684\u4E8B\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const { SyncHook } = require('tapable')\n\nclass MyPlugin {\n  constructor () {\n    this.hooks = {\n      beforeRun: new SyncHook(['compiler']),\n      done: new SyncHook(['stats'])\n    }\n  }\n\n  apply (compiler) {\n    this.hooks.beforeRun.tap('MyPlugin', compiler => {\n      console.log('Webpack is starting to run...')\n    })\n\n    this.hooks.done.tap('MyPlugin', stats => {\n      console.log('Webpack has finished running.')\n    })\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u89E6\u53D1\u4E8B\u4EF6\uFF1A\u5728 Webpack \u7684\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\uFF0C\u8C03\u7528 Tapable \u5B9E\u4F8B\u7684\u89E6\u53D1\u65B9\u6CD5\uFF0C\u89E6\u53D1\u4E8B\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"compiler.hooks.beforeRun.call(compiler)\n// Webpack is starting to run...\n\ncompiler.run((err, stats) => {\n  if (err) {\n    console.error(err)\n    return\n  }\n\n  console.log(stats)\n  compiler.hooks.done.call(stats)\n  // Webpack has finished running.\n})\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"\u6CE8\u518C\u63D2\u4EF6\uFF1A\u5728 Webpack \u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u5C06\u63D2\u4EF6\u5B9E\u4F8B\u6CE8\u518C\u5230 Webpack \u4E2D\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const MyPlugin = require('./my-plugin')\n\nmodule.exports = {\n  plugins: [new MyPlugin()]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0A\u662F\u4F7F\u7528 Tapable \u7684\u57FA\u672C\u6D41\u7A0B\uFF0C\u901A\u8FC7 Tapable \u53EF\u4EE5\u76D1\u542C\u5230\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u7684\u5404\u4E2A\u4E8B\u4EF6\uFF0C\u5E76\u5BF9\u7F16\u8BD1\u8FC7\u7A0B\u8FDB\u884C\u4FEE\u6539\uFF0C\u4ECE\u800C\u5B9E\u73B0\u5404\u79CD\u63D2\u4EF6\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u5E38\u89C1\u7684 Tapable \u7C7B\u578B\u548C\u7528\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"SyncHook\uFF1A\u540C\u6B65 Hook\uFF0C\u6309\u7167\u6CE8\u518C\u7684\u987A\u5E8F\u540C\u6B65\u6267\u884C\u6240\u6709\u56DE\u8C03\u51FD\u6570\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const { SyncHook } = require('tapable')\n\nconst hook = new SyncHook(['arg1', 'arg2'])\n\nhook.tap('MyPlugin', (arg1, arg2) => {\n  console.log(`Hook is triggered with arguments: ${arg1}, ${arg2}`)\n})\n\nhook.tap('MyPlugin', (arg1, arg2) => {\n  console.log('Second callback is called')\n})\n\nhook.call('Hello', 'world')\n// Hook is triggered with arguments: Hello, world\n// Second callback is called\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"AsyncParallelHook\uFF1A\u5F02\u6B65 Hook\uFF0C\u6309\u7167\u6CE8\u518C\u7684\u987A\u5E8F\u5F02\u6B65\u6267\u884C\u6240\u6709\u56DE\u8C03\u51FD\u6570\uFF0C\u4E0D\u5173\u5FC3\u56DE\u8C03\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const { AsyncParallelHook } = require('tapable')\n\nconst hook = new AsyncParallelHook(['arg1', 'arg2'])\n\nhook.tap('MyPlugin', (arg1, arg2, callback) => {\n  setTimeout(() => {\n    console.log(`Hook is triggered with arguments: ${arg1}, ${arg2}`)\n    callback()\n  }, 1000)\n})\n\nhook.tap('MyPlugin', (arg1, arg2, callback) => {\n  setTimeout(() => {\n    console.log('Second callback is called')\n    callback()\n  }, 500)\n})\n"})}),"\n",(0,l.jsx)(n.p,{children:"Tapable \u662F\u5982\u4F55\u5B9E\u73B0\u7684\uFF1F\u4EE3\u7801\u7B80\u5355\u5B9E\u73B0\u4E00\u4E0B\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Webpack Tapable \u662F\u57FA\u4E8E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u7684\u4E00\u4E2A\u63D2\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u7EC4\u94A9\u5B50\u51FD\u6570\uFF0C\u8BA9\u63D2\u4EF6\u53EF\u4EE5\u5728\u76F8\u5E94\u7684\u65F6\u673A\u6267\u884C\u81EA\u5DF1\u7684\u903B\u8F91\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u81EA\u5B9A\u4E49 Tapable \u7684\u5B9E\u73B0\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"class Tapable {\n  constructor () {\n    this.hooks = {}\n  }\n\n  // \u6CE8\u518C\u4E8B\u4EF6\u76D1\u542C\u51FD\u6570\n  tap (name, callback) {\n    if (!this.hooks[name]) {\n      this.hooks[name] = []\n    }\n    this.hooks[name].push(callback)\n  }\n\n  // \u89E6\u53D1\u4E8B\u4EF6\n  call (name, ...args) {\n    const callbacks = this.hooks[name]\n    if (callbacks && callbacks.length) {\n      callbacks.forEach((callback) => callback(...args))\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"Tapable"})," \u7C7B\uFF0C\u5B83\u6709\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"hooks"})," \u5BF9\u8C61\u5C5E\u6027\uFF0C\u7528\u4E8E\u5B58\u50A8\u5404\u4E2A\u4E8B\u4EF6\u5BF9\u5E94\u7684\u76D1\u542C\u51FD\u6570\u3002\u7136\u540E\u6211\u4EEC\u5B9A\u4E49\u4E86 ",(0,l.jsx)(n.code,{children:"tap"})," \u65B9\u6CD5\uFF0C\u7528\u4E8E\u6CE8\u518C\u4E8B\u4EF6\u76D1\u542C\u51FD\u6570\uFF0C\u4EE5\u53CA ",(0,l.jsx)(n.code,{children:"call"})," \u65B9\u6CD5\uFF0C\u7528\u4E8E\u89E6\u53D1\u4E8B\u4EF6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u4F7F\u7528\u81EA\u5B9A\u4E49 Tapable \u7684\u4F8B\u5B50\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const tapable = new Tapable()\n\ntapable.tap('event1', (arg1, arg2) => {\n  console.log('event1 is triggered with arguments:', arg1, arg2)\n})\n\ntapable.tap('event2', (arg1, arg2) => {\n  console.log('event2 is triggered with arguments:', arg1, arg2)\n})\n\ntapable.call('event1', 'hello', 'world')\ntapable.call('event2', 'foo', 'bar')\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E24\u4E2A\u4E8B\u4EF6 ",(0,l.jsx)(n.code,{children:"event1"})," \u548C ",(0,l.jsx)(n.code,{children:"event2"}),"\uFF0C\u5E76\u4E3A\u5B83\u4EEC\u6CE8\u518C\u4E86\u76D1\u542C\u51FD\u6570\u3002\u5F53\u6211\u4EEC\u8C03\u7528 ",(0,l.jsx)(n.code,{children:"call"})," \u65B9\u6CD5\u89E6\u53D1\u4E8B\u4EF6\u65F6\uFF0C\u6CE8\u518C\u7684\u76D1\u542C\u51FD\u6570\u5C31\u4F1A\u4F9D\u6B21\u6267\u884C\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E2A\u81EA\u5B9A\u4E49 Tapable \u7684\u5B9E\u73B0\u867D\u7136\u7B80\u5355\uFF0C\u4F46\u5B83\u4F53\u73B0\u4E86 Tapable \u7684\u8BBE\u8BA1\u601D\u8DEF\u548C\u6838\u5FC3\u529F\u80FD\u3002\u5728\u5B9E\u9645\u4F7F\u7528\u4E2D\uFF0CWebpack \u7684 Tapable \u63D0\u4F9B\u4E86\u66F4\u591A\u7684\u529F\u80FD\u548C\u94A9\u5B50\uFF0C\u53EF\u4EE5\u6EE1\u8DB3\u4E0D\u540C\u573A\u666F\u7684\u9700\u6C42\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-bundler",children:"[webpack] module\u3001chunk \u3001bundle \u7684\u533A\u522B"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u4E0A\u56FE\uFF1A\n",(0,l.jsx)(n.img,{src:"https://user-images.githubusercontent.com/22188674/234582993-25c40cda-d3ee-4f96-b134-44a950aba11f.png",alt:"3 (1)"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u624B\u5199\u4E0B\u4E00\u4E2A\u4E00\u4E2A\u7684\u6587\u4EF6\uFF0C\u5B83\u4EEC\u65E0\u8BBA\u662F ",(0,l.jsx)(n.code,{children:"ESM"})," \u8FD8\u662F ",(0,l.jsx)(n.code,{children:"commonJS"})," \u6216\u662F ",(0,l.jsx)(n.code,{children:"AMD"}),"\uFF0C\u4ED6\u4EEC\u90FD\u662F ",(0,l.jsx)(n.code,{children:"module"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u5F53\u6211\u4EEC\u5199\u7684 ",(0,l.jsx)(n.code,{children:"module"})," \u6E90\u6587\u4EF6\u4F20\u5230 ",(0,l.jsx)(n.code,{children:"webpack"})," \u8FDB\u884C\u6253\u5305\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"webpack"})," \u4F1A\u6839\u636E\u6587\u4EF6\u5F15\u7528\u5173\u7CFB\u751F\u6210 ",(0,l.jsx)(n.code,{children:"chunk"})," \u6587\u4EF6\uFF0C",(0,l.jsx)(n.code,{children:"webpack"})," \u4F1A\u5BF9\u8FD9\u4E2A ",(0,l.jsx)(n.code,{children:"chunk"})," \u6587\u4EF6\u8FDB\u884C\u4E00\u4E9B\u64CD\u4F5C"]}),"\n",(0,l.jsx)(n.li,{children:"webpack \u5904\u7406\u597D chunk \u6587\u4EF6\u540E\uFF0C\u6700\u540E\u4F1A\u8F93\u51FA bundle \u6587\u4EF6\uFF0C\u8FD9\u4E2A bundle \u6587\u4EF6\u5305\u542B\u4E86\u7ECF\u8FC7\u52A0\u8F7D\u548C\u7F16\u8BD1\u7684\u6700\u7EC8\u6E90\u6587\u4EF6\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E00\u822C\u6765\u8BF4\u4E00\u4E2A chunk \u5BF9\u5E94\u4E00\u4E2A bundle\uFF0C\u6BD4\u5982\u4E0A\u56FE\u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"utils.js -> chunks 1 -> utils.bundle.js"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F46\u4E5F\u6709\u4F8B\u5916\uFF0C\u6BD4\u5982\u8BF4\u4E0A\u56FE\u4E2D\uFF0C\u6211\u5C31\u7528 ",(0,l.jsx)(n.code,{children:"MiniCssExtractPlugin"})," \u4ECE chunks 0 \u4E2D\u62BD\u79BB\u51FA\u4E86 ",(0,l.jsx)(n.code,{children:"index.bundle.css"})," \u6587\u4EF6"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u603B\u7ED3"}),"\uFF1A\nmodule\uFF0Cchunk \u548C bundle \u5176\u5B9E\u5C31\u662F\u540C\u4E00\u4EFD\u903B\u8F91\u4EE3\u7801\u5728\u4E0D\u540C\u8F6C\u6362\u573A\u666F\u4E0B\u7684\u53D6\u4E86\u4E09\u4E2A\u540D\u5B57\uFF1A\n\u6211\u4EEC\u76F4\u63A5\u5199\u51FA\u6765\u7684\u662F module\uFF0Cwebpack \u5904\u7406\u65F6\u662F chunk\uFF0C\u6700\u540E\u751F\u6210\u6D4F\u89C8\u5668\u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\u7684 bundle\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-bunlder-concept",children:"\u4E3A\u4EC0\u4E48\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u9700\u8981\u6253\u5305\u5DE5\u5177\u8FDB\u884C\u6253\u5305\u7F16\u8BD1\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u9700\u8981\u6253\u5305\u5DE5\u5177\u8FDB\u884C\u6253\u5305\u7F16\u8BD1\u7684\u4E3B\u8981\u539F\u56E0\u6709\u4EE5\u4E0B\u51E0\u70B9\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5757\u5316\u7BA1\u7406\uFF1A\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u901A\u5E38\u91C7\u7528\u6A21\u5757\u5316\u7684\u5F00\u53D1\u65B9\u5F0F\uFF0C\u5C06\u4EE3\u7801\u5212\u5206\u4E3A\u591A\u4E2A\u6A21\u5757\uFF0C\u6BCF\u4E2A\u6A21\u5757\u5177\u6709\u72EC\u7ACB\u7684\u529F\u80FD\u548C\u4F9D\u8D56\u5173\u7CFB\u3002\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u6A21\u5757\u8FDB\u884C\u5206\u6790\uFF0C\u5C06\u5B83\u4EEC\u6253\u5305\u6210\u4E00\u4E2A\u6216\u591A\u4E2A\u9759\u6001\u6587\u4EF6\uFF0C\u65B9\u4FBF\u7BA1\u7406\u548C\u7EF4\u62A4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u89E3\u51B3\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u95EE\u9898\uFF1A\u4E0D\u540C\u7684\u6D4F\u89C8\u5668\u5BF9\u4E8E JavaScript \u548C CSS \u7684\u652F\u6301\u7A0B\u5EA6\u4E0D\u540C\uFF0C\u800C\u4E14\u968F\u7740\u65B0\u7279\u6027\u7684\u4E0D\u65AD\u51FA\u73B0\uFF0C\u65E7\u7248\u6D4F\u89C8\u5668\u53EF\u80FD\u65E0\u6CD5\u5B8C\u5168\u652F\u6301\u3002\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u901A\u8FC7\u8F6C\u8BD1\u3001\u538B\u7F29\u548C\u517C\u5BB9\u6027\u5904\u7406\u7B49\u624B\u6BB5\uFF0C\u5C06\u5F53\u524D\u524D\u7AEF\u4EE3\u7801\u8F6C\u5316\u4E3A\u6D4F\u89C8\u5668\u53EF\u8BC6\u522B\u548C\u8FD0\u884C\u7684\u4EE3\u7801\uFF0C\u89E3\u51B3\u517C\u5BB9\u6027\u95EE\u9898\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u9759\u6001\u8D44\u6E90\u5904\u7406\u548C\u4F18\u5316\uFF1A\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u6D89\u53CA\u5927\u91CF\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u5982\u56FE\u7247\u3001\u5B57\u4F53\u7B49\u3002\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u5BF9\u8FD9\u4E9B\u8D44\u6E90\u8FDB\u884C\u5904\u7406\u548C\u4F18\u5316\uFF0C\u5982\u56FE\u7247\u538B\u7F29\u3001\u5B57\u4F53\u6587\u4EF6\u6253\u5305\u7B49\uFF0C\u4EE5\u51CF\u5C0F\u8D44\u6E90\u6587\u4EF6\u7684\u4F53\u79EF\uFF0C\u63D0\u9AD8\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\u548C\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u5206\u5272\u548C\u6309\u9700\u52A0\u8F7D\uFF1A\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u5C06\u5E94\u7528\u7A0B\u5E8F\u62C6\u5206\u6210\u591A\u4E2A\u5C0F\u5757\uFF0C\u5B9E\u73B0\u4EE3\u7801\u5206\u5272\u548C\u6309\u9700\u52A0\u8F7D\u3002\u8FD9\u6837\u53EF\u4EE5\u5B9E\u73B0\u61D2\u52A0\u8F7D\uFF0C\u53EA\u5728\u9700\u8981\u65F6\u52A0\u8F7D\u7279\u5B9A\u7684\u4EE3\u7801\u5757\uFF0C\u63D0\u9AD8\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F00\u53D1\u73AF\u5883\u652F\u6301\uFF1A\u6253\u5305\u5DE5\u5177\u901A\u5E38\u63D0\u4F9B\u5F00\u53D1\u670D\u52A1\u5668\u548C\u70ED\u6A21\u5757\u66FF\u6362\uFF08HMR\uFF09\u7B49\u529F\u80FD\uFF0C\u65B9\u4FBF\u5F00\u53D1\u4EBA\u5458\u8FDB\u884C\u5F00\u53D1\u548C\u8C03\u8BD5\u3002\u5F00\u53D1\u670D\u52A1\u5668\u53EF\u4EE5\u5B9E\u65F6\u9884\u89C8\u4EE3\u7801\u53D8\u5316\uFF0CHMR \u53EF\u4EE5\u5728\u4FEE\u6539\u4EE3\u7801\u540E\u53EA\u66FF\u6362\u4FEE\u6539\u7684\u90E8\u5206\uFF0C\u800C\u4E0D\u662F\u6574\u4E2A\u9875\u9762\u5237\u65B0\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D0\u5347\u6027\u80FD\uFF1A\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u901A\u8FC7\u4EE3\u7801\u4F18\u5316\u3001\u538B\u7F29\u548C\u6DF7\u6DC6\u7B49\u6280\u672F\u624B\u6BB5\uFF0C\u51CF\u5C0F\u6587\u4EF6\u4F53\u79EF\uFF0C\u63D0\u5347\u5E94\u7528\u7A0B\u5E8F\u7684\u52A0\u8F7D\u901F\u5EA6\u548C\u6267\u884C\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u652F\u6301\u591A\u79CD\u524D\u7AEF\u6280\u672F\uFF1A\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u901A\u5E38\u4F7F\u7528\u591A\u79CD\u524D\u7AEF\u6280\u672F\u548C\u8BED\u8A00\uFF0C\u5982JavaScript\u3001CSS\u3001TypeScript\u3001Sass\u7B49\u3002\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u96C6\u6210\u8FD9\u4E9B\u6280\u672F\uFF0C\u5E76\u63D0\u4F9B\u76F8\u5E94\u7684\u7F16\u8BD1\u3001\u8F6C\u8BD1\u548C\u5904\u7406\u529F\u80FD\uFF0C\u4F7F\u5F00\u53D1\u4EBA\u5458\u80FD\u591F\u66F4\u8F7B\u677E\u5730\u4F7F\u7528\u8FD9\u4E9B\u6280\u672F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u81EA\u52A8\u5316\u5DE5\u4F5C\u6D41\u7A0B\uFF1A\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u914D\u5408\u5176\u4ED6\u6784\u5EFA\u5DE5\u5177\u548C\u81EA\u52A8\u5316\u4EFB\u52A1\u8FD0\u884C\u5668\uFF0C\u5982Webpack\u914D\u5408Grunt\u6216Gulp\uFF0C\u5B9E\u73B0\u81EA\u52A8\u5316\u7684\u6784\u5EFA\u548C\u90E8\u7F72\u6D41\u7A0B\u3002\u8FD9\u53EF\u4EE5\u51CF\u5C11\u624B\u52A8\u64CD\u4F5C\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u548C\u4EE3\u7801\u8D28\u91CF\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7B2C\u4E09\u65B9\u5E93\u7BA1\u7406\uFF1A\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u901A\u5E38\u4F7F\u7528\u5927\u91CF\u7684\u7B2C\u4E09\u65B9\u5E93\u548C\u6846\u67B6\uFF0C\u8FD9\u4E9B\u5E93\u53EF\u80FD\u5305\u542B\u591A\u4E2A\u6587\u4EF6\u548C\u4F9D\u8D56\u5173\u7CFB\u3002\u6253\u5305\u5DE5\u5177\u53EF\u4EE5\u81EA\u52A8\u7BA1\u7406\u8FD9\u4E9B\u5E93\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5E76\u5C06\u5B83\u4EEC\u6253\u5305\u4E3A\u5355\u4E2A\u6587\u4EF6\uFF0C\u51CF\u5C11\u7F51\u7EDC\u8BF7\u6C42\u548C\u63D0\u9AD8\u4EE3\u7801\u7684\u53EF\u7EF4\u62A4\u6027\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u9AD8\u5EA6\u53EF\u5B9A\u5236\u5316\uFF1A\u6253\u5305\u5DE5\u5177\u901A\u5E38\u63D0\u4F9B\u4E30\u5BCC\u7684\u63D2\u4EF6\u548C\u914D\u7F6E\u9009\u9879\uFF0C\u5141\u8BB8\u5F00\u53D1\u4EBA\u5458\u6839\u636E\u9879\u76EE\u9700\u6C42\u8FDB\u884C\u5B9A\u5236\u3002\u53EF\u4EE5\u7075\u6D3B\u914D\u7F6E\u6253\u5305\u8FC7\u7A0B\u4E2D\u7684\u5404\u79CD\u5904\u7406\u548C\u4F18\u5316\u65B9\u5F0F\uFF0C\u4EE5\u6EE1\u8DB3\u9879\u76EE\u7684\u5177\u4F53\u9700\u6C42\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u603B\u7ED3 - \u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\u9700\u8981\u6253\u5305\u5DE5\u5177\u8FDB\u884C\u6253\u5305\u7F16\u8BD1\u7684\u539F\u56E0\u662F\u4E3A\u4E86\uFF1A ",(0,l.jsx)(n.strong,{children:"\u5B9E\u73B0\u6A21\u5757\u5316\u7BA1\u7406\u3001\u89E3\u51B3\u517C\u5BB9\u6027\u95EE\u9898\u3001\u9759\u6001\u8D44\u6E90\u5904\u7406\u548C\u4F18\u5316\u3001\u4EE3\u7801\u5206\u5272\u548C\u6309\u9700\u52A0\u8F7D\u3001\u5F00\u53D1\u73AF\u5883\u652F\u6301\u3001\u6027\u80FD\u63D0\u5347\u3001\u591A\u6280\u672F\u652F\u6301\u3001\u81EA\u52A8\u5316\u5DE5\u4F5C\u6D41\u7A0B\u3001\u7B2C\u4E09\u65B9\u5E93\u7BA1\u7406\u548C\u53EF\u5B9A\u5236\u5316\u7B49\u65B9\u9762\u7684\u9700\u6C42"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"webpack"})," \u7684\u8FD0\u884C\u6D41\u7A0B\u662F\u4E00\u4E2A\u4E32\u884C\u7684\u8FC7\u7A0B\uFF0C\u5B83\u7684\u5DE5\u4F5C\u6D41\u7A0B\u5C31\u662F\u5C06\u5404\u4E2A\u63D2\u4EF6\u4E32\u8054\u8D77\u6765"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD0\u884C\u8FC7\u7A0B\u4E2D\u4F1A\u5E7F\u64AD\u4E8B\u4EF6\uFF0C\u63D2\u4EF6\u53EA\u9700\u8981\u76D1\u542C\u5B83\u6240\u5173\u5FC3\u7684\u4E8B\u4EF6\uFF0C\u5C31\u80FD\u52A0\u5165\u5230\u8FD9\u6761",(0,l.jsx)(n.code,{children:"webpack"}),"\u673A\u5236\u4E2D\uFF0C\u53BB\u6539\u53D8",(0,l.jsx)(n.code,{children:"webpack"}),"\u7684\u8FD0\u4F5C\uFF0C\u4F7F\u5F97\u6574\u4E2A\u7CFB\u7EDF\u6269\u5C55\u6027\u826F\u597D"]}),"\n",(0,l.jsx)(n.p,{children:"\u4ECE\u542F\u52A8\u5230\u7ED3\u675F\u4F1A\u4F9D\u6B21\u6267\u884C\u4EE5\u4E0B\u4E09\u5927\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u521D\u59CB\u5316\u6D41\u7A0B\uFF1A\u4ECE\u914D\u7F6E\u6587\u4EF6\u548C ",(0,l.jsx)(n.code,{children:"Shell"})," \u8BED\u53E5\u4E2D\u8BFB\u53D6\u4E0E\u5408\u5E76\u53C2\u6570\uFF0C\u5E76\u521D\u59CB\u5316\u9700\u8981\u4F7F\u7528\u7684\u63D2\u4EF6\u548C\u914D\u7F6E\u63D2\u4EF6\u7B49\u6267\u884C\u73AF\u5883\u6240\u9700\u8981\u7684\u53C2\u6570"]}),"\n",(0,l.jsx)(n.li,{children:"\u7F16\u8BD1\u6784\u5EFA\u6D41\u7A0B\uFF1A\u4ECE Entry \u53D1\u51FA\uFF0C\u9488\u5BF9\u6BCF\u4E2A Module \u4E32\u884C\u8C03\u7528\u5BF9\u5E94\u7684 Loader \u53BB\u7FFB\u8BD1\u6587\u4EF6\u5185\u5BB9\uFF0C\u518D\u627E\u5230\u8BE5 Module \u4F9D\u8D56\u7684 Module\uFF0C\u9012\u5F52\u5730\u8FDB\u884C\u7F16\u8BD1\u5904\u7406"}),"\n",(0,l.jsx)(n.li,{children:"\u8F93\u51FA\u6D41\u7A0B\uFF1A\u5BF9\u7F16\u8BD1\u540E\u7684 Module \u7EC4\u5408\u6210 Chunk\uFF0C\u628A Chunk \u8F6C\u6362\u6210\u6587\u4EF6\uFF0C\u8F93\u51FA\u5230\u6587\u4EF6\u7CFB\u7EDF"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u521D\u59CB\u5316\u6D41\u7A0B"}),"\n",(0,l.jsxs)(n.p,{children:["\u4ECE\u914D\u7F6E\u6587\u4EF6\u548C ",(0,l.jsx)(n.code,{children:"Shell"})," \u8BED\u53E5\u4E2D\u8BFB\u53D6\u4E0E\u5408\u5E76\u53C2\u6570\uFF0C\u5F97\u51FA\u6700\u7EC8\u7684\u53C2\u6570"]}),"\n",(0,l.jsxs)(n.p,{children:["\u914D\u7F6E\u6587\u4EF6\u9ED8\u8BA4\u4E0B\u4E3A",(0,l.jsx)(n.code,{children:"webpack.config.js"}),"\uFF0C\u4E5F\u6216\u8005\u901A\u8FC7\u547D\u4EE4\u7684\u5F62\u5F0F\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E3B\u8981\u4F5C\u7528\u662F\u7528\u4E8E\u6FC0\u6D3B",(0,l.jsx)(n.code,{children:"webpack"}),"\u7684\u52A0\u8F7D\u9879\u548C\u63D2\u4EF6"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"webpack"})," \u5C06 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u4E2D\u7684\u5404\u4E2A\u914D\u7F6E\u9879\u62F7\u8D1D\u5230 ",(0,l.jsx)(n.code,{children:"options"})," \u5BF9\u8C61\u4E2D\uFF0C\u5E76\u52A0\u8F7D\u7528\u6237\u914D\u7F6E\u7684 ",(0,l.jsx)(n.code,{children:"plugins"}),"\n\u5B8C\u6210\u4E0A\u8FF0\u6B65\u9AA4\u4E4B\u540E\uFF0C\u5219\u5F00\u59CB\u521D\u59CB\u5316",(0,l.jsx)(n.code,{children:"Compiler"}),"\u7F16\u8BD1\u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u638C\u63A7\u8005",(0,l.jsx)(n.code,{children:"webpack"}),"\u58F0\u660E\u5468\u671F\uFF0C\u4E0D\u6267\u884C\u5177\u4F53\u7684\u4EFB\u52A1\uFF0C\u53EA\u662F\u8FDB\u884C\u4E00\u4E9B\u8C03\u5EA6\u5DE5\u4F5C"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'class Compiler extends Tapable {\n constructor(context) {\n super();\n this.hooks = {\n beforeCompile: new AsyncSeriesHook(["params"]),\n compile: new SyncHook(["params"]),\n afterCompile: new AsyncSeriesHook(["compilation"]),\n make: new AsyncParallelHook(["compilation"]),\n entryOption: new SyncBailHook(["context", "entry"])\n // \u5B9A\u4E49\u4E86\u5F88\u591A\u4E0D\u540C\u7C7B\u578B\u7684\u94A9\u5B50\n };\n // ...\n }\n}\n\nfunction webpack(options) {\n var compiler = new Compiler();\n ...// \u68C0\u67E5options,\u82E5watch\u5B57\u6BB5\u4E3Atrue,\u5219\u5F00\u542Fwatch\u7EBF\u7A0B\n return compiler;\n}\n...\n\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Compiler"})," \u5BF9\u8C61\u7EE7\u627F\u81EA ",(0,l.jsx)(n.code,{children:"Tapable"}),"\uFF0C\u521D\u59CB\u5316\u65F6\u5B9A\u4E49\u4E86\u5F88\u591A\u94A9\u5B50\u51FD\u6570"]}),"\n",(0,l.jsx)(n.p,{children:"\u7F16\u8BD1\u6784\u5EFA\u6D41\u7A0B"}),"\n",(0,l.jsxs)(n.p,{children:["\u6839\u636E\u914D\u7F6E\u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"entry"})," \u627E\u51FA\u6240\u6709\u7684\u5165\u53E3\u6587\u4EF6"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  entry: './src/file.js'\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u521D\u59CB\u5316\u5B8C\u6210\u540E\u4F1A\u8C03\u7528",(0,l.jsx)(n.code,{children:"Compiler"}),"\u7684",(0,l.jsx)(n.code,{children:"run"}),"\u6765\u771F\u6B63\u542F\u52A8",(0,l.jsx)(n.code,{children:"webpack"}),"\u7F16\u8BD1\u6784\u5EFA\u6D41\u7A0B\uFF0C\u4E3B\u8981\u6D41\u7A0B\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"compile"})," \u5F00\u59CB\u7F16\u8BD1"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"make"})," \u4ECE\u5165\u53E3\u70B9\u5206\u6790\u6A21\u5757\u53CA\u5176\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u521B\u5EFA\u8FD9\u4E9B\u6A21\u5757\u5BF9\u8C61"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"build-module"})," \u6784\u5EFA\u6A21\u5757"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"seal"})," \u5C01\u88C5\u6784\u5EFA\u7ED3\u679C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"emit"})," \u628A\u5404\u4E2Achunk\u8F93\u51FA\u5230\u7ED3\u679C\u6587\u4EF6"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"compile \u7F16\u8BD1"}),"\n",(0,l.jsxs)(n.p,{children:["\u6267\u884C\u4E86",(0,l.jsx)(n.code,{children:"run"}),"\u65B9\u6CD5\u540E\uFF0C\u9996\u5148\u4F1A\u89E6\u53D1",(0,l.jsx)(n.code,{children:"compile"}),"\uFF0C\u4E3B\u8981\u662F\u6784\u5EFA\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"Compilation"}),"\u5BF9\u8C61"]}),"\n",(0,l.jsx)(n.p,{children:"\u8BE5\u5BF9\u8C61\u662F\u7F16\u8BD1\u9636\u6BB5\u7684\u4E3B\u8981\u6267\u884C\u8005\uFF0C\u4E3B\u8981\u4F1A\u4F9D\u6B21\u4E0B\u8FF0\u6D41\u7A0B\uFF1A\u6267\u884C\u6A21\u5757\u521B\u5EFA\u3001\u4F9D\u8D56\u6536\u96C6\u3001\u5206\u5757\u3001\u6253\u5305\u7B49\u4E3B\u8981\u4EFB\u52A1\u7684\u5BF9\u8C61"}),"\n",(0,l.jsx)(n.p,{children:"make \u7F16\u8BD1\u6A21\u5757"}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u5B8C\u6210\u4E86\u4E0A\u8FF0\u7684",(0,l.jsx)(n.code,{children:"compilation"}),"\u5BF9\u8C61\u540E\uFF0C\u5C31\u5F00\u59CB\u4ECE",(0,l.jsx)(n.code,{children:"Entry"}),"\u5165\u53E3\u6587\u4EF6\u5F00\u59CB\u8BFB\u53D6\uFF0C\u4E3B\u8981\u6267\u884C",(0,l.jsx)(n.code,{children:"_addModuleChain()"}),"\u51FD\u6570\uFF0C\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"_addModuleChain(context, dependency, onModule, callback) {\n ...\n // \u6839\u636E\u4F9D\u8D56\u67E5\u627E\u5BF9\u5E94\u7684\u5DE5\u5382\u51FD\u6570\n const Dep = // @type {DepConstructor} */ (dependency.constructor);\n const moduleFactory = this.dependencyFactories.get(Dep);\n\n // \u8C03\u7528\u5DE5\u5382\u51FD\u6570NormalModuleFactory\u7684create\u6765\u751F\u6210\u4E00\u4E2A\u7A7A\u7684NormalModule\u5BF9\u8C61\n moduleFactory.create({\n dependencies: [dependency]\n ...\n }, (err, module) => {\n ...\n const afterBuild = () => {\n this.processModuleDependencies(module, err => {\n if (err) return callback(err);\n callback(null, module);\n });\n };\n\n this.buildModule(module, false, null, null, err => {\n ...\n afterBuild();\n })\n })\n}\n\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FC7\u7A0B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"_addModuleChain"}),"\u4E2D\u63A5\u6536\u53C2\u6570",(0,l.jsx)(n.code,{children:"dependency"}),"\u4F20\u5165\u7684\u5165\u53E3\u4F9D\u8D56\uFF0C\u4F7F\u7528\u5BF9\u5E94\u7684\u5DE5\u5382\u51FD\u6570",(0,l.jsx)(n.code,{children:"NormalModuleFactory.create"}),"\u65B9\u6CD5\u751F\u6210\u4E00\u4E2A\u7A7A\u7684",(0,l.jsx)(n.code,{children:"module"}),"\u5BF9\u8C61"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56DE\u8C03\u4E2D\u4F1A\u628A\u6B64",(0,l.jsx)(n.code,{children:"module"}),"\u5B58\u5165",(0,l.jsx)(n.code,{children:"compilation.modules"}),"\u5BF9\u8C61\u548C",(0,l.jsx)(n.code,{children:"dependencies.module"}),"\u5BF9\u8C61\u4E2D\uFF0C\u7531\u4E8E\u662F\u5165\u53E3\u6587\u4EF6\uFF0C\u4E5F\u4F1A\u5B58\u5165",(0,l.jsx)(n.code,{children:"compilation.entries"}),"\u4E2D"]}),"\n",(0,l.jsxs)(n.p,{children:["\u968F\u540E\u6267\u884C",(0,l.jsx)(n.code,{children:"buildModule"}),"\u8FDB\u5165\u771F\u6B63\u7684\u6784\u5EFA\u6A21\u5757",(0,l.jsx)(n.code,{children:"module"}),"\u5185\u5BB9\u7684\u8FC7\u7A0B"]}),"\n",(0,l.jsx)(n.p,{children:"build module \u5B8C\u6210\u6A21\u5757\u7F16\u8BD1"}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u91CC\u4E3B\u8981\u8C03\u7528\u914D\u7F6E\u7684",(0,l.jsx)(n.code,{children:"loaders"}),"\uFF0C\u5C06\u6211\u4EEC\u7684\u6A21\u5757\u8F6C\u6210\u6807\u51C6\u7684",(0,l.jsx)(n.code,{children:"JS"}),"\u6A21\u5757"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u7528",(0,l.jsx)(n.code,{children:"Loader"})," \u5BF9\u4E00\u4E2A\u6A21\u5757\u8F6C\u6362\u5B8C\u540E\uFF0C\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"acorn"})," \u89E3\u6790\u8F6C\u6362\u540E\u7684\u5185\u5BB9\uFF0C\u8F93\u51FA\u5BF9\u5E94\u7684\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08",(0,l.jsx)(n.code,{children:"AST"}),"\uFF09\uFF0C\u4EE5\u65B9\u4FBF ",(0,l.jsx)(n.code,{children:"Webpack"}),"\u540E\u9762\u5BF9\u4EE3\u7801\u7684\u5206\u6790"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4ECE\u914D\u7F6E\u7684\u5165\u53E3\u6A21\u5757\u5F00\u59CB\uFF0C\u5206\u6790\u5176 ",(0,l.jsx)(n.code,{children:"AST"}),"\uFF0C\u5F53\u9047\u5230",(0,l.jsx)(n.code,{children:"require"}),"\u7B49\u5BFC\u5165\u5176\u5B83\u6A21\u5757\u8BED\u53E5\u65F6\uFF0C\u4FBF\u5C06\u5176\u52A0\u5165\u5230\u4F9D\u8D56\u7684\u6A21\u5757\u5217\u8868\uFF0C\u540C\u65F6\u5BF9\u65B0\u627E\u51FA\u7684\u4F9D\u8D56\u6A21\u5757\u9012\u5F52\u5206\u6790\uFF0C\u6700\u7EC8\u641E\u6E05\u6240\u6709\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB"]}),"\n",(0,l.jsx)(n.p,{children:"\u8F93\u51FA\u6D41\u7A0B"}),"\n",(0,l.jsx)(n.p,{children:"seal \u8F93\u51FA\u8D44\u6E90"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"seal"}),"\u65B9\u6CD5\u4E3B\u8981\u662F\u8981\u751F\u6210",(0,l.jsx)(n.code,{children:"chunks"}),"\uFF0C\u5BF9",(0,l.jsx)(n.code,{children:"chunks"}),"\u8FDB\u884C\u4E00\u7CFB\u5217\u7684\u4F18\u5316\u64CD\u4F5C\uFF0C\u5E76\u751F\u6210\u8981\u8F93\u51FA\u7684\u4EE3\u7801"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"webpack"})," \u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"chunk"})," \uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u914D\u7F6E\u5728 ",(0,l.jsx)(n.code,{children:"entry"})," \u4E2D\u7684\u6A21\u5757\uFF0C\u6216\u8005\u662F\u52A8\u6001\u5F15\u5165\u7684\u6A21\u5757"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6839\u636E\u5165\u53E3\u548C\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u7EC4\u88C5\u6210\u4E00\u4E2A\u4E2A\u5305\u542B\u591A\u4E2A\u6A21\u5757\u7684 ",(0,l.jsx)(n.code,{children:"Chunk"}),"\uFF0C\u518D\u628A\u6BCF\u4E2A ",(0,l.jsx)(n.code,{children:"Chunk"})," \u8F6C\u6362\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u52A0\u5165\u5230\u8F93\u51FA\u5217\u8868"]}),"\n",(0,l.jsx)(n.p,{children:"emit \u8F93\u51FA\u5B8C\u6210"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u786E\u5B9A\u597D\u8F93\u51FA\u5185\u5BB9\u540E\uFF0C\u6839\u636E\u914D\u7F6E\u786E\u5B9A\u8F93\u51FA\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = {\n  // ...\n  output: {\n    path: path.resolve(__dirname, 'build'),\n    filename: '[name].js'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 ",(0,l.jsx)(n.code,{children:"Compiler"})," \u5F00\u59CB\u751F\u6210\u6587\u4EF6\u524D\uFF0C\u94A9\u5B50 ",(0,l.jsx)(n.code,{children:"emit"})," \u4F1A\u88AB\u6267\u884C\uFF0C\u8FD9\u662F\u6211\u4EEC\u4FEE\u6539\u6700\u7EC8\u6587\u4EF6\u7684\u6700\u540E\u4E00\u4E2A\u673A\u4F1A"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4ECE\u800C",(0,l.jsx)(n.code,{children:"webpack"}),"\u6574\u4E2A\u6253\u5305\u8FC7\u7A0B\u5219\u7ED3\u675F\u4E86"]}),"\n",(0,l.jsx)(n.p,{children:"\u5C0F\u7ED3"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://foruda.gitee.com/images/1681308948652266689/0b4f6e27_7819612.png",alt:""})}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-design",children:"\u8BB2\u4E00\u4E0BWebpack\u8BBE\u8BA1\u7406\u5FF5"}),"\n",(0,l.jsxs)(n.p,{children:["\u53C2\u8003\u6587\u6863\uFF1A ",(0,l.jsx)(n.a,{href:"https://juejin.cn/post/7170852747749621791",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-principle",children:"webpack \u539F\u7406"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5173\u952E\u8BCD"}),"\uFF1Awebpack \u4F5C\u7528\u3001webpack \u6982\u5FF5"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u662F\u4E00\u4E2A\u73B0\u4EE3\u7684JavaScript\u6A21\u5757\u6253\u5305\u5DE5\u5177\uFF0C\u5B83\u7684\u6838\u5FC3\u6982\u5FF5\u5305\u62EC\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u9762\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5165\u53E3\uFF08Entry\uFF09\uFF1A\u6307\u5B9AWebpack\u5F00\u59CB\u6784\u5EFA\u4F9D\u8D56\u56FE\u8C31\u7684\u8D77\u70B9\u3002\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684entry\u5C5E\u6027\u6765\u6307\u5B9A\u5165\u53E3\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u591A\u4E2A\u5165\u53E3\u6587\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8F93\u51FA\uFF08Output\uFF09\uFF1A\u6307\u5B9AWebpack\u6253\u5305\u540E\u7684\u6587\u4EF6\u8F93\u51FA\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\u3002\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684output\u5C5E\u6027\u6765\u5B9A\u4E49\u8F93\u51FA\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\u7684\u89C4\u5219\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u52A0\u8F7D\u5668\uFF08Loader\uFF09\uFF1AWebpack\u672C\u8EAB\u53EA\u80FD\u5904\u7406JavaScript\u6587\u4EF6\uFF0C\u901A\u8FC7\u52A0\u8F7D\u5668\uFF0CWebpack\u53EF\u4EE5\u5904\u7406\u5176\u4ED6\u7C7B\u578B\u7684\u6587\u4EF6\uFF0C\u5982CSS\u3001\u56FE\u7247\u3001\u5B57\u4F53\u7B49\u3002\u52A0\u8F7D\u5668\u4F1A\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u5BF9\u6587\u4EF6\u8FDB\u884C\u8F6C\u6362\u548C\u5904\u7406\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u4EF6\uFF08Plugin\uFF09\uFF1A\u63D2\u4EF6\u662FWebpack\u7684\u6838\u5FC3\u529F\u80FD\u6269\u5C55\u673A\u5236\uFF0C\u53EF\u4EE5\u7528\u4E8E\u89E3\u51B3\u5F88\u591A\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u7684\u590D\u6742\u95EE\u9898\u6216\u5B9E\u73B0\u7279\u5B9A\u7684\u9700\u6C42\u3002\u63D2\u4EF6\u53EF\u4EE5\u7528\u4E8E\u4F18\u5316\u6253\u5305\u7ED3\u679C\u3001\u81EA\u52A8\u751F\u6210HTML\u6587\u4EF6\u3001\u63D0\u53D6CSS\u6587\u4EF6\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5F0F\uFF08Mode\uFF09\uFF1AWebpack\u63D0\u4F9B\u4E86\u4E24\u79CD\u6A21\u5F0F\uFF0C\u5206\u522B\u662F\u5F00\u53D1\u6A21\u5F0F\uFF08development\uFF09\u548C\u751F\u4EA7\u6A21\u5F0F\uFF08production\uFF09\u3002\u5F00\u53D1\u6A21\u5F0F\u4F1A\u542F\u7528\u4E00\u4E9B\u6709\u52A9\u4E8E\u5F00\u53D1\u8C03\u8BD5\u7684\u529F\u80FD\uFF0C\u800C\u751F\u4EA7\u6A21\u5F0F\u5219\u4F1A\u542F\u7528\u4EE3\u7801\u538B\u7F29\u3001\u4F18\u5316\u7B49\u529F\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u5206\u5272\uFF08Code Splitting\uFF09\uFF1AWebpack\u652F\u6301\u5C06\u4EE3\u7801\u5206\u5272\u6210\u591A\u4E2A\u5757\uFF0C\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u548C\u63D0\u9AD8\u5E94\u7528\u6027\u80FD\u3002\u53EF\u4EE5\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u3001SplitChunks\u63D2\u4EF6\u7B49\u65B9\u5F0F\u8FDB\u884C\u4EE3\u7801\u5206\u5272\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u89E3\u6790\uFF08Resolve\uFF09\uFF1AWebpack\u4F1A\u89E3\u6790\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u901A\u8FC7\u89E3\u6790\u89C4\u5219\u6765\u786E\u5B9A\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB\u3002\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6Eresolve\u5C5E\u6027\u6765\u8BBE\u7F6E\u6A21\u5757\u7684\u89E3\u6790\u89C4\u5219\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4E3A\u4EC0\u4E48\u9009\u62E9 webpack"})}),"\n",(0,l.jsx)(n.p,{children:"\u60F3\u8981\u7406\u89E3\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528 webpack\uFF0C\u6211\u4EEC\u5148\u56DE\u987E\u4E0B\u5386\u53F2\uFF0C\u5728\u6253\u5305\u5DE5\u5177\u51FA\u73B0\u4E4B\u524D\uFF0C\u6211\u4EEC\u662F\u5982\u4F55\u5728 web \u4E2D\u4F7F\u7528 JavaScript \u7684\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C JavaScript \u6709\u4E24\u79CD\u65B9\u6CD5\u3002\u7B2C\u4E00\u79CD\u65B9\u5F0F\uFF0C\u5F15\u7528\u4E00\u4E9B\u811A\u672C\u6765\u5B58\u653E\u6BCF\u4E2A\u529F\u80FD\uFF1B\u6B64\u89E3\u51B3\u65B9\u6848\u5F88\u96BE\u6269\u5C55\uFF0C\u56E0\u4E3A\u52A0\u8F7D\u592A\u591A\u811A\u672C\u4F1A\u5BFC\u81F4\u7F51\u7EDC\u74F6\u9888\u3002\u7B2C\u4E8C\u79CD\u65B9\u5F0F\uFF0C\u4F7F\u7528\u4E00\u4E2A\u5305\u542B\u6240\u6709\u9879\u76EE\u4EE3\u7801\u7684\u5927\u578B .js \u6587\u4EF6\uFF0C\u4F46\u662F\u8FD9\u4F1A\u5BFC\u81F4\u4F5C\u7528\u57DF\u3001\u6587\u4EF6\u5927\u5C0F\u3001\u53EF\u8BFB\u6027\u548C\u53EF\u7EF4\u62A4\u6027\u65B9\u9762\u7684\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u7ACB\u5373\u8C03\u7528\u51FD\u6570\u8868\u8FBE\u5F0F(IIFE) - Immediately invoked function expressions"})}),"\n",(0,l.jsx)(n.p,{children:"IIFE \u89E3\u51B3\u5927\u578B\u9879\u76EE\u7684\u4F5C\u7528\u57DF\u95EE\u9898\uFF1B\u5F53\u811A\u672C\u6587\u4EF6\u88AB\u5C01\u88C5\u5728 IIFE \u5185\u90E8\u65F6\uFF0C\u4F60\u53EF\u4EE5\u5B89\u5168\u5730\u62FC\u63A5\u6216\u5B89\u5168\u5730\u7EC4\u5408\u6240\u6709\u6587\u4EF6\uFF0C\u800C\u4E0D\u5FC5\u62C5\u5FC3\u4F5C\u7528\u57DF\u51B2\u7A81\u3002"}),"\n",(0,l.jsx)(n.p,{children:"IIFE \u4F7F\u7528\u65B9\u5F0F\u4EA7\u751F\u51FA Make, Gulp, Grunt, Broccoli \u6216 Brunch \u7B49\u5DE5\u5177\u3002\u8FD9\u4E9B\u5DE5\u5177\u79F0\u4E3A\u4EFB\u52A1\u6267\u884C\u5668\uFF0C\u5B83\u4EEC\u5C06\u6240\u6709\u9879\u76EE\u6587\u4EF6\u62FC\u63A5\u5728\u4E00\u8D77\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4F46\u662F\uFF0C\u4FEE\u6539\u4E00\u4E2A\u6587\u4EF6\u610F\u5473\u7740\u5FC5\u987B\u91CD\u65B0\u6784\u5EFA\u6574\u4E2A\u6587\u4EF6\u3002\u62FC\u63A5\u53EF\u4EE5\u505A\u5230\u5F88\u5BB9\u6613\u5730\u8DE8\u6587\u4EF6\u91CD\u7528\u811A\u672C\uFF0C\u4F46\u662F\u5374\u4F7F\u6784\u5EFA\u7ED3\u679C\u7684\u4F18\u5316\u53D8\u5F97\u66F4\u52A0\u56F0\u96BE\u3002\u5982\u4F55\u5224\u65AD\u4EE3\u7801\u662F\u5426\u5B9E\u9645\u88AB\u4F7F\u7528\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u5373\u4F7F\u4F60\u53EA\u7528\u5230 lodash \u4E2D\u7684\u67D0\u4E2A\u51FD\u6570\uFF0C\u4E5F\u5FC5\u987B\u5728\u6784\u5EFA\u7ED3\u679C\u4E2D\u52A0\u5165\u6574\u4E2A\u5E93\uFF0C\u7136\u540E\u5C06\u5B83\u4EEC\u538B\u7F29\u5728\u4E00\u8D77\u3002\u5982\u4F55 treeshake \u4EE3\u7801\u4F9D\u8D56\uFF1F\u96BE\u4EE5\u5927\u89C4\u6A21\u5730\u5B9E\u73B0\u5EF6\u8FDF\u52A0\u8F7D\u4EE3\u7801\u5757\uFF0C\u8FD9\u9700\u8981\u5F00\u53D1\u4EBA\u5458\u624B\u52A8\u5730\u8FDB\u884C\u5927\u91CF\u5DE5\u4F5C\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u611F\u8C22 Node.js\uFF0CJavaScript \u6A21\u5757\u8BDE\u751F\u4E86"})}),"\n",(0,l.jsx)(n.p,{children:"Node.js \u662F\u4E00\u4E2A JavaScript \u8FD0\u884C\u65F6\uFF0C\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E4B\u5916\u7684\u8BA1\u7B97\u673A\u548C\u670D\u52A1\u5668\u4E2D\u4F7F\u7528\u3002webpack \u8FD0\u884C\u5728 Node.js \u4E2D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5F53 Node.js \u53D1\u5E03\u65F6\uFF0C\u4E00\u4E2A\u65B0\u7684\u65F6\u4EE3\u5F00\u59CB\u4E86\uFF0C\u5B83\u5E26\u6765\u4E86\u65B0\u7684\u6311\u6218\u3002\u65E2\u7136\u4E0D\u662F\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C JavaScript\uFF0C\u73B0\u5728\u5DF2\u7ECF\u6CA1\u6709\u4E86\u53EF\u4EE5\u6DFB\u52A0\u5230\u6D4F\u89C8\u5668\u4E2D\u7684 html \u6587\u4EF6\u548C script \u6807\u7B7E\u3002\u90A3\u4E48 Node.js \u5E94\u7528\u7A0B\u5E8F\u8981\u5982\u4F55\u52A0\u8F7D\u65B0\u7684\u4EE3\u7801 chunk \u5462\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"CommonJS \u95EE\u4E16\u5E76\u5F15\u5165\u4E86 require \u673A\u5236\uFF0C\u5B83\u5141\u8BB8\u4F60\u5728\u5F53\u524D\u6587\u4EF6\u4E2D\u52A0\u8F7D\u548C\u4F7F\u7528\u67D0\u4E2A\u6A21\u5757\u3002\u5BFC\u5165\u9700\u8981\u7684\u6BCF\u4E2A\u6A21\u5757\uFF0C\u8FD9\u4E00\u5F00\u7BB1\u5373\u7528\u7684\u529F\u80FD\uFF0C\u5E2E\u52A9\u6211\u4EEC\u89E3\u51B3\u4E86\u4F5C\u7528\u57DF\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(n.p,{children:"npm + Node.js + modules - \u5927\u89C4\u6A21\u5206\u53D1\u6A21\u5757\nJavaScript \u5DF2\u7ECF\u6210\u4E3A\u4E00\u79CD\u8BED\u8A00\u3001\u4E00\u4E2A\u5E73\u53F0\u548C\u4E00\u79CD\u5FEB\u901F\u5F00\u53D1\u548C\u521B\u5EFA\u5FEB\u901F\u5E94\u7528\u7A0B\u5E8F\u7684\u65B9\u5F0F\uFF0C\u63A5\u7BA1\u4E86\u6574\u4E2A JavaScript \u4E16\u754C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4F46 CommonJS \u6CA1\u6709\u6D4F\u89C8\u5668\u652F\u6301\u3002\u6CA1\u6709 live binding(\u5B9E\u65F6\u7ED1\u5B9A)\u3002\u5FAA\u73AF\u5F15\u7528\u5B58\u5728\u95EE\u9898\u3002\u540C\u6B65\u6267\u884C\u7684\u6A21\u5757\u89E3\u6790\u52A0\u8F7D\u5668\u901F\u5EA6\u5F88\u6162\u3002\u867D\u7136 CommonJS \u662F Node.js \u9879\u76EE\u7684\u7EDD\u4F73\u89E3\u51B3\u65B9\u6848\uFF0C\u4F46\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u6A21\u5757\uFF0C\u56E0\u800C\u4EA7\u751F\u4E86 Browserify, RequireJS \u548C SystemJS \u7B49\u6253\u5305\u5DE5\u5177\uFF0C\u5141\u8BB8\u6211\u4EEC\u7F16\u5199\u80FD\u591F\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u7684 CommonJS \u6A21\u5757\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"ESM - ECMAScript \u6A21\u5757"}),"\n\u6765\u81EA Web \u9879\u76EE\u7684\u597D\u6D88\u606F\u662F\uFF0C\u6A21\u5757\u6B63\u5728\u6210\u4E3A ECMAScript \u6807\u51C6\u7684\u5B98\u65B9\u529F\u80FD\u3002\u7136\u800C\uFF0C\u6D4F\u89C8\u5668\u652F\u6301\u4E0D\u5B8C\u6574\uFF0C\u7248\u672C\u8FED\u4EE3\u901F\u5EA6\u4E5F\u4E0D\u591F\u5FEB\uFF0C\u76EE\u524D\u8FD8\u662F\u63A8\u8350\u4E0A\u9762\u90A3\u4E9B\u65E9\u671F\u6A21\u5757\u5B9E\u73B0\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4F9D\u8D56\u81EA\u52A8\u6536\u96C6"}),"\n\u4F20\u7EDF\u7684\u4EFB\u52A1\u6784\u5EFA\u5DE5\u5177\u57FA\u4E8E Google \u7684 Closure \u7F16\u8BD1\u5668\u90FD\u8981\u6C42\u4F60\u624B\u52A8\u5728\u9876\u90E8\u58F0\u660E\u6240\u6709\u7684\u4F9D\u8D56\u3002\u7136\u800C\u50CF webpack \u4E00\u7C7B\u7684\u6253\u5305\u5DE5\u5177\u81EA\u52A8\u6784\u5EFA\u5E76\u57FA\u4E8E\u4F60\u6240\u5F15\u7528\u6216\u5BFC\u51FA\u7684\u5185\u5BB9\u63A8\u65AD\u51FA\u4F9D\u8D56\u7684\u56FE\u8C31\u3002\u8FD9\u4E2A\u7279\u6027\u4E0E\u5176\u5B83\u7684\u5982\u63D2\u4EF6 and \u52A0\u8F7D\u5668\u4E00\u9053\u8BA9\u5F00\u53D1\u8005\u7684\u4F53\u9A8C\u66F4\u597D\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u770B\u8D77\u6765\u90FD\u4E0D\u662F\u5F88\u597D\u2026\u2026"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"\u662F\u5426\u53EF\u4EE5\u6709\u4E00\u79CD\u65B9\u5F0F\uFF0C\u4E0D\u4EC5\u53EF\u4EE5\u8BA9\u6211\u4EEC\u7F16\u5199\u6A21\u5757\uFF0C\u800C\u4E14\u8FD8\u652F\u6301\u4EFB\u4F55\u6A21\u5757\u683C\u5F0F\uFF08\u81F3\u5C11\u5728\u6211\u4EEC\u5230\u8FBE ESM \u4E4B\u524D\uFF09\uFF0C\u5E76\u4E14\u53EF\u4EE5\u540C\u65F6\u5904\u7406\u8D44\u6E90\u548C\u8D44\u4EA7\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u5C31\u662F webpack \u5B58\u5728\u7684\u539F\u56E0\u3002\u5B83\u662F\u4E00\u4E2A\u5DE5\u5177\uFF0C\u53EF\u4EE5\u6253\u5305\u4F60\u7684 JavaScript \u5E94\u7528\u7A0B\u5E8F\uFF08\u652F\u6301 ESM \u548C CommonJS\uFF09\uFF0C\u53EF\u4EE5\u6269\u5C55\u4E3A\u652F\u6301\u8BB8\u591A\u4E0D\u540C\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u4F8B\u5982\uFF1Aimages, fonts \u548C stylesheets\u3002"}),"\n",(0,l.jsx)(n.p,{children:"webpack \u5173\u5FC3\u6027\u80FD\u548C\u52A0\u8F7D\u65F6\u95F4\uFF1B\u5B83\u59CB\u7EC8\u5728\u6539\u8FDB\u6216\u6DFB\u52A0\u65B0\u529F\u80FD\uFF0C\u4F8B\u5982\uFF1A\u5F02\u6B65\u5730\u52A0\u8F7D chunk \u548C\u9884\u53D6\uFF0C\u4EE5\u4FBF\u4E3A\u4F60\u7684\u9879\u76EE\u548C\u7528\u6237\u63D0\u4F9B\u6700\u4F73\u4F53\u9A8C\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u53C2\u8003\u6587\u6863"}),"\n",(0,l.jsx)(n.a,{href:"https://webpack.docschina.org/concepts/why-webpack/",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53C2\u8003\u6587\u6863"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://webpack.docschina.org/concepts/",children:"\u8D44\u6599"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.webpackjs.com/concepts/under-the-hood/",children:"\u8D44\u6599"})}),"\n",(0,l.jsx)(n.h2,{id:"p1-webpack-de-server",children:"webpack-dev-server"}),"\n",(0,l.jsx)(n.p,{children:"webpack-dev-server \u662F\u4E00\u4E2A\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5FEB\u901F\u5F00\u53D1\u7684\u73AF\u5883\uFF0C\u5E76\u4E14\u914D\u5408Webpack\u4F7F\u7528\u3002\u5B83\u7684\u4F5C\u7528\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u9762\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u81EA\u52A8\u7F16\u8BD1\u548C\u6253\u5305"}),"\uFF1Awebpack-dev-server \u53EF\u4EE5\u76D1\u542C\u6E90\u6587\u4EF6\u7684\u53D8\u5316\uFF0C\u5F53\u6587\u4EF6\u53D1\u751F\u6539\u52A8\u65F6\uFF0C\u5B83\u4F1A\u81EA\u52A8\u91CD\u65B0\u7F16\u8BD1\u548C\u6253\u5305\uFF0C\u4FDD\u8BC1\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u59CB\u7EC8\u4F7F\u7528\u6700\u65B0\u7684\u4EE3\u7801\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u70ED\u6A21\u5757\u66FF\u6362\uFF08Hot Module Replacement\uFF09"}),"\uFF1Awebpack-dev-server \u652F\u6301\u70ED\u6A21\u5757\u66FF\u6362\uFF0C\u5373\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5F53\u67D0\u4E2A\u6A21\u5757\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u53EA\u4F1A\u91CD\u65B0\u7F16\u8BD1\u8BE5\u6A21\u5757\uFF0C\u800C\u4E0D\u662F\u6574\u4E2A\u5E94\u7528\uFF0C\u7136\u540E\u5C06\u53D8\u66F4\u7684\u6A21\u5757\u66FF\u6362\u5230\u6D4F\u89C8\u5668\u4E2D\uFF0C\u4ECE\u800C\u5B9E\u73B0\u5B9E\u65F6\u66F4\u65B0\uFF0C\u65E0\u9700\u624B\u52A8\u5237\u65B0\u9875\u9762\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4EE3\u7406\u548C\u53CD\u5411\u4EE3\u7406"}),"\uFF1Awebpack-dev-server \u53EF\u4EE5\u914D\u7F6E\u4EE3\u7406\uFF0C\u7528\u4E8E\u89E3\u51B3\u524D\u7AEF\u5F00\u53D1\u4E2D\u8DE8\u57DF\u8BF7\u6C42\u7684\u95EE\u9898\u3002\u53EF\u4EE5\u5C06\u67D0\u4E9B\u8BF7\u6C42\u8F6C\u53D1\u5230\u5176\u4ED6\u670D\u52A1\u5668\uFF0C\u6216\u8005\u6539\u53D8\u8BF7\u6C42\u7684\u8DEF\u5F84\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8DEF\u7531\u5904\u7406"}),"\uFF1Awebpack-dev-server \u4E5F\u652F\u6301\u5C06\u6240\u6709\u8BF7\u6C42\u91CD\u5B9A\u5411\u5230\u7279\u5B9A\u7684 HTML \u6587\u4EF6\uFF0C\u7528\u4E8E\u524D\u7AEF\u5355\u9875\u5E94\u7528\u7684\u8DEF\u7531\u5904\u7406\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u5B9E\u73B0 SPA\uFF08Single Page Application\uFF09\u7684\u8DEF\u7531\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u9759\u6001\u6587\u4EF6\u670D\u52A1"}),"\uFF1Awebpack-dev-server \u53EF\u4EE5\u5C06\u6253\u5305\u540E\u7684\u6587\u4EF6\u63D0\u4F9B\u7ED9\u6D4F\u89C8\u5668\u8BBF\u95EE\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6307\u5B9A\u9759\u6001\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u5E76\u4E14\u901A\u8FC7\u6307\u5B9A\u7684\u7AEF\u53E3\u63D0\u4F9B\u670D\u52A1\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7ED3\u6765\u8BF4\uFF0Cwebpack-dev-server \u63D0\u4F9B\u4E86\u4E00\u4E2A\u65B9\u4FBF\u7684\u5F00\u53D1\u73AF\u5883\uFF0C\u53EF\u4EE5\u5B9E\u65F6\u7F16\u8BD1\u548C\u6253\u5305\u4EE3\u7801\uFF0C\u5E76\u4E14\u652F\u6301\u70ED\u6A21\u5757\u66FF\u6362\uFF0C\u4EE3\u7406\u548C\u53CD\u5411\u4EE3\u7406\uFF0C\u8DEF\u7531\u5904\u7406\u7B49\u529F\u80FD\uFF0C\u63D0\u9AD8\u4E86\u5F00\u53D1\u6548\u7387\u548C\u5F00\u53D1\u4F53\u9A8C\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"webpack-dev-server \u6709\u7F16\u8BD1\u548C\u6253\u5305\u7684\u80FD\u529B\uFF1F"})}),"\n",(0,l.jsxs)(n.p,{children:["webpack-dev-server\u672C\u8EAB\u5E76\u6CA1\u6709\u7F16\u8BD1\u548C\u6253\u5305\u7684\u80FD\u529B\uFF0C\u5B83\u662F\u4F7F\u7528Webpack\u6765\u5B9E\u73B0\u7F16\u8BD1\u548C\u6253\u5305\u7684\u3002\nwebpack-dev-server\u662F\u57FA\u4E8EWebpack\u7684\u4E00\u4E2A\u5F00\u53D1\u670D\u52A1\u5668\uFF0C",(0,l.jsx)(n.strong,{children:"\u5B83\u901A\u8FC7\u76D1\u542C\u6E90\u6587\u4EF6\u7684\u53D8\u5316\uFF0C\u81EA\u52A8\u8C03\u7528Webpack\u8FDB\u884C\u7F16\u8BD1\u548C\u6253\u5305\uFF0C\u5E76\u5C06\u6253\u5305\u540E\u7684\u6587\u4EF6\u63D0\u4F9B\u7ED9\u6D4F\u89C8\u5668\u8BBF\u95EE"}),"\u3002\n\u8FD9\u6837\u53EF\u4EE5\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u65F6\u66F4\u65B0\u4EE3\u7801\uFF0C\u65E0\u9700\u624B\u52A8\u8FDB\u884C\u7F16\u8BD1\u548C\u6253\u5305\u64CD\u4F5C\u3002\nwebpack-dev-server\u8FD8\u652F\u6301\u70ED\u6A21\u5757\u66FF\u6362\u7B49\u529F\u80FD\uFF0C\u63D0\u4F9B\u4E86\u4E00\u4E2A\u65B9\u4FBF\u7684\u5F00\u53D1\u73AF\u5883\u3002\n\u4F46\u662F\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Cwebpack-dev-server\u53EA\u9002\u7528\u4E8E\u5F00\u53D1\u9636\u6BB5\uFF0C\u5B83\u5E76\u4E0D\u4F1A\u751F\u6210\u6700\u7EC8\u7684\u6253\u5305\u6587\u4EF6\uFF0C\u800C\u662F\u5C06\u6253\u5305\u540E\u7684\u6587\u4EF6\u4FDD\u5B58\u5728\u5185\u5B58\u4E2D\uFF0C\u63D0\u4F9B\u7ED9\u6D4F\u89C8\u5668\u8BBF\u95EE\u3002\n\u5728\u771F\u6B63\u53D1\u5E03\u9879\u76EE\u65F6\uFF0C\u8FD8\u9700\u8981\u8FD0\u884CWebpack\u7684\u6253\u5305\u547D\u4EE4\u751F\u6210\u6700\u7EC8\u7684\u6253\u5305\u6587\u4EF6\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-chunk-concept",children:"chunk \u662F\u4EC0\u4E48\u6982\u5FF5\uFF0C\u4ECB\u7ECD\u4E00\u4E0B\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u5728Webpack\u4E2D\uFF0CChunk\uFF08\u4EE3\u7801\u5757\uFF09\u662F\u6307Webpack\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u751F\u6210\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u72EC\u7ACB\u7684\u6587\u4EF6\uFF0C\u5B83\u5305\u542B\u4E86\u4E00\u7EC4\u76F8\u5173\u7684\u6A21\u5757\u3002\u6BCF\u4E2AChunk\u90FD\u6709\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u7B26\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8BE5\u6807\u8BC6\u7B26\u6765\u8BBF\u95EE\u548C\u52A0\u8F7D\u5BF9\u5E94\u7684Chunk\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u6839\u636E\u6307\u5B9A\u7684\u5165\u53E3\u6587\u4EF6\u548C\u4F9D\u8D56\u5173\u7CFB\u56FE\u6765\u786E\u5B9A\u9700\u8981\u751F\u6210\u54EA\u4E9BChunk\u3002\u5165\u53E3\u6587\u4EF6\u662FWebpack\u6784\u5EFA\u7684\u8D77\u70B9\uFF0C\u800C\u4F9D\u8D56\u5173\u7CFB\u56FE\u63CF\u8FF0\u4E86\u6BCF\u4E2A\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u3002Webpack\u6839\u636E\u8FD9\u4E9B\u4FE1\u606F\u5C06\u6A21\u5757\u5206\u5272\u4E3A\u4E0D\u540C\u7684\u4EE3\u7801\u5757\uFF0C\u5E76\u751F\u6210\u76F8\u5E94\u7684Chunk\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Chunk\u7684\u4E3B\u8981\u4F5C\u7528\u662F\u5B9E\u73B0\u4EE3\u7801\u7684\u5206\u5272\u548C\u6309\u9700\u52A0\u8F7D"}),"\u3002\u901A\u8FC7\u5C06\u4EE3\u7801\u62C6\u5206\u4E3A\u591A\u4E2AChunk\uFF0CWebpack\u53EF\u4EE5\u8FDB\u884C\u6309\u9700\u52A0\u8F7D\uFF0C\u53EA\u6709\u5728\u9700\u8981\u65F6\u624D\u52A0\u8F7D\u5BF9\u5E94\u7684Chunk\uFF0C\u4ECE\u800C\u51CF\u5C11\u4E86\u521D\u59CB\u52A0\u8F7D\u7684\u5927\u5C0F\u548C\u65F6\u95F4\u3002\u8FD9\u6837\u53EF\u4EE5\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u548C\u52A0\u8F7D\u901F\u5EA6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u63D0\u4F9B\u4E86\u591A\u79CD\u4EE3\u7801\u5206\u5272\u7684\u65B9\u5F0F\uFF0C\u5305\u62EC\u4F7F\u7528\u5165\u53E3\u914D\u7F6E\u3001\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\uFF08\u5982import()\uFF09\u548C\u4F7F\u7528Webpack\u63D2\u4EF6\uFF08\u5982SplitChunksPlugin\uFF09\u3002\u8FD9\u4E9B\u65B9\u5F0F\u53EF\u4EE5\u5E2E\u52A9\u5F00\u53D1\u8005\u5C06\u4EE3\u7801\u5206\u5272\u4E3A\u4E0D\u540C\u7684Chunk\uFF0C\u5E76\u6839\u636E\u5B9E\u9645\u9700\u6C42\u8FDB\u884C\u914D\u7F6E\u548C\u4F18\u5316\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u800C\u8A00\uFF0CWebpack\u7684\u4EE3\u7801\u5206\u5272\u673A\u5236\u901A\u8FC7\u4E24\u79CD\u65B9\u5F0F\u6765\u521B\u5EFAchunk\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u9759\u6001\u4EE3\u7801\u5206\u5272\uFF08Static Code Splitting\uFF09\uFF1A\u5728Webpack\u914D\u7F6E\u4E2D\u4F7F\u7528",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u6216",(0,l.jsx)(n.code,{children:"optimization.splitChunks"}),"\u9009\u9879\uFF0C\u53EF\u4EE5\u5C06\u7B2C\u4E09\u65B9\u5E93\u3001\u516C\u5171\u6A21\u5757\u6216\u91CD\u590D\u7684\u6A21\u5757\u5206\u5272\u6210\u72EC\u7ACB\u7684chunk\u3002\u8FD9\u4E9Bchunk\u53EF\u4EE5\u5728\u591A\u4E2A\u5165\u53E3\u6587\u4EF6\u4E4B\u95F4\u5171\u4EAB\uFF0C\u4ECE\u800C\u51CF\u5C11\u91CD\u590D\u52A0\u8F7D\u7684\u4EE3\u7801\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u52A8\u6001\u4EE3\u7801\u5206\u5272\uFF08Dynamic Code Splitting\uFF09\uFF1A\u901A\u8FC7\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\uFF08Dynamic Import\uFF09\u8BED\u6CD5\uFF0C\u53EF\u4EE5\u5C06\u5E94\u7528\u7A0B\u5E8F\u7684\u4E0D\u540C\u90E8\u5206\u5206\u5272\u6210\u72EC\u7ACB\u7684chunk\u3002\u4F8B\u5982\uFF0C\u5728React\u4E2D\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(n.code,{children:"React.lazy()"}),"\u51FD\u6570\u548C",(0,l.jsx)(n.code,{children:"Suspense"}),"\u7EC4\u4EF6\u6765\u5B9E\u73B0\u52A8\u6001\u5BFC\u5165\u548C\u6E32\u67D3\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5206\u5272\u6210\u7684chunk\u53EF\u4EE5\u901A\u8FC7Webpack\u7684\u5185\u7F6E\u529F\u80FD\uFF08\u5982\u4EE3\u7801\u5206\u5272\u63D2\u4EF6\u3001\u61D2\u52A0\u8F7D\u7B49\uFF09\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\uFF0C\u5373\u5F53\u9700\u8981\u65F6\u624D\u52A0\u8F7D\u5BF9\u5E94\u7684chunk\uFF0C\u4ECE\u800C\u51CF\u5C11\u521D\u59CB\u52A0\u8F7D\u65F6\u95F4\u5E76\u63D0\u9AD8\u7F51\u9875\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u4F7F\u7528chunk\uFF0CWebpack\u53EF\u4EE5\u81EA\u52A8\u5C06\u4EE3\u7801\u5206\u5272\u6210\u66F4\u5C0F\u7684\u90E8\u5206\uFF0C\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u548C\u5E76\u884C\u52A0\u8F7D\uFF0C\u4ECE\u800C\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u548C\u7528\u6237\u4F53\u9A8C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u751F\u6210 hash \u7801\u4E3B\u8981\u7528\u4E8E\u7F13\u5B58\u548C\u7248\u672C\u7BA1\u7406\u3002\u4E3B\u8981\u6709\u4E09\u79CD\u7C7B\u578B\u7684 hash \u7801\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"hash\uFF1A\u662F\u548C\u6574\u4E2A\u9879\u76EE\u7684\u6784\u5EFA\u76F8\u5173\uFF0C\u53EA\u8981\u9879\u76EE\u6587\u4EF6\u6709\u4FEE\u6539\uFF0C\u6574\u4E2A\u9879\u76EE\u6784\u5EFA\u7684 hash \u503C\u5C31\u4F1A\u66F4\u6539\u3002\u8FD9\u610F\u5473\u7740\u4EFB\u4F55\u4E00\u4E2A\u6587\u4EF6\u7684\u6539\u52A8\u90FD\u4F1A\u5F71\u54CD\u5230\u6574\u4F53\u7684 hash \u503C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"chunkhash\uFF1A\u4E0E webpack \u6253\u5305\u7684 chunk \u6709\u5173\uFF0C\u4E0D\u540C\u7684 entry \u4F1A\u751F\u6210\u4E0D\u540C\u7684 chunkhash \u503C\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u7684\u914D\u7F6E\u751F\u6210\u4E86\u591A\u4E2A chunk\uFF08\u4F8B\u5982\u4F7F\u7528\u4E86 code splitting\uFF09\uFF0C\u6BCF\u4E2A chunk \u7684\u66F4\u65B0\u53EA\u4F1A\u5F71\u54CD\u5230\u5B83\u81EA\u8EAB\u7684 chunkhash\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"contenthash\uFF1A\u6839\u636E\u6587\u4EF6\u5185\u5BB9\u6765\u5B9A\u4E49 hash\uFF0C\u5185\u5BB9\u4E0D\u53D8\uFF0C\u5219 contenthash \u4E0D\u53D8\u3002\u8FD9\u5728\u4F7F\u7528\u8BF8\u5982 CSS \u63D0\u53D6\u5230\u5355\u72EC\u6587\u4EF6\u7684\u63D2\u4EF6\u65F6\u7279\u522B\u6709\u7528\uFF0C\u56E0\u6B64\u53EA\u6709\u5F53\u6587\u4EF6\u7684\u5185\u5BB9\u5B9E\u9645\u6539\u53D8\u65F6\uFF0C\u6D4F\u89C8\u5668\u624D\u4F1A\u91CD\u65B0\u4E0B\u8F7D\u6587\u4EF6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u751F\u6210\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"hash \u548C chunkhash \u4E3B\u8981\u662F\u901A\u8FC7\u67D0\u79CD hash \u7B97\u6CD5\uFF08\u9ED8\u8BA4 MD5\uFF09\u6765\u5BF9\u6587\u4EF6\u540D\u6216\u8005 chunk \u6570\u636E\u8FDB\u884C\u7F16\u7801\u3002"}),"\n",(0,l.jsx)(n.li,{children:"contenthash \u662F\u901A\u8FC7\u6784\u5EFA\u65F6\u7684 webpack \u63D2\u4EF6\uFF08\u5982 mini-css-extract-plugin\uFF09\u6765\u5904\u7406\u7684\uFF0C\u5B83\u4F1A\u5BF9\u6587\u4EF6\u5185\u5BB9\u8FDB\u884C hash\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Hash \u7801\u7684\u751F\u6210\u53EF\u4EE5\u88AB webpack \u914D\u7F6E\u7684 hashFunction\uFF0ChashDigest\uFF0ChashDigestLength \u7B49\u9009\u9879\u5F71\u54CD\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u9009\u62E9\u4E0D\u540C\u7684\u7B97\u6CD5\u5982 SHA256 \u6216\u8005 MD5\uFF0C\u4EE5\u53CA\u53EF\u4EE5\u51B3\u5B9A hash \u503C\u7684\u957F\u5EA6\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 webpack \u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5982\u4E0B\u65B9\u5F0F\u8BBE\u5B9A hash:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = {\n  output: {\n    filename: '[name].[chunkhash].js'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4F1A\u5C06\u8F93\u51FA\u7684\u6587\u4EF6\u540D\u8BBE\u7F6E\u4E3A\u5165\u53E3\u540D\u79F0\u52A0\u4E0A\u57FA\u4E8E\u6BCF\u4E2A chunk \u5185\u5BB9\u7684 hash\u3002\u5728\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"webpack-dev-server"})," \u6216\u8005 ",(0,l.jsx)(n.code,{children:"webpack --watch"})," \u65F6\uFF0C\u4E0D\u4F1A\u751F\u6210\u5B9E\u9645\u7684\u6587\u4EF6\uFF0C\u6240\u4EE5\u8FD9\u4E9B hash \u503C\u662F\u5728\u5185\u5B58\u4E2D\u8BA1\u7B97\u5E76\u5173\u8054\u7684\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u6253\u5305\u8FD0\u884C\u65F6chunk\u7684\u65B9\u5F0F\u53EF\u4EE5\u901A\u8FC7optimization.runtimeChunk\u9009\u9879\u6765\u914D\u7F6E\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u793A\u4F8B\u7684\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    runtimeChunk: 'single'\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u8FF0\u914D\u7F6E\u4E2D\uFF0C\u901A\u8FC7\u8BBE\u7F6Eoptimization.runtimeChunk\u4E3A'single'\uFF0C\u5C06\u4F1A\u628A\u6240\u6709\u7684webpack\u8FD0\u884C\u65F6\u4EE3\u7801\u6253\u5305\u4E3A\u4E00\u4E2A\u5355\u72EC\u7684chunk\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u9879\u76EE\u5DE5\u7A0B\u4E2D\u52A0\u8F7D\u8FD0\u884C\u65F6chunk\u6709\u4E24\u79CD\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u901A\u8FC7script\u6807\u7B7E\u52A0\u8F7D\uFF1A\u53EF\u4EE5\u4F7F\u7528HtmlWebpackPlugin\u63D2\u4EF6\u6765\u81EA\u52A8\u5C06\u8FD0\u884C\u65F6chunk\u6DFB\u52A0\u5230 HTML \u6587\u4EF6\u4E2D\u3002\u5728webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const HtmlWebpackPlugin = require('html-webpack-plugin')\n\nmodule.exports = {\n  // ...\n  plugins: [\n    new HtmlWebpackPlugin({\n      // ...\n      chunks: ['runtime', 'app']\n    })\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u8FF0\u914D\u7F6E\u4E2D\uFF0Cchunks\u9009\u9879\u6307\u5B9A\u4E86\u8981\u52A0\u8F7D\u7684chunk\uFF0C\u5305\u62EC\u8FD0\u884C\u65F6chunk\uFF08'runtime'\uFF09\u548C\u5176\u4ED6\u7684\u4E1A\u52A1\u4EE3\u7801chunk\uFF08'app'\uFF09\u3002\u6700\u7EC8\u751F\u6210\u7684HTML\u6587\u4EF6\u4F1A\u81EA\u52A8\u5F15\u5165\u8FD9\u4E9Bchunk\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u901A\u8FC7import\u8BED\u53E5\u52A8\u6001\u52A0\u8F7D\uFF1A\u53EF\u4EE5\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u7684\u65B9\u5F0F\u6765\u52A0\u8F7D\u8FD0\u884C\u65F6chunk\u3002\u5728\u9700\u8981\u52A0\u8F7D\u8FD0\u884C\u65F6chunk\u7684\u5730\u65B9\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import(/* webpackChunkName: \"runtime\" */ './path/to/runtime').then((runtime) => {\n  // \u8FD0\u884C\u65F6chunk\u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u903B\u8F91\n})\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u901A\u8FC7import()\u51FD\u6570\u52A8\u6001\u52A0\u8F7D\u8FD0\u884C\u65F6chunk\uFF0C\u901A\u8FC7webpackChunkName\u6CE8\u91CA\u6307\u5B9A\u8981\u52A0\u8F7D\u7684chunk\u540D\u79F0\uFF08\u8FD9\u91CC\u662F'runtime'\uFF09\u3002\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u53EF\u4EE5\u8FDB\u884C\u76F8\u5173\u903B\u8F91\u5904\u7406\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7ED3\uFF1AWebpack\u53EF\u4EE5\u901A\u8FC7optimization.runtimeChunk\u9009\u9879\u914D\u7F6E\u6253\u5305\u8FD0\u884C\u65F6chunk\uFF0C\u53EF\u4EE5\u901A\u8FC7script\u6807\u7B7E\u52A0\u8F7D\u6216\u8005\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u7684\u65B9\u5F0F\u6765\u52A0\u8F7D\u8FD0\u884C\u65F6chunk\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u8FFD\u95EE"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5982\u679C\u53EA\u60F3\u628A\u67D0\u51E0\u4E2A\u6587\u4EF6\u6253\u5305\u6210\u8FD0\u884C\u65F6\u52A0\u8F7D\uFF0C \u8BE5\u5982\u4F55\u5904\u7406\u5462\uFF1F"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u60F3\u5C06\u67D0\u51E0\u4E2A\u6587\u4EF6\u6253\u5305\u6210\u8FD0\u884C\u65F6\u52A0\u8F7D\uFF0C\u53EF\u4EE5\u4F7F\u7528Webpack\u7684",(0,l.jsx)(n.code,{children:"entry"}),"\u914D\u7F6E\u548C",(0,l.jsx)(n.code,{children:"import()"}),"\u8BED\u6CD5\u6765\u5B9E\u73B0\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u5728Webpack\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u5C06\u8FD9\u51E0\u4E2A\u6587\u4EF6\u6307\u5B9A\u4E3A\u5355\u72EC\u7684",(0,l.jsx)(n.code,{children:"entry"}),"\u70B9\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  entry: {\n    main: './src/main.js',\n    runtime: './src/runtime.js'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0A\u8FF0\u914D\u7F6E\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"main.js"}),"\u662F\u4E1A\u52A1\u4EE3\u7801\u7684\u5165\u53E3\u6587\u4EF6\uFF0C",(0,l.jsx)(n.code,{children:"runtime.js"}),"\u662F\u4F60\u60F3\u8981\u6253\u5305\u6210\u8FD0\u884C\u65F6\u52A0\u8F7D\u7684\u6587\u4EF6\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540E\uFF0C\u5728\u4F60\u7684\u4E1A\u52A1\u4EE3\u7801\u4E2D\uFF0C\u901A\u8FC7",(0,l.jsx)(n.code,{children:"import()"}),"\u52A8\u6001\u5BFC\u5165\u8FD9\u4E9B\u6587\u4EF6\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"function loadRuntime () {\n  return import('./runtime.js')\n}\n\n// \u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u7684\u65B9\u5F0F\u52A0\u8F7D\u8FD0\u884C\u65F6\u6587\u4EF6\nloadRuntime().then(runtime => {\n  // \u8FD0\u884C\u65F6\u6587\u4EF6\u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u903B\u8F91\n})\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528",(0,l.jsx)(n.code,{children:"import()"}),"\u4F1A\u8FD4\u56DE\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"Promise"}),"\uFF0C\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(n.code,{children:".then()"}),"\u6765\u5904\u7406\u6587\u4EF6\u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u903B\u8F91\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6700\u540E\uFF0C\u4F7F\u7528Webpack\u8FDB\u884C\u6253\u5305\u65F6\uFF0C\u4F1A\u6839\u636E\u914D\u7F6E\u7684",(0,l.jsx)(n.code,{children:"entry"}),"\u70B9\u548C",(0,l.jsx)(n.code,{children:"import()"}),"\u8BED\u6CD5\u81EA\u52A8\u5C06\u8FD9\u51E0\u4E2A\u6587\u4EF6\u6253\u5305\u6210\u8FD0\u884C\u65F6\u52A0\u8F7D\u7684\u6A21\u5757\u3002\u8FD0\u884C\u65F6\u6A21\u5757\u4F1A\u5728\u9700\u8981\u65F6\u52A8\u6001\u52A0\u8F7D\u5E76\u6267\u884C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF1A\u5728\u4F7F\u7528",(0,l.jsx)(n.code,{children:"import()"}),"\u52A8\u6001\u5BFC\u5165\u6587\u4EF6\u65F6\uFF0C\u9700\u8981\u786E\u4FDD\u4F60\u7684\u73AF\u5883\u652F\u6301",(0,l.jsx)(n.code,{children:"Promise"}),"\u548C\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4F5C\u4E3A\u4E0A\u9762\u56DE\u590D\u7684\u8865\u5145"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9664\u4E86 ",(0,l.jsx)(n.code,{children:"entry"})," \u7684\u65B9\u5F0F\u53EF\u4EE5\u5904\u7406\u81EA\u5DF1\u7533\u660E\u7684 runtime \u6587\u4EF6\u4EE5\u5916\uFF0C \u8FD8\u53EF\u4EE5\u76F4\u63A5\u5728 ",(0,l.jsx)(n.code,{children:"import('xx')"})," \u7684\u65F6\u5019\u7533\u660E\uFF1B\n\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import(/* webpackChunkName: \"runtime\" */ './path/to/runtime').then((runtime) => {\n  // \u8FD0\u884C\u65F6chunk\u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u903B\u8F91\n})\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0A\u9762\u7684\u65B9\u5F0F\uFF0C \u53EF\u4EE5\u5728\u4E5F\u53EF\u4EE5\u8FBE\u5230\u540C\u6837\u7684\u6548\u679C\uFF0C \u53EA\u662F\u5728 ",(0,l.jsx)(n.code,{children:"import"})," \u7684\u65F6\u5019\u7533\u660Eruntime\u6587\u4EF6\u540D\u79F0\u800C\u5DF2"]}),"\n",(0,l.jsx)(n.h2,{id:"p1-webpack-config",children:"webpack \u7684\u4E3B\u8981\u914D\u7F6E\u9879\u6709\u54EA\u4E9B"}),"\n",(0,l.jsxs)(n.p,{children:["Webpack \u662F\u4E00\u4E2A\u73B0\u4EE3 JavaScript \u5E94\u7528\u7A0B\u5E8F\u7684\u9759\u6001\u6A21\u5757\u6253\u5305\u5668\u3002\u914D\u7F6E\u6587\u4EF6\u540D\u901A\u5E38\u4E3A ",(0,l.jsx)(n.code,{children:"webpack.config.js"}),"\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u79CD\u914D\u7F6E Webpack \u7684\u65B9\u5F0F\u3002\u4E0B\u9762\u662F\u4E00\u4E9B\u4E3B\u8981\u7684 Webpack \u914D\u7F6E\u9009\u9879\uFF1A"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"entry"}),": \u5165\u53E3\u8D77\u70B9(entry point)\u6307\u793A webpack \u5E94\u8BE5\u4F7F\u7528\u54EA\u4E2A\u6A21\u5757\uFF0C\u6765\u4F5C\u4E3A\u6784\u5EFA\u5176\u5185\u90E8\u4F9D\u8D56\u56FE\u7684\u5F00\u59CB\u3002\u53EF\u4EE5\u6307\u5B9A\u4E00\u4E2A\u6216\u591A\u4E2A\u5165\u53E3\u8D77\u70B9\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"output"}),": output \u5C5E\u6027\u544A\u8BC9 webpack \u5728\u54EA\u91CC\u8F93\u51FA\u5B83\u6240\u521B\u5EFA\u7684 bundles\uFF0C\u4EE5\u53CA\u5982\u4F55\u547D\u540D\u8FD9\u4E9B\u6587\u4EF6\uFF0C\u9ED8\u8BA4\u503C\u4E3A ",(0,l.jsx)(n.code,{children:"./dist"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"module"}),": module \u5C5E\u6027\u7528\u4E8E\u51B3\u5B9A\u5982\u4F55\u5904\u7406\u9879\u76EE\u4E2D\u7684\u4E0D\u540C\u7C7B\u578B\u7684\u6A21\u5757\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"rules"}),": \u914D\u7F6E\u6A21\u5757\u7684\u8BFB\u53D6\u548C\u89E3\u6790\u89C4\u5219\uFF0C\u901A\u5E38\u7528\u6765\u914D\u7F6E loader\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"resolve"}),": \u914D\u7F6E\u6A21\u5757\u5982\u4F55\u89E3\u6790\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"extensions"}),": \u81EA\u52A8\u89E3\u6790\u786E\u5B9A\u7684\u6269\u5C55\uFF0C\u6B64\u9009\u9879\u80FD\u591F\u4F7F\u7528\u6237\u5728\u5F15\u5165\u6A21\u5757\u65F6\u4E0D\u5E26\u6269\u5C55\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"plugins"}),": \u63D2\u4EF6\u662F\u7528\u6765\u6269\u5C55 webpack \u529F\u80FD\u7684\u3002\u5B83\u4EEC\u4F1A\u5728\u6784\u5EFA\u6D41\u7A0B\u4E2D\u7684\u7279\u5B9A\u65F6\u673A\u6CE8\u5165\u8FD0\u884C\u903B\u8F91\u6765\u6539\u53D8\u6784\u5EFA\u7ED3\u679C\u6216\u505A\u4F60\u60F3\u8981\u7684\u4E8B\u60C5\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"devServer"}),": \u901A\u8FC7\u6765\u81EA ",(0,l.jsx)(n.code,{children:"webpack-dev-server"})," \u7684\u8FD9\u4E9B\u9009\u9879\u80FD\u591F\u5BF9\u5F00\u53D1\u670D\u52A1\u5668\u7684\u884C\u4E3A\u8FDB\u884C\u63A7\u5236\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"devtool"}),": \u6B64\u9009\u9879\u63A7\u5236\u662F\u5426\u751F\u6210\uFF0C\u4EE5\u53CA\u5982\u4F55\u751F\u6210 source map\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"mode"}),": \u901A\u8FC7\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"development"})," \u6216 ",(0,l.jsx)(n.code,{children:"production"})," \u4E4B\u4E2D\u7684\u4E00\u4E2A\uFF0C\u6765\u4E3A\u6D41\u7A0B\u63D0\u4F9B\u76F8\u5E94\u6A21\u5F0F\u4E0B\u7684\u5185\u7F6E\u4F18\u5316\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 webpack \u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"mode"})," \u5C5E\u6027\u7528\u6765\u6307\u5B9A\u5F53\u524D\u7684\u6784\u5EFA\u73AF\u5883\u662F\uFF1A",(0,l.jsx)(n.code,{children:"development"}),"\u3001",(0,l.jsx)(n.code,{children:"production"})," \u6216\u8005\u662F ",(0,l.jsx)(n.code,{children:"none"}),"\u3002\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"mode"})," \u53EF\u4EE5\u4F7F\u7528 webpack \u5185\u7F6E\u7684\u51FD\u6570\uFF0C\u9ED8\u8BA4\u503C\u4E3A ",(0,l.jsx)(n.code,{children:"production"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"mode"})," \u5C5E\u6027\u7684\u4E3B\u8981\u4F5C\u7528\u662F\uFF1A\u6839\u636E\u5F53\u524D\u7684\u6784\u5EFA\u73AF\u5883\uFF0C\u542F\u7528 webpack \u5185\u7F6E\u5728\u8BE5\u73AF\u5883\u4E0B\u63A8\u8350\u7684\u4F18\u5316\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"mode \u7684\u5177\u4F53\u4F5C\u7528\u5305\u62EC"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"development"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E3B\u8981\u4F18\u5316\u4E86\u589E\u91CF\u6784\u5EFA\u901F\u5EA6\u548C\u5F00\u53D1\u4F53\u9A8C\u3002"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u7684\u503C\u8BBE\u4E3A ",(0,l.jsx)(n.code,{children:"development"}),"\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u542F\u7528\u70ED\u66FF\u6362\u6A21\u5757\uFF08Hot Module Replacement\uFF09\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u542F\u7528\u5F00\u53D1\u5DE5\u5177\uFF08\u5982\u8C03\u8BD5\u6E90\u7801\u7684 source map\uFF09\u4EE5\u66F4\u597D\u5730\u8FDB\u884C\u8C03\u8BD5\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"production"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E00\u4E9B\u5904\u7406\u4F18\u5316\uFF0C\u4EE5\u63D0\u5347\u5E94\u7528\u5728\u751F\u4EA7\u73AF\u5883\u7684\u6027\u80FD\u3002"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u7684\u503C\u8BBE\u4E3A ",(0,l.jsx)(n.code,{children:"production"}),"\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u542F\u7528\u4EE3\u7801\u538B\u7F29\uFF08\u4F8B\u5982 TerserPlugin\uFF09\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u5220\u9664 dead code\uFF08\u901A\u8FC7 Tree Shaking\uFF09\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u4F5C\u7528\u57DF\u63D0\u5347\u7B49\u5404\u79CD\u6027\u80FD\u4F18\u5316\u63AA\u65BD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"none"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mode"})," \u8BBE\u7F6E\u4E3A ",(0,l.jsx)(n.code,{children:"none"})," \u5219\u4E0D\u542F\u7528\u4EFB\u4F55\u9ED8\u8BA4\u4F18\u5316\u9009\u9879\uFF0C",(0,l.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u4E5F\u4E0D\u4F1A\u88AB\u8BBE\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A ",(0,l.jsx)(n.code,{children:"production"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u65B9\u6CD5"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 webpack \u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"mode"})," \u7684\u503C\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  mode: 'development' // 'production' \u6216 'none'\n  // \u5176\u4ED6\u914D\u7F6E...\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6216\u8005\uFF0C\u5728\u547D\u4EE4\u884C\u4E2D\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"--mode"})," \u53C2\u6570\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"webpack --mode=production\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8BBE\u7F6E mode \u662F\u544A\u8BC9 webpack \u4F7F\u7528\u5176\u5185\u90E8\u7684\u4F18\u5316\u7B56\u7565\uFF0C\u5404\u4E2A\u6A21\u5F0F\u9884\u5B9A\u4E49\u4E86\u4E00\u4E9B webpack \u7684\u884C\u4E3A\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u4E0D\u9700\u8981\u8FDB\u884C\u8BE6\u7EC6\u7684\u914D\u7F6E\uFF0C\u4E5F\u80FD\u5FEB\u901F\u542F\u52A8\u4E00\u4E2A\u9488\u5BF9\u7279\u5B9A\u73AF\u5883\u4F18\u5316\u8FC7\u7684\u6784\u5EFA\u8FC7\u7A0B\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"9",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"optimization"}),": \u5305\u542B\u4E00\u7EC4\u53EF\u7528\u6765\u8C03\u6574\u6784\u5EFA\u8F93\u51FA\u7684\u9009\u9879\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"splitChunks"}),": \u914D\u7F6E\u6A21\u5757\u7684\u62C6\u5206\uFF0C\u53EF\u4EE5\u5C06\u516C\u5171\u7684\u4F9D\u8D56\u6A21\u5757\u63D0\u53D6\u5230\u5DF2\u6709\u7684\u5165\u53E3 chunk \u4E2D\uFF0C\u6216\u8005\u63D0\u53D6\u5230\u4E00\u4E2A\u65B0\u751F\u6210\u7684 chunk\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"runtimeChunk"}),": \u4E3A\u6BCF\u4E2A entry \u521B\u5EFA\u4E00\u4E2A\u8FD0\u884C\u65F6\u6587\u4EF6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"10",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"performance"}),": \u5141\u8BB8 webpack \u6839\u636E\u67D0\u4E9B\u53C2\u6570\uFF0C\u63A7\u5236\u8D44\u4EA7\u548C\u5165\u53E3\u8D77\u70B9\u7684\u6700\u5927\u5927\u5C0F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"externals"}),": \u9632\u6B62\u5C06\u67D0\u4E9B import \u5305(package)\u6253\u5305\u5230 bundle \u4E2D\uFF0C\u800C\u662F\u5728\u8FD0\u884C\u65F6(runtime)\u518D\u53BB\u4ECE\u5916\u90E8\u83B7\u53D6\u8FD9\u4E9B\u6269\u5C55\u4F9D\u8D56\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6BCF\u4E2A\u9879\u76EE\u7684\u5177\u4F53\u9700\u6C42\u4E0D\u540C\uFF0CWebpack \u7684\u914D\u7F6E\u4E5F\u4F1A\u6709\u6240\u4E0D\u540C\u3002\u8FD9\u4E9B\u9009\u9879\u63D0\u4F9B\u4E86\u5F3A\u5927\u7684\u914D\u7F6E\u80FD\u529B\u548C\u7075\u6D3B\u6027\uFF0C\u53EF\u4EE5\u7528\u6765\u5B9A\u5236 Webpack \u7684\u6253\u5305\u3001\u52A0\u8F7D\u548C\u8F6C\u6362\u884C\u4E3A\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-config-entry",children:"\u5982\u4F55\u914D\u7F6E\u591A\u5165\u53E3\u5E94\u7528\uFF0C \u4E14\u533A\u5206\u516C\u5171\u4F9D\u8D56\u7684\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u5728Webpack\u4E2D\u914D\u7F6E\u591A\u5165\u53E3\u5E94\u7528\u5E76\u533A\u5206\u516C\u5171\u4F9D\u8D56\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u6B65\u9AA4\u8FDB\u884C\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u5728Webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u4F7F\u7528entry\u5C5E\u6027\u6307\u5B9A\u591A\u4E2A\u5165\u53E3\u6587\u4EF6\uFF0C\u5E76\u4E3A\u6BCF\u4E2A\u5165\u53E3\u6587\u4EF6\u547D\u540D\u4E00\u4E2A\u552F\u4E00\u7684\u952E\u540D\u3002\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  entry: {\n    app1: './src/app1.js',\n    app2: './src/app2.js'\n  }\n  // \u5176\u4ED6\u914D\u7F6E\u9879...\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u9762\u7684\u914D\u7F6E\u6307\u5B9A\u4E86\u4E24\u4E2A\u5165\u53E3\u6587\u4EF6app1.js\u548Capp2.js\uFF0C\u5E76\u4E3A\u5B83\u4EEC\u5206\u522B\u6307\u5B9A\u4E86\u952E\u540Dapp1\u548Capp2\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528SplitChunks\u63D2\u4EF6\u8FDB\u884C\u516C\u5171\u4F9D\u8D56\u7684\u63D0\u53D6\u3002\u5728Webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // \u5176\u4ED6\u914D\u7F6E\u9879...\n  optimization: {\n    splitChunks: {\n      cacheGroups: {\n        commons: {\n          name: 'commons',\n          chunks: 'all',\n          minChunks: 2\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u9762\u7684\u914D\u7F6E\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528optimization.splitChunks.cacheGroups\u9009\u9879\u914D\u7F6E\u4E86\u4E00\u4E2A\u540D\u4E3Acommons\u7684\u7F13\u5B58\u7EC4\u3002\u8BE5\u7F13\u5B58\u7EC4\u5C06\u5BF9\u516C\u5171\u4F9D\u8D56\u8FDB\u884C\u63D0\u53D6\uFF0Cname\u5C5E\u6027\u6307\u5B9A\u4E86\u63D0\u53D6\u540E\u6587\u4EF6\u7684\u540D\u79F0\uFF0Cchunks\u5C5E\u6027\u6307\u5B9A\u4E86\u63D0\u53D6\u7684\u8303\u56F4\u4E3A\u6240\u6709\u7C7B\u578B\u7684\u5757\uFF08\u5165\u53E3\u6587\u4EF6\u548C\u5F02\u6B65\u52A0\u8F7D\u7684\u5757\uFF09\uFF0CminChunks\u5C5E\u6027\u6307\u5B9A\u4E86\u81F3\u5C11\u88AB\u5F15\u7528\u4E24\u6B21\u7684\u6A21\u5757\u624D\u4F1A\u88AB\u63D0\u53D6\u4E3A\u516C\u5171\u4F9D\u8D56\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"\u6DFB\u52A0output\u914D\u7F6E\uFF0C\u6307\u5B9A\u6253\u5305\u540E\u6587\u4EF6\u7684\u8F93\u51FA\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\u3002\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // \u5176\u4ED6\u914D\u7F6E\u9879...\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist')\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u9762\u7684\u914D\u7F6E\u4E2D\uFF0C\u4F7F\u7528[name]\u5360\u4F4D\u7B26\u6765\u52A8\u6001\u751F\u6210\u6839\u636E\u5165\u53E3\u6587\u4EF6\u7684\u952E\u540D\u751F\u6210\u5BF9\u5E94\u7684\u6587\u4EF6\u540D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u4EE5\u4E0A\u914D\u7F6E\uFF0CWebpack\u5C06\u4F1A\u6839\u636E\u6307\u5B9A\u7684\u591A\u4E2A\u5165\u53E3\u6587\u4EF6\u8FDB\u884C\u6253\u5305\uFF0C\u5E76\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u81EA\u52A8\u63D0\u53D6\u516C\u5171\u4F9D\u8D56\u4E3A\u4E00\u4E2A\u72EC\u7ACB\u7684\u6587\u4EF6\u3002\u4F8B\u5982\uFF0C\u5047\u8BBEapp1.js\u548Capp2.js\u90FD\u5F15\u7528\u4E86lodash\u5E93\uFF0C\u90A3\u4E48\u5728\u6253\u5305\u540E\u7684\u7ED3\u679C\u4E2D\uFF0Clodash\u5E93\u5C06\u4F1A\u88AB\u63D0\u53D6\u4E3Acommons.bundle.js\u6587\u4EF6\uFF0C\u800Capp1.js\u548Capp2.js\u5219\u5206\u522B\u751F\u6210\u5BF9\u5E94\u7684app1.bundle.js\u548Capp2.bundle.js\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u8FFD\u95EE"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u4E0A\u9762\u7684\u914D\u7F6E\uFF0C \u6700\u7EC8\u4F1A\u8F93\u51FA\u51E0\u4E2A\u6587\u4EF6\uFF1F"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6839\u636E\u4E0A\u8FF0\u7684\u6253\u5305\u914D\u7F6E\uFF0C\u6700\u7EC8\u5C06\u4F1A\u8F93\u51FA3\u4E2A\u6587\u4EF6\u3002\u5047\u8BBE\u914D\u7F6E\u7684\u591A\u5165\u53E3\u5E94\u7528\u6709\u4E24\u4E2A\u5165\u53E3\u6587\u4EF6app1.js\u548Capp2.js\uFF0C\u5E76\u4E14\u4E24\u4E2A\u5165\u53E3\u6587\u4EF6\u90FD\u5F15\u7528\u4E86lodash\u5E93\u4F5C\u4E3A\u516C\u5171\u4F9D\u8D56\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6839\u636E\u4E0A\u8FF0\u7684\u914D\u7F6E\uFF0CWebpack\u5C06\u4F1A\u8FDB\u884C\u4EE5\u4E0B\u64CD\u4F5C\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6839\u636Eentry\u914D\u7F6E\uFF0C\u5C06app1.js\u548Capp2.js\u4F5C\u4E3A\u5165\u53E3\u6587\u4EF6\u8FDB\u884C\u6253\u5305\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u9047\u5230\u516C\u5171\u4F9D\u8D56lodash\u5E93\u65F6\uFF0C\u4F7F\u7528SplitChunks\u63D2\u4EF6\u5C06\u5176\u63D0\u53D6\u4E3A\u72EC\u7ACB\u7684\u6587\u4EF6commons.bundle.js\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u6839\u636Eoutput\u914D\u7F6E\uFF0C\u5C06app1.js\u6253\u5305\u540E\u751F\u6210app1.bundle.js\uFF0C\u5C06app2.js\u6253\u5305\u540E\u751F\u6210app2.bundle.js\uFF0C\u5C06commons.bundle.js\u751F\u6210commons.bundle.js\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u6700\u7EC8\uFF0C\u5728\u8F93\u51FA\u8DEF\u5F84\u4E0B\u5C06\u4F1A\u751F\u62103\u4E2A\u6587\u4EF6\uFF1Aapp1.bundle.js\u3001app2.bundle.js\u548Ccommons.bundle.js\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-profile",children:"webpack \u4F18\u5316"}),"\n",(0,l.jsxs)(n.p,{children:["\u56F4\u7ED5 ",(0,l.jsx)(n.code,{children:"webpack"})," \u505A\u6027\u80FD\u4F18\u5316\uFF0C\u5206\u4E3A\u4E24\u4E2A\u65B9\u9762\uFF1A",(0,l.jsx)(n.code,{children:"\u6784\u5EFA\u65F6\u95F4\u4F18\u5316"}),"\u3001",(0,l.jsx)(n.code,{children:"\u6784\u5EFA\u4EA7\u7269\u4F18\u5316"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4F18\u5316\u6784\u5EFA\u65F6\u95F4\n",(0,l.jsx)(n.a,{href:"#%E7%BC%A9%E5%B0%8F%E8%8C%83%E5%9B%B4",children:"\u7F29\u5C0F\u8303\u56F4"}),"\n",(0,l.jsx)(n.a,{href:"#%E6%96%87%E4%BB%B6%E5%90%8E%E7%BC%80",children:"\u6587\u4EF6\u540E\u7F00"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%88%AB%E5%90%8D",children:"\u522B\u540D"}),"\n",(0,l.jsx)(n.a,{href:"#%E7%BC%93%E5%AD%98",children:"\u7F13\u5B58"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%B9%B6%E8%A1%8C%E6%9E%84%E5%BB%BA",children:"\u5E76\u884C\u6784\u5EFA"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%AE%9A%E5%90%91%E6%9F%A5%E6%89%BE%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97",children:"\u5B9A\u5411\u67E5\u627E\u7B2C\u4E09\u65B9\u6A21\u5757"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#%E6%9E%84%E5%BB%BA%E7%BB%93%E6%9E%9C%E4%BC%98%E5%8C%96",children:"\u6784\u5EFA\u4EA7\u7269"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%8E%8B%E7%BC%A9-js",children:"\u538B\u7F29 js"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%8E%8B%E7%BC%A9-css",children:"\u538B\u7F29 css"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%8E%8B%E7%BC%A9-html",children:"\u538B\u7F29 html"}),"\n",(0,l.jsx)(n.a,{href:"#%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87",children:"\u538B\u7F29\u56FE\u7247"}),"\n",(0,l.jsx)(n.a,{href:"#%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD",children:"\u6309\u9700\u52A0\u8F7D"}),"\n",(0,l.jsx)(n.a,{href:"#prloadprefetch",children:"prload\u3001prefetch"}),"\n",(0,l.jsx)(n.a,{href:"#%E4%BB%A3%E7%A0%81%E5%88%86%E5%89%B2",children:"\u4EE3\u7801\u5206\u5272"}),"\n",(0,l.jsx)(n.a,{href:"#tree-shaking",children:"tree shaking"}),"\n",(0,l.jsx)(n.a,{href:"#gzip",children:"gzip"}),"\n",(0,l.jsx)(n.a,{href:"#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%90%E5%8D%87",children:"\u4F5C\u7528\u57DF\u63D0\u5347"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6784\u5EFA\u65F6\u95F4\u4F18\u5316"}),"\n",(0,l.jsx)(n.p,{children:"\u7F29\u5C0F\u8303\u56F4"}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u4EEC\u5728\u4F7F\u7528 loader \u65F6\uFF0C\u53EF\u4EE5\u914D\u7F6E ",(0,l.jsx)(n.code,{children:"include"}),"\u3001",(0,l.jsx)(n.code,{children:"exclude"}),"\u7F29\u5C0F loader \u5BF9\u6587\u4EF6\u7684\u641C\u7D22\u8303\u56F4\uFF0C\u4EE5\u6B64\u6765\u63D0\u9AD8\u6784\u5EFA\u901F\u7387\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u50CF ",(0,l.jsx)(n.code,{children:"/node_moudles"})," \u76EE\u5F55\u4E0B\u7684\u4F53\u79EF\u8FA3\u4E48\u5927\uFF0C\u53C8\u662F\u7B2C\u4E09\u65B9\u5305\u7684\u5B58\u50A8\u76EE\u5F55\uFF0C\u76F4\u63A5 ",(0,l.jsx)(n.code,{children:"exclude"})," \u6389\u53EF\u4EE5\u8282\u7701\u4E00\u5B9A\u7684\u65F6\u95F4\u7684\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u7136 ",(0,l.jsx)(n.code,{children:"exclude"})," \u548C ",(0,l.jsx)(n.code,{children:"include"})," \u53EF\u4EE5\u4E00\u8D77\u914D\u7F6E\uFF0C\u5927\u90E8\u5206\u60C5\u51B5\u4E0B\u90FD\u662F\u53EA\u9700\u8981\u4F7F\u7528 loader \u7F16\u8BD1 src \u76EE\u5F55\u4E0B\u7684\u4EE3\u7801"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(|ts|tsx|js|jsx)$/,\n        // \u53EA\u89E3\u6790 src \u6587\u4EF6\u5939\u4E0B\u7684 ts\u3001tsx\u3001js\u3001jsx \u6587\u4EF6\n        // include \u53EF\u4EE5\u662F\u6570\u7EC4\uFF0C\u8868\u793A\u591A\u4E2A\u6587\u4EF6\u5939\u4E0B\u7684\u6A21\u5757\u90FD\u8981\u89E3\u6790\n        include: path.resolve(__dirname, '../src'),\n        use: ['thread-loader', 'babel-loader'],\n\n        // \u5F53\u7136\u4E5F\u53EF\u4EE5\u914D\u7F6E exclude\uFF0C\u8868\u793A loader \u89E3\u6790\u65F6\u4E0D\u4F1A\u7F16\u8BD1\u8FD9\u90E8\u5206\u6587\u4EF6\n        // \u540C\u6837 exclude \u4E5F\u53EF\u4EE5\u662F\u6570\u7EC4\n        exclude: /node_modules/\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD8\u9700\u6CE8\u610F\u4E00\u4E2A\u70B9\u5C31\u662F\u8981\u786E\u4FDD loader \u7684",(0,l.jsx)(n.code,{children:"\u51C6\u786E\u6027"}),"\uFF0C",(0,l.jsx)(n.strong,{children:"\u6BD4\u5982\u4E0D\u8981\u4F7F\u7528 less-loader \u53BB\u89E3\u6790 css \u6587\u4EF6"})]}),"\n",(0,l.jsx)(n.p,{children:"\u6587\u4EF6\u540E\u7F00"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"resolve.extensions"})," \u662F\u6211\u4EEC\u5E38\u7528\u7684\u4E00\u4E2A\u914D\u7F6E\uFF0C\u4ED6\u53EF\u4EE5\u5728\u5BFC\u5165\u8BED\u53E5\u6CA1\u6709\u5E26\u6587\u4EF6\u540E\u7F00\u65F6\uFF0C\u53EF\u4EE5\u6309\u7167\u914D\u7F6E\u7684\u5217\u8868\uFF0C\u81EA\u52A8\u8865\u4E0A\u540E\u7F00\u3002",(0,l.jsx)(n.strong,{children:"\u6211\u4EEC\u5E94\u8BE5\u6839\u636E\u6211\u4EEC\u9879\u76EE\u4E2D\u6587\u4EF6\u7684\u5B9E\u9645\u4F7F\u7528\u60C5\u51B5\u8BBE\u7F6E\u540E\u7F00\u5217\u8868\uFF0C\u5C06\u4F7F\u7528\u9891\u7387\u9AD8\u7684\u653E\u5728\u524D\u9762\u3001\u540C\u65F6\u540E\u7F00\u5217\u8868\u4E5F\u8981\u5C3D\u53EF\u80FD\u7684\u5C11\uFF0C\u51CF\u5C11\u6CA1\u6709\u5FC5\u8981\u7684\u5339\u914D"}),"\u3002\u540C\u65F6\uFF0C\u6211\u4EEC\u5728\u6E90\u7801\u4E2D\u5199\u5BFC\u5165\u8BED\u53E5\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u5E26\u4E0A\u540E\u7F00\uFF0C\u907F\u514D\u67E5\u627E\u5339\u914D\u6D6A\u8D39\u65F6\u95F4\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.export = {\n  resolve: {\n    // \u6309\u7167 tsx\u3001ts\u3001jsx\u3001js \u7684\u987A\u5E8F\u5339\u914D\uFF0C\u82E5\u6CA1\u5339\u914D\u5230\u5219\u62A5\u9519\n    extensions: ['.tsx', '.ts', '.jsx', '.js']\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u522B\u540D"}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u914D\u7F6E ",(0,l.jsx)(n.code,{children:"resolve.alias"})," \u522B\u540D\u7684\u65B9\u5F0F\uFF0C\u51CF\u5C11\u5F15\u7528\u6587\u4EF6\u7684\u8DEF\u5F84\u590D\u6742\u5EA6"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// \u5F15\u5165 src \u4E0B\u7684\u67D0\u4E2A\u6A21\u5757\u65F6\nimport XXX from '@/xxx/xxx.tsx'\n\nmodule.exports = {\n  resolve: {\n    alias: {\n      // \u628A src \u6587\u4EF6\u5939\u522B\u540D\u4E3A @\n      // \u5F15\u5165 src \u4E0B\u7684\u6587\u4EF6\u5C31\u53EF\u4EE5 import xxx from '@/xxx'\n      '@': path.join(__dirname, '../src')\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u7F13\u5B58"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u4F18\u5316\u7684\u65B9\u6848\u4E2D\uFF0C\u7F13\u5B58\u4E5F\u662F\u5176\u4E2D\u91CD\u8981\u7684\u4E00\u73AF\u3002\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C\u5F00\u542F\u7F13\u5B58\u63D0\u5347\u4E8C\u6B21\u6253\u5305\u901F\u5EA6\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u9879\u76EE\u4E2D\uFF0Cjs \u6587\u4EF6\u662F\u5360\u5927\u5934\u7684\uFF0C\u5F53\u9879\u76EE\u8D8A\u6765\u8D8A\u5927\u65F6\uFF0C\u5982\u679C\u6BCF\u6B21\u90FD\u9700\u8981\u53BB\u7F16\u8BD1 JS \u4EE3\u7801\uFF0C\u90A3\u4E48\u6784\u5EFA\u7684\u901F\u5EA6\u80AF\u5B9A\u4F1A\u5F88\u6162\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u914D\u7F6E ",(0,l.jsx)(n.code,{children:"babel-loader"})," \u7684\u7F13\u5B58\u914D\u7F6E\u9879 ",(0,l.jsx)(n.code,{children:"cacheDirectory"})," \u6765\u7F13\u5B58\u6CA1\u6709\u53D8\u8FC7\u7684 js \u4EE3\u7801"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /.jsx?$/,\n        use: [\n          {\n            loader: 'babel-loader',\n            options: {\n              cacheDirectory: true\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0A\u9762\u7684\u7F13\u5B58\u4F18\u5316\u53EA\u662F\u9488\u5BF9\u50CF ",(0,l.jsx)(n.code,{children:"babel-loader"})," \u8FD9\u6837\u53EF\u4EE5\u914D\u7F6E\u7F13\u5B58\u7684 loader\uFF0C\u90A3\u6CA1\u6709\u7F13\u5B58\u914D\u7F6E\u7684 loader \u8BE5\u600E\u4E48\u4F7F\u7528\u7F13\u5B58\u5462\uFF0C\u6B64\u65F6\u9700\u8981 ",(0,l.jsx)(n.code,{children:"cache-loader"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /.jsx?$/,\n        use: [\n          'cache-loader',\n          'babel-loader'\n        ]\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7F16\u8BD1\u540E\u540C\u6837\u591A\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"/node_modules/.cache/cache-loader"})," \u7F13\u5B58\u76EE\u5F55"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u7136\u8FD8\u6709\u4E00\u79CD\u65B9\u5F0F\uFF0C",(0,l.jsx)(n.code,{children:"webpack5"}),"\u76F4\u63A5\u63D0\u4F9B\u4E86 ",(0,l.jsx)(n.code,{children:"cache"})," \u914D\u7F6E\u9879\uFF0C\u5F00\u542F\u540E\u5373\u53EF\u7F13\u5B58"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  cache: {\n    type: 'filesystem'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7F16\u8BD1\u540E\u4F1A\u591A\u51FA ",(0,l.jsx)(n.code,{children:"/node_modules/.cache/webpack"})," \u7F13\u5B58\u76EE\u5F55"]}),"\n",(0,l.jsx)(n.p,{children:"\u5E76\u884C\u6784\u5EFA"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u8FD0\u884C\u5728",(0,l.jsx)(n.code,{children:"Node"}),"\u91CC\u7684",(0,l.jsx)(n.code,{children:"webpack"}),"\u662F\u5355\u7EBF\u7A0B\u7684\uFF0C\u6240\u4EE5\u4E00\u6B21\u6027\u53EA\u80FD\u5E72\u4E00\u4EF6\u4E8B\uFF0C\u90A3\u5982\u679C\u5229\u7528\u7535\u8111\u7684\u591A\u6838\u4F18\u52BF\uFF0C\u4E5F\u80FD\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6 \uFF1F",(0,l.jsx)(n.a,{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Fthread-loader",title:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Fthread-loader",children:"thread-loader"}),"\u53EF\u4EE5\u5F00\u542F\u591A\u8FDB\u7A0B\u6253\u5305"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /.jsx?$/,\n        use: [\n          // \u5F00\u542F\u591A\u8FDB\u7A0B\u6253\u5305\u3002\n          {\n            loader: 'thread-loader',\n            options: {\n              workers: 3 // \u5F00\u542F 3\u4E2A \u8FDB\u7A0B\n            }\n          },\n          {\n            loader: 'babel-loader'\n          }\n        ]\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u653E\u7F6E\u5728\u8FD9\u4E2A ",(0,l.jsx)(n.code,{children:"thread-loader"})," \u4E4B\u540E\u7684 loader \u5C31\u4F1A\u5728\u4E00\u4E2A\u5355\u72EC\u7684 worker \u6C60(worker pool) \u4E2D\u8FD0\u884C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6BCF\u4E2A worker \u90FD\u662F\u4E00\u4E2A\u5355\u72EC\u7684\u6709 600ms \u9650\u5236\u7684 ",(0,l.jsx)(n.code,{children:"node.js"})," \u8FDB\u7A0B\u3002\u540C\u65F6\u8DE8\u8FDB\u7A0B\u7684\u6570\u636E\u4EA4\u6362\u4E5F\u4F1A\u88AB\u9650\u5236\u3002\u6240\u4EE5\u5EFA\u8BAE\u4EC5\u5728\u8017\u65F6\u7684 loader \u4E0A\u4F7F\u7528\u3002\u82E5\u9879\u76EE\u6587\u4EF6\u4E0D\u7B97\u591A\u5C31\u4E0D\u8981\u4F7F\u7528\uFF0C\u6BD5\u7ADF\u5F00\u542F\u591A\u4E2A\u7EBF\u7A0B\u4E5F\u4F1A\u5B58\u5728\u6027\u80FD\u5F00\u9500\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5B9A\u5411\u67E5\u627E\u7B2C\u4E09\u65B9\u6A21\u5757"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"resolve.modules"})," \u914D\u7F6E\u7528\u4E8E\u6307\u5B9A ",(0,l.jsx)(n.code,{children:"webpack"})," \u53BB\u54EA\u4E9B\u76EE\u5F55\u4E0B\u5BFB\u627E\u7B2C\u4E09\u65B9\u6A21\u5757\u3002\u9ED8\u8BA4\u503C\u662F ",(0,l.jsx)(n.code,{children:"['node_modules']"}),"\u3002\u800C\u5728\u5F15\u5165\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u4F1A\u4EE5 ",(0,l.jsx)(n.code,{children:"node \u6838\u5FC3\u6A21\u5757 -----\x3e node_modules ------\x3e node\u5168\u5C40\u6A21\u5757"})," \u7684\u987A\u5E8F\u67E5\u627E\u6A21\u5757\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u4EEC\u901A\u8FC7\u914D\u7F6E resolve.modules \u6307\u5B9A webpack \u641C\u7D22\u7B2C\u4E09\u65B9\u6A21\u5757\u7684\u8303\u56F4\uFF0C\u63D0\u9AD8\u6784\u5EFA\u901F\u7387"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.export = {\n  resolve: {\n    modules: [path.resolve(__dirname, 'node_modules')]\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6784\u5EFA\u4EA7\u7269\u4F18\u5316"}),"\n",(0,l.jsx)(n.p,{children:"\u538B\u7F29 js"}),"\n",(0,l.jsxs)(n.p,{children:["webpack5\u7684\u8BDD\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"terser-webpack-plugin"})," \u6765\u538B\u7F29 JS\uFF0C\u4F46\u5728\u914D\u7F6E\u4E86 ",(0,l.jsx)(n.code,{children:"mode: production"})," \u65F6\uFF0C\u4F1A\u9ED8\u8BA4\u5F00\u542F"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const TerserPlugin = require('terser-webpack-plugin')\n\nmodule.exports = {\n  optimization: {\n    // \u5F00\u542F\u538B\u7F29\n    minimize: true,\n    // \u538B\u7F29\u5DE5\u5177\n    minimizer: [\n      new TerserPlugin({})\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\u4E00\u4E2A\u5730\u65B9\uFF1A\u751F\u4EA7\u73AF\u5883\u4F1A\u9ED8\u8BA4\u914D\u7F6E",(0,l.jsx)(n.code,{children:"terser-webpack-plugin"}),"\uFF0C\u6240\u4EE5\u5982\u679C\u4F60\u8FD8\u6709\u5176\u5B83\u538B\u7F29\u63D2\u4EF6\u4F7F\u7528\u7684\u8BDD\u9700\u8981\u5C06",(0,l.jsx)(n.code,{children:"TerserPlugin"}),"\u663E\u793A\u914D\u7F6E\u6216\u8005\u4F7F\u7528",(0,l.jsx)(n.code,{children:"..."}),"\uFF0C\u5426\u5219",(0,l.jsx)(n.code,{children:"terser-webpack-plugin"}),"\u4F1A\u88AB\u8986\u76D6\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const TerserPlugin = require('terser-webpack-plugin')\n\nconst config = {\n  optimization: {\n    minimizer: [\n      new TerserPlugin({}), // \u663E\u793A\u914D\u7F6E\n      // \"...\", // \u6216\u8005\u4F7F\u7528\u5C55\u5F00\u7B26\uFF0C\u542F\u7528\u9ED8\u8BA4\u63D2\u4EF6\n      // \u5176\u5B83\u538B\u7F29\u63D2\u4EF6\n      new CssMinimizerPlugin()\n    ]\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u538B\u7F29 css"}),"\n",(0,l.jsxs)(n.p,{children:["\u538B\u7F29 css \u6211\u4EEC\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"css-minimizer-webpack-plugin"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u540C\u65F6\uFF0C\u5E94\u8BE5\u628A css \u63D0\u53D6\u6210\u5355\u72EC\u7684\u6587\u4EF6\uFF0C\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"mini-css-extract-plugin"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const MiniCssExtractPlugin = require('mini-css-extract-plugin')\nconst CssMinimizerPlugin = require('css-minimizer-webpack-plugin')\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          // \u63D0\u53D6\u6210\u5355\u72EC\u7684\u6587\u4EF6\n          MiniCssExtractPlugin.loader,\n          'css-loader'\n        ],\n        exclude: /node_modules/\n      }\n    ]\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      // \u5B9A\u4E49\u8F93\u51FA\u6587\u4EF6\u540D\u548C\u76EE\u5F55\n      filename: 'asset/css/main.css'\n    })\n  ],\n  optimization: {\n    minimize: true,\n    minimizer: [\n      // \u538B\u7F29 css\n      new CssMinimizerPlugin({})\n    ]\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u538B\u7F29 html"}),"\n",(0,l.jsxs)(n.p,{children:["\u538B\u7F29 ",(0,l.jsx)(n.code,{children:"html"})," \u4F7F\u7528\u7684\u8FD8\u662F ",(0,l.jsx)(n.code,{children:"html-webpack-plugin"})," \u63D2\u4EF6\u3002\u8BE5\u63D2\u4EF6\u652F\u6301\u914D\u7F6E\u4E00\u4E2A ",(0,l.jsx)(n.a,{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fkangax%2Fhtml-minifier%23options-quick-reference",title:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fkangax%2Fhtml-minifier%23options-quick-reference",children:"minify"})," \u5BF9\u8C61\uFF0C\u7528\u6765\u914D\u7F6E\u538B\u7F29 ",(0,l.jsx)(n.code,{children:"html"}),"\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.export = {\n  plugins: [\n    new HtmlWebpackPlugin({\n      // \u52A8\u6001\u751F\u6210 html \u6587\u4EF6\n      template: './index.html',\n      minify: {\n        // \u538B\u7F29HTML\n        removeComments: true, // \u79FB\u9664HTML\u4E2D\u7684\u6CE8\u91CA\n        collapseWhitespace: true, // \u5220\u9664\u7A7A\u2F69\u7B26\u4E0E\u6362\u2F8F\u7B26\n        minifyCSS: true // \u538B\u7F29\u5185\u8054css\n      }\n    })\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u538B\u7F29\u56FE\u7247"}),"\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"image-webpack-loader"})," \u6765\u5B9E\u73B0"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(png|jpg|gif|jpeg|webp|svg)$/,\n        use: [\n          'file-loader',\n          {\n            loader: 'image-webpack-loader',\n            options: {\n              mozjpeg: {\n                progressive: true\n              },\n              optipng: {\n                enabled: false\n              },\n              pngquant: {\n                quality: [0.65, 0.9],\n                speed: 4\n              },\n              gifsicle: {\n                interlaced: false\n              }\n            }\n          }\n        ],\n        exclude: /node_modules/ // \u6392\u9664 node_modules \u76EE\u5F55\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6309\u9700\u52A0\u8F7D"}),"\n",(0,l.jsxs)(n.p,{children:["\u5F88\u591A\u65F6\u5019\u6211\u4EEC\u4E0D\u9700\u8981\u4E00\u6B21\u6027\u52A0\u8F7D\u6240\u6709\u7684",(0,l.jsx)(n.code,{children:"JS"}),"\u6587\u4EF6\uFF0C\u800C\u5E94\u8BE5\u5728\u4E0D\u540C\u9636\u6BB5\u53BB\u52A0\u8F7D\u6240\u9700\u8981\u7684\u4EE3\u7801\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5C06\u8DEF\u7531\u9875\u9762/\u89E6\u53D1\u6027\u529F\u80FD\u5355\u72EC\u6253\u5305\u4E3A\u4E00\u4E2A\u6587\u4EF6\uFF0C\u4F7F\u7528\u65F6\u624D\u52A0\u8F7D"}),"\uFF0C\u597D\u5904\u662F",(0,l.jsx)(n.code,{children:"\u51CF\u8F7B\u9996\u5C4F\u6E32\u67D3\u7684\u8D1F\u62C5"}),"\u3002\u56E0\u4E3A\u9879\u76EE\u529F\u80FD\u8D8A\u591A\u5176\u6253\u5305\u4F53\u79EF\u8D8A\u5927\uFF0C\u5BFC\u81F4\u9996\u5C4F\u6E32\u67D3\u901F\u5EA6\u8D8A\u6162\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5B9E\u9645\u9879\u76EE\u4E2D\u5927\u90E8\u5206\u662F\u5BF9\u61D2\u52A0\u8F7D\u8DEF\u7531\uFF0C\u800C\u61D2\u52A0\u8F7D\u8DEF\u7531\u53EF\u4EE5\u6253\u5305\u5230\u4E00\u4E2A chunk \u91CC\u9762\u3002\u6BD4\u5982\u67D0\u4E2A\u5217\u8868\u9875\u548C\u7F16\u8F91\u9875\u5B83\u4EEC\u4E4B\u95F4\u5B58\u5728\u76F8\u4E92\u8DF3\u8F6C\uFF0C\u5982\u679C\u5BF9\u5B83\u4EEC\u62C6\u5206\u6210\u4E24\u4E2A ",(0,l.jsx)(n.code,{children:"import()"})," js \u8D44\u6E90\u52A0\u8F7D\u6A21\u5757\uFF0C\u5728\u8DF3\u8F6C\u8FC7\u7A0B\u4E2D\u89C6\u56FE\u4F1A\u51FA\u73B0\u767D\u5C4F\u5207\u6362\u8FC7\u7A0B\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56E0\u4E3A\u5728\u8DF3\u8F6C\u671F\u95F4\uFF0C\u6D4F\u89C8\u5668\u4F1A\u52A8\u6001\u521B\u5EFA script \u6807\u7B7E\u6765\u52A0\u8F7D\u8FD9\u4E2A ",(0,l.jsx)(n.code,{children:"chunk"})," \u6587\u4EF6\uFF0C\u5728\u8FD9\u671F\u95F4\uFF0C\u9875\u9762\u662F\u6CA1\u6709\u4EFB\u4F55\u5185\u5BB9\u7684\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6240\u4EE5\u4E00\u822C\u4F1A\u628A\u8DEF\u7531\u61D2\u52A0\u8F7D\u6253\u5305\u5230\u4E00\u4E2A chunk \u91CC\u9762"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const List = lazyComponent('list', () => import(/* webpackChunkName: \"list\" */ '@/pages/list'))\nconst Edit = lazyComponent('edit', () => import(/* webpackChunkName: \"list\" */ '@/pages/edit'))\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4F46\u9700\u8981\u6CE8\u610F\u4E00\u70B9\uFF1A",(0,l.jsxs)(n.strong,{children:["\u52A8\u6001\u5BFC\u5165 import() \u4E00\u4E2A\u6A21\u5757\uFF0C\u8FD9\u4E2A\u6A21\u5757\u5C31\u4E0D\u80FD\u518D\u51FA\u73B0\u88AB\u5176\u4ED6\u6A21\u5757\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"\u540C\u6B65 import"})," \u65B9\u5F0F\u5BFC\u5165\u3002"]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u6BD4\u5982\uFF0C\u4E00\u4E2A\u8DEF\u7531\u6A21\u5757\u5728\u6CE8\u518C ",(0,l.jsx)(n.code,{children:"<Route />"})," \u65F6\u91C7\u7528\u52A8\u6001 import() \u5BFC\u5165\uFF0C\u4F46\u5728\u8FD9\u4E2A\u6A21\u5757\u5BF9\u5916\u66B4\u9732\u4E86\u4E00\u4E9B\u53D8\u91CF\u65B9\u6CD5\u4F9B\u5176\u4ED6\u5B50\u6A21\u5757\u4F7F\u7528\uFF0C\u5728\u8FD9\u4E9B\u5B50\u6A21\u5757\u4E2D\u4F7F\u7528\u4E86\u540C\u6B65 ESModule import \u65B9\u5F0F\u5F15\u5165\uFF0C\u8FD9\u5C31\u9020\u6210\u4E86 ",(0,l.jsx)(n.code,{children:"\u52A8\u6001 import()"})," \u7684\u5931\u6548\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"prload\u3001prefetch"}),"\n",(0,l.jsxs)(n.p,{children:["\u5BF9\u4E8E\u67D0\u4E9B\u8F83\u5927\u7684\u6A21\u5757\uFF0C\u5982\u679C\u70B9\u51FB\u65F6\u518D\u52A0\u8F7D\uFF0C\u90A3\u53EF\u80FD\u54CD\u5E94\u7684\u65F6\u95F4\u53CD\u800C\u5EF6\u957F\u3002\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"prefetch"}),"\u3001",(0,l.jsx)(n.code,{children:"preload"})," \u53BB\u52A0\u8F7D\u8FD9\u4E9B\u6A21\u5757"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"prefetch"}),"\uFF1A\u5C06\u6765\u53EF\u80FD\u9700\u8981\u4E00\u4E9B\u6A21\u5757\u8D44\u6E90\uFF08\u4E00\u822C\u662F\u5176\u4ED6\u9875\u9762\u7684\u4EE3\u7801\uFF09\uFF0C\u5728\u6838\u5FC3\u4EE3\u7801\u52A0\u8F7D\u5B8C\u6210\u4E4B\u540E",(0,l.jsx)(n.code,{children:"\u5E26\u5BBD\u7A7A\u95F2"}),"\u7684\u65F6\u5019\u518D\u53BB\u52A0\u8F7D\u9700\u8981\u7528\u5230\u7684\u6A21\u5757\u4EE3\u7801\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"preload"}),"\uFF1A\u5F53\u524D\u6838\u5FC3\u4EE3\u7801\u52A0\u8F7D\u671F\u95F4\u53EF\u80FD\u9700\u8981\u6A21\u5757\u8D44\u6E90\uFF08",(0,l.jsx)(n.strong,{children:"\u5F53\u524D\u9875\u9762\u9700\u8981\u7684\u4F46\u6682\u65F6\u8FD8\u6CA1\u4F7F\u7528\u5230\u7684"}),"\uFF09\uFF0C\u5176\u662F\u548C\u6838\u5FC3\u4EE3\u7801\u6587\u4EF6\u4E00\u8D77\u53BB\u52A0\u8F7D\u7684\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u53EA\u9700\u8981\u901A\u8FC7",(0,l.jsx)(n.code,{children:"\u9B54\u6CD5\u6CE8\u91CA"}),"\u5373\u53EF\u5B9E\u73B0\uFF0C\u4EE5 ",(0,l.jsx)(n.code,{children:"prefetch"})," \u4E3A\u4F8B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"document.getElementById('btn1').onclick = function () {\n  import(\n    // webpackChunkName: \"btnChunk\" */\n    // webpackPrefetch: true*/\n    './module1.js'\n  ).then(fn => fn.default())\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u884C\u4EE3\u7801\u8868\u793A\u5728\u6D4F\u89C8\u5668\u7A7A\u95F2\u65F6\u52A0\u8F7D module1.js \u6A21\u5757\uFF0C\u5E76\u4E14\u5355\u72EC\u62C6\u4E00\u4E2A chunk\uFF0C\u53EB\u505A btnChunk"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2e2b2771db547138ed818cd33d23139~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?",alt:"image.png"})}),"\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u770B\u5230\uFF0C\u5728",(0,l.jsx)(n.code,{children:"head"}),"\u91CC\u9762\uFF0C\u6211\u4EEC\u7684\u61D2\u52A0\u8F7D\u6A21\u5757\u88AB\u76F4\u63A5\u5F15\u5165\u4E86\uFF0C\u5E76\u4E14\u52A0\u4E0A\u4E86",(0,l.jsx)(n.code,{children:"rel='prefetch'"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\uFF0C\u9875\u9762\u9996\u6B21\u52A0\u8F7D\u7684\u65F6\u5019\uFF0C\u6D4F\u89C8\u5668\u7A7A\u95F2\u7684\u4F1A\u540E\u4F1A\u63D0\u524D\u52A0\u8F7D",(0,l.jsx)(n.code,{children:"module1.js"}),"\u3002\u5F53\u6211\u4EEC\u70B9\u51FB\u6309\u94AE\u7684\u65F6\u5019\uFF0C\u4F1A\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u8BE5\u6587\u4EF6\uFF0C\u56E0\u6B64\u901F\u5EA6\u975E\u5E38\u5FEB\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95cd9e7ee4b345ec8ef5eca12947f650~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?",alt:"image.png"})}),"\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u5206\u5272"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u9879\u76EE\u4E2D\uFF0C\u4E00\u822C\u662F\u4F7F\u7528\u540C\u4E00\u5957\u6280\u672F\u6808\u548C\u516C\u5171\u8D44\u6E90\u3002",(0,l.jsx)(n.strong,{children:"\u5982\u679C\u6BCF\u4E2A\u9875\u9762\u7684\u4EE3\u7801\u4E2D\u90FD\u6709\u8FD9\u4E9B\u516C\u5F00\u8D44\u6E90\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u8D44\u6E90\u7684\u6D6A\u8D39"}),"\u3002\u5728\u6BCF\u4E00\u4E2A\u9875\u9762\u4E0B\u90FD\u4F1A\u52A0\u8F7D\u91CD\u590D\u7684\u516C\u5171\u8D44\u6E90\uFF0C\u4E00\u662F\u4F1A\u6D6A\u8D39\u7528\u6237\u7684\u6D41\u91CF\uFF0C\u4E8C\u662F\u4E0D\u5229\u4E8E\u9879\u76EE\u7684\u6027\u80FD\uFF0C\u9020\u6210\u9875\u9762\u52A0\u8F7D\u7F13\u6162\uFF0C\u5F71\u54CD\u7528\u6237\u4F53\u9A8C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E00\u822C\u662F\u628A\u4E0D\u53D8\u7684",(0,l.jsx)(n.strong,{children:"\u7B2C\u4E09\u65B9\u5E93"}),"\u3001",(0,l.jsx)(n.strong,{children:"\u4E00\u4E9B\u516C\u5171\u6A21\u5757"}),"\uFF08\u6BD4\u5982 util.js\uFF09\u8FD9\u4E9B\u5355\u72EC\u62C6\u6210\u4E00\u4E2A chunk\uFF0C\u5728\u8BBF\u95EE\u9875\u9762\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u4E00\u76F4\u4F7F\u7528\u6D4F\u89C8\u5668\u7F13\u5B58\u4E2D\u7684\u8D44\u6E90"]}),"\n",(0,l.jsxs)(n.p,{children:["webpack \u91CC\u9762\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"splitChunks"})," \u6765\u5206\u5272\u4EE3\u7801"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    splitChunks: {\n      chunks: 'async', // \u503C\u6709 `all`\uFF0C`async` \u548C `initial`\n      minSize: 20000, // \u751F\u6210 chunk \u7684\u6700\u5C0F\u4F53\u79EF\uFF08\u4EE5 bytes \u4E3A\u5355\u4F4D\uFF09\u3002\n      minRemainingSize: 0,\n      minChunks: 1, // \u62C6\u5206\u524D\u5FC5\u987B\u5171\u4EAB\u6A21\u5757\u7684\u6700\u5C0F chunks \u6570\u3002\n      maxAsyncRequests: 30, // \u6309\u9700\u52A0\u8F7D\u65F6\u7684\u6700\u5927\u5E76\u884C\u8BF7\u6C42\u6570\u3002\n      maxInitialRequests: 30, // \u5165\u53E3\u70B9\u7684\u6700\u5927\u5E76\u884C\u8BF7\u6C42\u6570\u3002\n      enforceSizeThreshold: 50000,\n      cacheGroups: {\n        defaultVendors: {\n          test: /[/]node_modules[/]/, // \u7B2C\u4E09\u65B9\u6A21\u5757\u62C6\u51FA\u6765\n          priority: -10,\n          reuseExistingChunk: true\n        },\n        vendors: {\n          test: /[/]utils[/]/, // \u516C\u5171\u6A21\u5757\u62C6\u51FA\u6765\n          minChunks: 2,\n          priority: -20,\n          reuseExistingChunk: true\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"tree shaking"}),"\n",(0,l.jsxs)(n.p,{children:["tree shaking \u7684\u539F\u7406\u7EC6\u8282\u53EF\u4EE5\u770B\u8FD9\u7BC7\u6587\u7AE0",(0,l.jsx)(n.a,{href:"https://juejin.cn/post/7246219936594821180",title:"https://juejin.cn/post/7246219936594821180",children:"\uFF1A# webpack tree-shaking\u89E3\u6790"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"tree shaking"}),"\u5728",(0,l.jsx)(n.strong,{children:"\u751F\u4EA7\u6A21\u5F0F\u4E0B\u5DF2\u7ECF\u9ED8\u8BA4\u5F00\u542F\u4E86"})]}),"\n",(0,l.jsx)(n.p,{children:"\u53EA\u662F\u9700\u8981\u6CE8\u610F\u4E0B\u9762\u51E0\u70B9\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u53EA\u5BF9",(0,l.jsx)(n.code,{children:"ESM"}),"\u751F\u6548"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53EA\u80FD\u662F\u9759\u6001\u58F0\u660E\u548C\u5F15\u7528\u7684 ",(0,l.jsx)(n.code,{children:"ES6"})," \u6A21\u5757\uFF0C\u4E0D\u80FD\u662F\u52A8\u6001\u5F15\u5165\u548C\u58F0\u660E\u7684\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u53EA\u80FD\u5904\u7406\u6A21\u5757\u7EA7\u522B\uFF0C\u4E0D\u80FD\u5904\u7406\u51FD\u6570\u7EA7\u522B\u7684\u5197\u4F59\u3002"}),"\n",(0,l.jsxs)(n.li,{children:["\u53EA\u80FD\u5904\u7406 ",(0,l.jsx)(n.code,{children:"JS"})," \u76F8\u5173\u5197\u4F59\u4EE3\u7801\uFF0C\u4E0D\u80FD\u5904\u7406 ",(0,l.jsx)(n.code,{children:"CSS"})," \u5197\u4F59\u4EE3\u7801\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u800C\u53EF\u80FD\u6837\u5F0F\u6587\u4EF6\u91CC\u9762\u6709\u4E9B\u4EE3\u7801\u6211\u4EEC\u4E5F\u6CA1\u6709\u4F7F\u7528\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(n.code,{children:"purgecss-webpack-plugin"})," \u63D2\u4EF6\u6765\u5BF9 css \u8FDB\u884C tree shaking"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const path = require('path')\nconst PurgecssPlugin = require('purgecss-webpack-plugin')\nconst glob = require('glob') // \u6587\u4EF6\u5339\u914D\u6A21\u5F0F\n\nmodule.exports = {\n  // ...\n  plugins: [\n    ...new PurgeCSSPlugin({\n      paths: glob.sync(`${PATH.src}/**/*`, { nodir: true })\n    })\n\n    // Add your plugins here\n    // Learn more about plugins from https://webpack.js.org/configuration/plugins/\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"gzip"}),"\n",(0,l.jsxs)(n.p,{children:["\u524D\u7AEF\u9664\u4E86\u5728\u6253\u5305\u7684\u65F6\u5019\u5C06\u65E0\u7528\u7684\u4EE3\u7801\u6216\u8005 ",(0,l.jsx)(n.code,{children:"console"}),"\u3001\u6CE8\u91CA\u5254\u9664\u4E4B\u5916\u3002\u6211\u4EEC\u8FD8\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"Gzip"})," \u5BF9\u8D44\u6E90\u8FDB\u884C\u8FDB\u4E00\u6B65\u538B\u7F29\u3002\u90A3\u4E48\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u7AEF\u662F\u5982\u4F55\u901A\u4FE1\u6765\u652F\u6301 ",(0,l.jsx)(n.code,{children:"Gzip"})," \u5462\uFF1F"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5F53\u7528\u6237\u8BBF\u95EE web \u7AD9\u70B9\u7684\u65F6\u5019\uFF0C\u4F1A\u5728 ",(0,l.jsx)(n.code,{children:"request header"})," \u4E2D\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"accept-encoding:gzip"}),"\uFF0C\u8868\u660E\u6D4F\u89C8\u5668\u662F\u5426\u652F\u6301 ",(0,l.jsx)(n.code,{children:"Gzip"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u670D\u52A1\u5668\u5728\u6536\u5230\u8BF7\u6C42\u540E\uFF0C\u5224\u65AD\u5982\u679C\u9700\u8981\u8FD4\u56DE ",(0,l.jsx)(n.code,{children:"Gzip"})," \u538B\u7F29\u540E\u7684\u6587\u4EF6\u90A3\u4E48\u670D\u52A1\u5668\u5C31\u4F1A\u5148\u5C06\u6211\u4EEC\u7684 ",(0,l.jsx)(n.code,{children:"JS\\CSS"})," \u7B49\u5176\u4ED6\u8D44\u6E90\u6587\u4EF6\u8FDB\u884C ",(0,l.jsx)(n.code,{children:"Gzip"})," \u538B\u7F29\u540E\u518D\u4F20\u8F93\u5230\u5BA2\u6237\u7AEF\uFF0C\u540C\u65F6\u5C06 ",(0,l.jsx)(n.code,{children:"response headers"})," \u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"content-encoding:gzip"}),"\u3002\u53CD\u4E4B\uFF0C\u5219\u8FD4\u56DE\u6E90\u6587\u4EF6\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u5728\u63A5\u6536\u5230\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u6587\u4EF6\u540E\uFF0C\u5224\u65AD\u670D\u52A1\u7AEF\u8FD4\u56DE\u7684\u5185\u5BB9\u662F\u5426\u4E3A\u538B\u7F29\u8FC7\u7684\u5185\u5BB9\uFF0C\u662F\u7684\u8BDD\u5219\u8FDB\u884C\u89E3\u538B\u64CD\u4F5C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E00\u822C\u60C5\u51B5\u4E0B\u6211\u4EEC\u5E76\u4E0D\u4F1A\u8BA9\u670D\u52A1\u5668\u5B9E\u65F6 ",(0,l.jsx)(n.code,{children:"Gzip"})," \u538B\u7F29\uFF0C\u800C\u662F\u5229\u7528",(0,l.jsx)(n.code,{children:"webpack"}),"\u63D0\u524D\u5C06\u9759\u6001\u8D44\u6E90\u8FDB\u884C",(0,l.jsx)(n.code,{children:"Gzip"})," \u538B\u7F29\uFF0C\u7136\u540E\u5C06",(0,l.jsx)(n.code,{children:"Gzip"})," \u8D44\u6E90\u653E\u5230\u670D\u52A1\u5668\uFF0C\u5F53\u8BF7\u6C42\u9700\u8981\u7684\u65F6\u5019\u76F4\u63A5\u5C06",(0,l.jsx)(n.code,{children:"Gzip"})," \u8D44\u6E90\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u4EEC\u53EA\u9700\u8981\u5B89\u88C5 ",(0,l.jsx)(n.code,{children:"compression-webpack-plugin"})," \u5E76\u5728",(0,l.jsx)(n.code,{children:"plugins"}),"\u914D\u7F6E\u5C31\u53EF\u4EE5\u4E86"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const CompressionWebpackPlugin = require('compression-webpack-plugin') // \u9700\u8981\u5B89\u88C5\n\nmodule.exports = {\n  plugins: [\n    new CompressionWebpackPlugin()\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F5C\u7528\u57DF\u63D0\u5347"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Scope Hoisting"})," \u53EF\u4EE5\u8BA9 ",(0,l.jsx)(n.code,{children:"webpack"})," \u6253\u5305\u51FA\u6765\u7684\u4EE3\u7801\u6587\u4EF6\u4F53\u79EF\u66F4\u5C0F\uFF0C\u8FD0\u884C\u66F4\u5FEB\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5F00\u542F ",(0,l.jsx)(n.code,{children:"Scope Hoisting"}),"\u540E\uFF0C",(0,l.jsx)(n.strong,{children:"\u6784\u5EFA\u540E\u7684\u4EE3\u7801\u4F1A\u6309\u7167\u5F15\u5165\u987A\u5E8F\u653E\u5230\u4E00\u4E2A\u51FD\u6570\u4F5C\u7528\u57DF\u91CC\uFF0C\u901A\u8FC7\u9002\u5F53\u91CD\u547D\u540D\u67D0\u4E9B\u53D8\u91CF\u4EE5\u9632\u6B62\u53D8\u91CF\u540D\u51B2\u7A81"}),"\uFF0C\u4ECE\u800C\u51CF\u5C11\u51FD\u6570\u58F0\u660E\u548C\u5185\u5B58\u82B1\u9500\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\uFF1A",(0,l.jsx)(n.code,{children:"Scope Hoisting"})," \u9700\u8981\u5206\u6790\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u6240\u4EE5\u6E90\u7801\u5FC5\u987B\u91C7\u7528 ES6 \u6A21\u5757\u5316\u8BED\u6CD5"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Scope Hoisting"})," \u662F webpack \u5185\u7F6E\u529F\u80FD\uFF0C\u53EA\u9700\u8981\u5728",(0,l.jsx)(n.code,{children:"plugins"}),"\u91CC\u9762\u4F7F\u7528\u5373\u53EF\uFF0C\u6216\u8005\u76F4\u63A5\u5F00\u542F\u751F\u4EA7\u73AF\u5883\u4E5F\u53EF\u4EE5\u8BA9\u4F5C\u7528\u57DF\u63D0\u5347\u751F\u6548\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // \u65B9\u5F0F1\n  mode: 'production',\n\n  // \u65B9\u5F0F2\n  plugins: [\n    // \u5F00\u542F Scope Hoisting \u529F\u80FD\n    new webpack.optimize.ModuleConcatenationPlugin()\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6027\u80FD\u5206\u6790\uFF1A\u4F7F\u7528 webpack-bundle-analyzer \u5206\u6790\u4EA7\u7269\u5927\u5C0F\uFF0Cspeed-measure-webpack-plugin \u5206\u6790\u6784\u5EFA\u901F\u5EA6\n\u4EA7\u7269\u538B\u7F29\uFF1AJS\u3001CSS\u3001\u56FE\u7247\n\u63D0\u53D6\u516C\u5171\u5E93\uFF1A\u914D\u7F6E splitChunks\n\u9884\u7F16\u8BD1\uFF1ADllPlugin\n\u4F7F\u7528\u6784\u5EFA\u7F13\u5B58\uFF1Acache-loader \u6216\u8005 hard-source-webpack-plugin\uFF0C\u63A8\u8350 webpack 5 cache\n\u6309\u9700\u52A0\u8F7D\uFF1A\u4F7F\u7528\u52A8\u6001 import() \u52A0\u8F7D\n\u591A\u7EBF\u7A0B\uFF1Athread-loader\nModule Federation\uFF1AUmi \u7684 MFSU\u3001Eden \u7684 ESMF"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u4F7F\u7528 Webpack \u8FDB\u884C\u9879\u76EE\u6784\u5EFA\u65F6\uFF0C\u51CF\u5C11\u5305\u4F53\u79EF\u662F\u63D0\u5347\u52A0\u8F7D\u901F\u5EA6\u3001\u6539\u5584\u7528\u6237\u4F53\u9A8C\u7684\u5173\u952E\u63AA\u65BD\u4E4B\u4E00\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u901A\u7528\u7684\u65B9\u6CD5\u548C\u6280\u5DE7\u6765\u51CF\u5C0F\u6784\u5EFA\u7ED3\u679C\u7684\u5305\u4F53\u79EF\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/6996816316875161637",children:"\u6027\u80FD\u4F18\u5316"})}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u4F7F\u7528 Tree Shaking"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Tree Shaking \u662F\u4E00\u4E2A\u901A\u8FC7\u6E05\u9664\u672A\u5F15\u7528\u4EE3\u7801\uFF08dead-code\uFF09\u7684\u8FC7\u7A0B\uFF0C\u53EF\u4EE5\u6709\u6548\u51CF\u5C11\u6700\u7EC8\u5305\u7684\u5927\u5C0F\u3002\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u4F7F\u7528 ES6 \u6A21\u5757\u8BED\u6CD5\uFF08import \u548C export\uFF09\uFF0C\u56E0\u4E3A\u8FD9\u5141\u8BB8 Webpack \u66F4\u5BB9\u6613\u5730\u8BC6\u522B\u5E76\u5220\u9664\u672A\u88AB\u4F7F\u7528\u7684\u4EE3\u7801\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u4E2D\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"mode"})," \u4E3A ",(0,l.jsx)(n.code,{children:"production"})," \u53EF\u81EA\u52A8\u542F\u7528 Tree Shaking\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u542F\u7528\u538B\u7F29(Uglification)"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u901A\u8FC7\u538B\u7F29\u8F93\u51FA\u6587\u4EF6\u6765\u51CF\u5C0F\u5305\u5927\u5C0F\uFF0C\u5982\u5220\u9664\u672A\u4F7F\u7528\u7684\u4EE3\u7801\u3001\u7F29\u77ED\u53D8\u91CF\u540D\u7B49\u3002\u786E\u4FDD\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u542F\u7528\u4E86 UglifyJS \u63D2\u4EF6\u6216 TerserPlugin\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const TerserPlugin = require('terser-webpack-plugin')\n\nmodule.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n\n      })\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u4EE3\u7801\u5206\u5272(Code Splitting)"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u4EE3\u7801\u5206\u5272\uFF0C\u4F60\u53EF\u4EE5\u628A\u4EE3\u7801\u5206\u6210\u591A\u4E2A bundle\uFF0C\u7136\u540E\u6309\u9700\u52A0\u8F7D\uFF0C\u4ECE\u800C\u51CF\u5C11\u521D\u59CB\u52A0\u8F7D\u65F6\u95F4\u3002Webpack \u63D0\u4F9B\u4E86\u591A\u79CD\u5206\u5272\u4EE3\u7801\u7684\u65B9\u5F0F\uFF0C\u6700\u5E38\u89C1\u7684\u662F\u52A8\u6001\u5BFC\u5165\uFF08Dynamic Imports\uFF09\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import(/* webpackChunkName: \"my-chunk-name\" */ 'path/to/myModule').then((module) => {\n  // \u4F7F\u7528module\n})\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u4F7F\u7528 Externals \u51CF\u8F7B\u4F53\u79EF"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u914D\u7F6E externals \u9009\u9879\uFF0C\u53EF\u4EE5\u963B\u6B62 Webpack \u5C06\u67D0\u4E9B import \u7684\u5305\u6253\u5305\u5230 bundle \u4E2D\uFF0C\u800C\u662F\u5728\u8FD0\u884C\u65F6(runtime)\u518D\u53BB\u4ECE\u5916\u90E8\u83B7\u53D6\u8FD9\u4E9B\u6269\u5C55\u4F9D\u8D56\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  externals: {\n    jquery: 'jQuery'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u5229\u7528\u7F13\u5B58(Caching)"})}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"[contenthash]"})," \u66FF\u6362 ",(0,l.jsx)(n.code,{children:"[hash]"})," \u6216 ",(0,l.jsx)(n.code,{children:"[chunkhash]"})," \u6765\u4E3A\u8F93\u51FA\u6587\u4EF6\u547D\u540D\uFF0C\u8FD9\u786E\u4FDD\u4E86\u53EA\u6709\u5F53\u6587\u4EF6\u5185\u5BB9\u6539\u53D8\u65F6\uFF0C\u6587\u4EF6\u540D\u79F0\u624D\u4F1A\u6539\u53D8\uFF0C\u53EF\u4EE5\u66F4\u597D\u5730\u5229\u7528\u6D4F\u89C8\u5668\u7F13\u5B58\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = {\n  output: {\n    filename: '[name].[contenthash].js'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u79FB\u9664\u672A\u4F7F\u7528\u7684 CSS"})}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 PurgeCSS \u6216",(0,l.jsx)(n.code,{children:"purify-css"}),"\u7B49\u5DE5\u5177\u68C0\u67E5\u4F60\u7684 CSS \u6587\u4EF6\uFF0C\u81EA\u52A8\u53BB\u9664\u672A\u4F7F\u7528\u7684 CSS\uFF0C\u53EF\u4EE5\u6781\u5927\u5730\u538B\u7F29 CSS \u7684\u4F53\u79EF\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const PurgecssPlugin = require('purgecss-webpack-plugin')\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u4F18\u5316\u56FE\u7247"})}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528",(0,l.jsx)(n.code,{children:"image-webpack-loader"}),"\u7B49\u56FE\u7247\u538B\u7F29\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u51CF\u5C0F\u56FE\u7247\u6587\u4EF6\u7684\u4F53\u79EF\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = {\n  module: {\n    rules: [\n      {\n        test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n        use: [\n          'file-loader',\n          {\n            loader: 'image-webpack-loader',\n            options: {\n              // \u914D\u7F6E\u9009\u9879\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"8",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u4F7F\u7528\u52A8\u6001 Polyfills"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u53EA\u4E3A\u90A3\u4E9B\u5B9E\u9645\u9700\u8981\u5B83\u4EEC\u7684\u6D4F\u89C8\u5668\u63D0\u4F9B polyfills\uFF0C\u800C\u4E0D\u662F\u6240\u6709\u6D4F\u89C8\u5668\u90FD\u63D0\u4F9B\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0A\u65B9\u6CD5\u548C\u6280\u5DE7\u53EF\u4EE5\u6839\u636E\u9879\u76EE\u7684\u5177\u4F53\u9700\u6C42\u548C\u60C5\u51B5\u7075\u6D3B\u4F7F\u7528\uFF0C\u6709\u7684\u65B9\u6CD5\u53EF\u80FD\u4F1A\u5BF9\u6784\u5EFA\u548C\u91CD\u6784\u73B0\u6709\u4EE3\u7801\u4EA7\u751F\u8F83\u5927\u5F71\u54CD\uFF0C\u56E0\u6B64\u5728\u91C7\u7528\u524D\u5E94\u8BC4\u4F30\u5176\u5FC5\u8981\u6027\u548C\u5F71\u54CD\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"9",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u9AD8\u7248\u672C\u6D4F\u89C8\u5668\u76F4\u63A5\u4F7F\u7528 es6 \u4EE3\u7801"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5C06\u4EE3\u7801\u7F16\u8BD1\uFF08\u6216\u8005\u8BF4\u4E0D\u7F16\u8BD1\uFF09\u4E3A ES6\uFF08ECMAScript 2015\uFF09\u6216\u66F4\u9AD8\u7248\u672C\u7684 JavaScript \u4EE3\u7801\uFF0C\u786E\u5B9E\u53EF\u4EE5\u51CF\u5C11\u4EA7\u7269\u4F53\u79EF\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E9B\u53EF\u4EE5\u63D0\u9AD8Webpack\u6784\u5EFA\u901F\u5EA6\u7684\u529E\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u66F4\u5FEB\u7684\u6784\u5EFA\u5DE5\u5177\uFF1A\u5347\u7EA7Webpack\u5230\u6700\u65B0\u7248\u672C\uFF0C\u56E0\u4E3A\u6BCF\u4E2A\u65B0\u7248\u672C\u901A\u5E38\u90FD\u4F1A\u5E26\u6765\u6027\u80FD\u6539\u8FDB\u548C\u4F18\u5316\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u51CF\u5C11\u6587\u4EF6\u7684\u6570\u91CF\uFF1A\u901A\u8FC7\u4EE3\u7801\u62C6\u5206\u548C\u6309\u9700\u52A0\u8F7D\u7B49\u6280\u672F\uFF0C\u5C06\u4EE3\u7801\u62C6\u5206\u6210\u66F4\u5C0F\u7684\u6A21\u5757\uFF0C\u51CF\u5C11\u6BCF\u6B21\u6784\u5EFA\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6\u6570\u91CF\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u7F13\u5B58\uFF1A\u542F\u7528Webpack\u7684\u7F13\u5B58\u529F\u80FD\uFF0C\u53EF\u4EE5\u5728\u591A\u6B21\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u590D\u7528\u5DF2\u7ECF\u6784\u5EFA\u597D\u7684\u6A21\u5757\uFF0C\u4ECE\u800C\u51CF\u5C11\u91CD\u65B0\u6784\u5EFA\u7684\u65F6\u95F4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u591A\u7EBF\u7A0B/\u591A\u8FDB\u7A0B\u6784\u5EFA\uFF1A\u901A\u8FC7\u4F7F\u7528\u5DE5\u5177\u5982HappyPack\u6216thread-loader\u7B49\uFF0C\u53EF\u4EE5\u5C06Webpack\u7684\u6784\u5EFA\u8FC7\u7A0B\u5E76\u884C\u5316\uFF0C\u5229\u7528\u591A\u7EBF\u7A0B\u6216\u591A\u8FDB\u7A0B\u6765\u52A0\u901F\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F18\u5316Loader\u914D\u7F6E\uFF1A\u786E\u4FDDLoader\u7684\u914D\u7F6E\u5C3D\u53EF\u80FD\u7CBE\u786E\uFF0C\u53EA\u5BF9\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6\u8FDB\u884C\u64CD\u4F5C\uFF0C\u5E76\u4E14\u4F7F\u7528\u9AD8\u6548\u7684Loader\u63D2\u4EF6\u3002\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u6587\u4EF6\u5904\u7406\u548C\u8F6C\u6362\uFF0C\u4EE5\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528DLL\u548C\u7F13\u5B58\u7EC4\uFF1A\u4F7F\u7528Webpack\u7684DLLPlugin\u548CCacheGroups\u7B49\u529F\u80FD\uFF0C\u53EF\u4EE5\u5C06\u4E00\u4E9B\u7A33\u5B9A\u4E0D\u53D8\u7684\u4F9D\u8D56\u63D0\u524D\u7F16\u8BD1\u548C\u7F13\u5B58\uFF0C\u51CF\u5C11\u6BCF\u6B21\u6784\u5EFA\u7684\u65F6\u95F4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u538B\u7F29\u8F93\u51FA\u6587\u4EF6\uFF1A\u4F7F\u7528Webpack\u7684\u538B\u7F29\u63D2\u4EF6\uFF08\u5982UglifyJsPlugin\uFF09\u5BF9\u8F93\u51FA\u6587\u4EF6\u8FDB\u884C\u538B\u7F29\u548C\u6DF7\u6DC6\uFF0C\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\uFF0C\u52A0\u5FEB\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u914D\u7F6Eresolve.extensions\uFF1A\u901A\u8FC7\u914D\u7F6EWebpack\u7684resolve.extensions\uFF0C\u660E\u786E\u6307\u5B9A\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6\u7C7B\u578B\uFF0C\u907F\u514DWebpack\u8FDB\u884C\u591A\u4F59\u7684\u6587\u4EF6\u626B\u63CF\u548C\u5339\u914D\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F00\u542F\u6301\u4E45\u5316\u7F13\u5B58\uFF1A\u4F7F\u7528Webpack\u7684\u6301\u4E45\u5316\u7F13\u5B58\u63D2\u4EF6\uFF08\u5982HardSourceWebpackPlugin\uFF09\uFF0C\u5C06\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u7684\u4E2D\u95F4\u7ED3\u679C\u7F13\u5B58\u5230\u786C\u76D8\u4E2D\uFF0C\u63D0\u9AD8\u540E\u7EED\u6784\u5EFA\u7684\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528Tree Shaking\uFF1A\u5229\u7528Webpack\u7684Tree Shaking\u7279\u6027\uFF0C\u79FB\u9664\u672A\u4F7F\u7528\u7684\u4EE3\u7801\uFF0C\u51CF\u5C0F\u8F93\u51FA\u6587\u4EF6\u7684\u4F53\u79EF\uFF0C\u52A0\u5FEB\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E9B\u662F\u63D0\u9AD8Webpack\u6784\u5EFA\u901F\u5EA6\u7684\u4E00\u4E9B\u5E38\u89C1\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u9879\u76EE\u7684\u9700\u6C42\u548C\u60C5\u51B5\u9009\u62E9\u9002\u5408\u7684\u4F18\u5316\u7B56\u7565\u3002\u540C\u65F6\uFF0C\u4E0D\u540C\u7684\u9879\u76EE\u548C\u73AF\u5883\u53EF\u80FD\u4F1A\u6709\u4E0D\u540C\u7684\u6027\u80FD\u74F6\u9888\uFF0C\u56E0\u6B64\u9700\u8981\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8FDB\u884C\u5177\u4F53\u7684\u4F18\u5316\u548C\u8C03\u6574\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-bundler",children:"webpack \u6253\u5305"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4F9D\u8D56\u6253\u5305"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3A\u4E86\u5B9E\u73B0\u4F60\u7684\u9700\u6C42\uFF0C\u5373\u5C06\u6240\u6709\u5916\u90E8\u4F9D\u8D56\uFF08",(0,l.jsx)(n.code,{children:"node_modules"})," \u4E2D\u7684\u4F9D\u8D56\uFF09\u6253\u5305\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u5305\uFF0C\u800C\u4F60\u81EA\u5DF1\u7684\u6E90\u7801\u6253\u5305\u6210\u53E6\u4E00\u4E2A\u5305\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E Webpack \u7684 ",(0,l.jsx)(n.code,{children:"optimization.splitChunks"})," \u9009\u9879\u6765\u5B9E\u73B0\u3002\u4E0B\u9762\u662F\u5177\u4F53\u7684\u5B9E\u65BD\u65B9\u6848\uFF1A"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u7F16\u8F91 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4F60\u7684 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u627E\u5230\u6216\u6DFB\u52A0 ",(0,l.jsx)(n.code,{children:"optimization"})," \u90E8\u5206\uFF0C\u5E76\u5728 ",(0,l.jsx)(n.code,{children:"splitChunks"})," \u4E2D\u914D\u7F6E\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E\n\n  optimization: {\n    runtimeChunk: 'single', // \u4E3A webpack \u8FD0\u884C\u65F6\u4EE3\u7801\u521B\u5EFA\u4E00\u4E2A\u989D\u5916\u7684\u5305\n    splitChunks: {\n      cacheGroups: {\n        vendor: {\n          // \u5B9A\u4E49\u4E00\u4E2A\u7F13\u5B58\u7EC4\u7528\u4EE5\u5206\u79BB\u5916\u90E8\u4F9D\u8D56\n          test: /[\\\\/]node_modules[\\\\/]/, // \u68C0\u7D22 node_modules \u76EE\u5F55\u4E0B\u7684\u6A21\u5757\n          name: 'vendors', // \u5206\u79BB\u540E\u7684\u5305\u540D\u79F0\n          chunks: 'all' // \u5BF9\u6240\u6709\u6A21\u5757\u751F\u6548\n        },\n        source: {\n          // \u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u53E6\u4E00\u4E2A\u7F13\u5B58\u7EC4\u6765\u5B9E\u73B0\u6E90\u7801\u7684\u5206\u79BB\uFF08\u5982\u679C\u9700\u8981\uFF09\n          test: /[\\\\/]src[\\\\/]/, // \u68C0\u7D22 src \u76EE\u5F55\n          name: 'source',\n          chunks: 'all'\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u89E3\u91CA"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"runtimeChunk: 'single'"})," \u521B\u5EFA\u4E00\u4E2A\u8FD0\u884C\u65F6\u6587\u4EF6\uFF0C\u7BA1\u7406\u6A21\u5757\u5316\u4EA4\u4E92\uFF0C\u6BD4\u5982\u52A0\u8F7D\u548C\u89E3\u6790\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5728",(0,l.jsx)(n.code,{children:"splitChunks.cacheGroups"})," \u4E2D\u5B9A\u4E49\u4E86\u4E24\u4E2A\u7F13\u5B58\u7EC4:"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"vendor"}),"\uFF1A\u8FD9\u4E2A\u7F13\u5B58\u7EC4\u7684\u76EE\u6807\u662F\u5C06\u6765\u81EA ",(0,l.jsx)(n.code,{children:"node_modules"})," \u76EE\u5F55\u7684\u6240\u6709\u4EE3\u7801\u79FB\u52A8\u5230\u547D\u540D\u4E3A ",(0,l.jsx)(n.code,{children:"vendors"})," \u7684\u5305\u4E2D\u3002\u5B83\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"test"})," \u5C5E\u6027\u6765\u5339\u914D ",(0,l.jsx)(n.code,{children:"node_modules"})," \u76EE\u5F55\u4E0B\u7684\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"source"}),"\uFF1A\u8FD9\u4E2A\u90E8\u5206\u662F\u4E3A\u4E86\u6F14\u793A\u5982\u4F55\u5355\u72EC\u5C06 ",(0,l.jsx)(n.code,{children:"src"})," \u76EE\u5F55\u4E0B\u7684\u6E90\u4EE3\u7801\u6253\u5305\u6210\u4E00\u4E2A\u6587\u4EF6\u3002\u8FD9\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u56E0\u4E3A\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CWebpack \u4F1A\u5C06\u672A\u88AB\u4E0A\u8FF0\u89C4\u5219\u5339\u914D\u5230\u7684\u6A21\u5757\uFF08\u5373\u4F60\u7684\u6E90\u4EE3\u7801\uFF09\u6253\u5305\u5230\u4E3B\u5305\u4E2D\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 Webpack \u4E2D\u63D0\u53D6\u6E90\u7801\u91CC\u88AB\u591A\u4E2A\u5165\u53E3\u70B9\u590D\u7528\u7684\u4EE3\u7801\uFF0C\u4F8B\u5982\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"utils"})," \u6587\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E ",(0,l.jsx)(n.code,{children:"optimization.splitChunks"})," \u6765\u5B9E\u73B0\u3002Webpack \u4F1A\u5C06\u8FD9\u4E9B\u9891\u7E41\u590D\u7528\u7684\u6A21\u5757\u63D0\u53D6\u51FA\u6765\uFF0C\u6253\u5305\u5230\u4E00\u4E2A\u72EC\u7ACB\u7684 chunk \u4E2D\uFF0C\u4F7F\u5F97\u6D4F\u89C8\u5668\u53EF\u4EE5\u5355\u72EC\u7F13\u5B58\u8FD9\u90E8\u5206\u4EE3\u7801\uFF0C\u5E76\u5728\u591A\u4E2A\u9875\u9762\u95F4\u5171\u4EAB\u4F7F\u7528\uFF0C\u4F18\u5316\u52A0\u8F7D\u6027\u80FD\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"splitChunks"})," \u7684\u57FA\u672C\u914D\u7F6E\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E...\n  optimization: {\n    splitChunks: {\n      chunks: 'all', // \u5BF9\u6240\u6709\u7684 chunk \u6709\u6548\uFF0C\u5305\u62EC\u5F02\u6B65\u548C\u975E\u5F02\u6B65 chunk\n      cacheGroups: {\n        commons: {\n          name: 'commons', // \u63D0\u53D6\u51FA\u6765\u7684\u6587\u4EF6\u547D\u540D\u4E3A 'commons.js'\n          chunks: 'initial', // \u63D0\u53D6\u51FA\u7684 chunk \u7C7B\u578B\uFF0C'initial' \u4E3A\u521D\u59CB chunk\uFF0C'async' \u4E3A\u5F02\u6B65 chunk\uFF0C'all' \u8868\u793A\u5168\u90E8 chunk\n          minChunks: 2, // \u6A21\u5757\u88AB\u5F15\u7528>=2\u6B21\uFF0C\u4FBF\u5206\u5272\n          minSize: 0 // \u6A21\u5757\u7684\u6700\u5C0F\u4F53\u79EF\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E2A\u914D\u7F6E\u7684\u542B\u4E49\u662F\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"chunks: 'all'"})," \u6307\u5B9A\u8981\u4F18\u5316\u7684 chunk \u7C7B\u578B\uFF0C\u8FD9\u91CC\u8BBE\u7F6E\u4E3A ",(0,l.jsx)(n.code,{children:"all"})," \u4EE3\u8868\u6240\u6709\u7684 chunk\uFF0C\u4E0D\u7BA1\u662F\u52A8\u6001\u8FD8\u662F\u975E\u52A8\u6001\u52A0\u8F7D\u7684\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cacheGroups"})," \u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u4E8E\u5B9A\u4E49\u7F13\u5B58\u7EC4\uFF0C\u53EF\u4EE5\u7EE7\u627F\u548C/\u6216\u8986\u76D6 ",(0,l.jsx)(n.code,{children:"splitChunks"})," \u7684\u4EFB\u4F55\u9009\u9879\u3002\u6BCF\u4E2A\u7F13\u5B58\u7EC4\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684\u914D\u7F6E\uFF0C\u5C06\u4E0D\u540C\u7684\u6A21\u5757\u63D0\u53D6\u5230\u4E0D\u540C\u7684\u6587\u4EF6\u4E2D\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cacheGroups.commons"})," \u5B9A\u4E49\u4E86\u4E00\u4E2A\u7F13\u5B58\u7EC4\uFF0C\u4E13\u95E8\u7528\u4E8E\u63D0\u53D6 ",(0,l.jsx)(n.code,{children:"initial"})," chunk\uFF08\u6700\u521D\u4F9D\u8D56\u7684\u6A21\u5757\uFF09\u4E2D\u88AB\u81F3\u5C11\u4E24\u4E2A chunk \u6240\u5171\u4EAB\u7684\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"name: 'commons'"})," \u4E3A\u751F\u6210\u7684\u6587\u4EF6\u5B9A\u4E49\u4E86\u4E00\u4E2A\u81EA\u5B9A\u4E49\u540D\u79F0\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"minChunks: 2"})," \u8868\u793A\u6A21\u5757\u81F3\u5C11\u88AB\u4E24\u4E2A\u5165\u53E3\u70B9\u5F15\u7528\u65F6\uFF0C\u624D\u4F1A\u88AB\u63D0\u53D6\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"minSize: 0"})," \u6307\u5B9A\u6A21\u5757\u7684\u6700\u5C0F\u4F53\u79EF\u662F 0\uFF0C\u5373\u4EFB\u610F\u5927\u5C0F\u7684\u6A21\u5757\u90FD\u88AB\u63D0\u53D6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4F1A\u8BA9\u4EFB\u4F55\u4ECE ",(0,l.jsx)(n.code,{children:"node_modules"})," \u76EE\u5F55\u5BFC\u5165\uFF0C\u5E76\u5728\u81F3\u5C11\u4E24\u4E2A\u5165\u53E3\u70B9\u4E2D\u4F7F\u7528\u7684\u6A21\u5757\uFF0C\u90FD\u4F1A\u88AB\u6253\u5305\u5230\u4E00\u4E2A\u540D\u4E3A ",(0,l.jsx)(n.code,{children:"commons.js"})," \u7684\u6587\u4EF6\u4E2D\uFF08\u5F53\u7136\uFF0C\u5B9E\u9645\u7684\u6587\u4EF6\u540D\u4F1A\u53D7\u5230 ",(0,l.jsx)(n.code,{children:"output"})," \u914D\u7F6E\u7684\u5F71\u54CD\uFF0C\u4F8B\u5982\u662F\u5426\u5305\u542B\u54C8\u5E0C\u503C\u7B49\uFF09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6B63\u786E\u914D\u7F6E\u8FD9\u4E9B\u53C2\u6570\u540E\uFF0C",(0,l.jsx)(n.code,{children:"utils"})," \u8FD9\u6837\u7684\u6A21\u5757\u5C31\u4F1A\u88AB\u81EA\u52A8\u63D0\u53D6\u5E76\u5171\u4EAB\uFF0C\u800C\u4E0D\u662F\u5728\u6BCF\u4E2A\u5165\u53E3\u70B9\u7684 bundle \u4E2D\u91CD\u590D\u5305\u542B\u3002\u8FD9\u6837\u505A\u7684\u597D\u5904\u662F\uFF0C\u4EFB\u4F55\u66F4\u65B0\u4E1A\u52A1\u903B\u8F91\u7684\u65F6\u5019\uFF0C\u53EA\u8981 ",(0,l.jsx)(n.code,{children:"utils"})," \u6CA1\u6709\u53D1\u751F\u53D8\u5316\uFF0C\u7528\u6237\u6D4F\u89C8\u5668\u4E0A\u5DF2\u7F13\u5B58\u7684 ",(0,l.jsx)(n.code,{children:"commons.js"})," \u6587\u4EF6\u5C31\u4E0D\u9700\u8981\u91CD\u65B0\u4E0B\u8F7D\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 webpack \u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u9009\u9879\u662F",(0,l.jsx)(n.code,{children:"optimization"}),"\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027\uFF0C\u53EF\u4EE5\u7528\u6765\u5B9A\u4E49\u5982\u4F55\u5206\u5272\u4EE3\u7801\u5757\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cwebpack \u4F1A\u5C06\u6240\u6709\u6765\u81EA",(0,l.jsx)(n.code,{children:"node_modules"}),"\u7684\u6A21\u5757\u5206\u5272\u5230\u4E00\u4E2A\u53EB\u505A",(0,l.jsx)(n.code,{children:"vendors"}),"\u7684 chunk \u4E2D\uFF0C\u5E76\u4E14\u5C06\u5171\u4EAB\u6216\u6765\u81EA\u5F02\u6B65\u8BF7\u6C42\u7684\u6A21\u5757\u5206\u5272\u6210\u4E0D\u540C\u7684 chunks\u3002\u901A\u8FC7\u914D\u7F6E",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u9009\u9879\uFF0C\u4F60\u53EF\u4EE5\u63A7\u5236\u8FD9\u4E9B\u884C\u4E3A\uFF0C\u521B\u5EFA\u66F4\u7EC6\u81F4\u7684\u4EE3\u7801\u5206\u5272\u7B56\u7565\u3002\u4EE5\u4E0B\u662F\u5982\u4F55\u4F7F\u7528",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u6765\u4F18\u5316\u4F60\u7684 bundle\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u57FA\u672C\u914D\u7F6E"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    splitChunks: {\n      chunks: 'all' // \u5206\u5272\u6240\u6709\u7C7B\u578B\u7684chunks\uFF1A\u521D\u59CB\u548C\u52A8\u6001\u52A0\u8F7D\u7684chunk\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A\u914D\u7F6E\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"chunks: 'all'"}),"\u6307\u793A webpack \u5BF9\u540C\u6B65\u548C\u5F02\u6B65\u5F15\u5165\u7684\u6A21\u5757\u90FD\u8FDB\u884C\u5206\u5272\u3002webpack \u4F1A\u6839\u636E\u5185\u90E8\u7684\u4E00\u4E9B\u9ED8\u8BA4\u6807\u51C6\uFF08\u5982\u6A21\u5757\u5927\u5C0F\u3001\u8BF7\u6C42\u7684 chunks \u6570\u76EE\u7B49\uFF09\u6765\u51B3\u5B9A\u662F\u5426\u5206\u5272\u4E00\u4E2A\u6A21\u5757\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u57FA\u7840\u5C5E\u6027\u914D\u7F6E"}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0B\u9762\u7684\u8868\u683C\u8BE6\u7EC6\u63CF\u8FF0\u4E86 ",(0,l.jsx)(n.code,{children:"splitChunks"})," \u914D\u7F6E\u9009\u9879\u53CA\u5176\u4F5C\u7528\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u914D\u7F6E\u9009\u9879"}),(0,l.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,l.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"}),(0,l.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"chunks"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"'all'"}),", ",(0,l.jsx)(n.code,{children:"'async'"}),", ",(0,l.jsx)(n.code,{children:"'initial'"})]}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"'async'"})}),(0,l.jsx)(n.td,{children:"\u8BBE\u7F6E\u4F18\u5316\u54EA\u4E9B\u7C7B\u578B\u7684 chunk\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"minSize"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"20000"})," (20kb)"]}),(0,l.jsx)(n.td,{children:"\u751F\u6210 chunk \u7684\u6700\u5C0F\u4F53\u79EF\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"maxSize"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"0"})}),(0,l.jsx)(n.td,{children:"\u5C1D\u8BD5\u5C06 chunk \u5206\u5272\u6210\u4E0D\u5927\u4E8E\u6307\u5B9A\u4F53\u79EF\u7684\u5757\u3002\u6B64\u9009\u9879\u6B63\u5728\u5B9E\u9A8C\u4E2D\uFF0C\u5E76\u53EF\u80FD\u5728\u5C06\u6765\u7684 webpack \u7248\u672C\u4E2D\u66F4\u6539\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"minChunks"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1"})}),(0,l.jsx)(n.td,{children:"\u6A21\u5757\u88AB\u5206\u4EAB\u5230\u7684\u6700\u5C11 chunk \u6570\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"maxAsyncRequests"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"5"})}),(0,l.jsx)(n.td,{children:"\u6309\u9700\u52A0\u8F7D\u65F6\u7684\u6700\u5927\u5E76\u884C\u8BF7\u6C42\u6570\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"maxInitialRequests"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"3"})}),(0,l.jsx)(n.td,{children:"\u4E00\u4E2A\u5165\u53E3\u70B9\u7684\u6700\u5927\u5E76\u884C\u8BF7\u6C42\u6570\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"automaticNameDelimiter"})}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"'~'"})}),(0,l.jsx)(n.td,{children:"\u7528\u4E8E\u751F\u6210\u540D\u79F0\u7684\u5206\u9694\u7B26\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"name"})}),(0,l.jsx)(n.td,{children:"Boolean or String or Function"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsx)(n.td,{children:"\u5206\u5272\u5757\u7684\u540D\u79F0\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cacheGroups"})}),(0,l.jsx)(n.td,{children:"Object"}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsx)(n.td,{children:"\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5B83\u5B9A\u4E49\u4E86\u5BF9\u4E8E.cacheGroups \u7684\u5B50\u9009\u9879\uFF0C\u7528\u6765\u63A7\u5236\u7F13\u5B58\u7EC4\u805A\u5408\u548C\u751F\u6210\u7684 chunks\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cacheGroups.test"})}),(0,l.jsx)(n.td,{children:"RegExp or Function"}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsx)(n.td,{children:"\u63A7\u5236\u54EA\u4E9B\u6A21\u5757\u88AB\u8FD9\u4E2A\u7F13\u5B58\u7EC4\u6355\u6349\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cacheGroups.priority"})}),(0,l.jsx)(n.td,{children:"Number"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"0"})}),(0,l.jsx)(n.td,{children:"\u7F13\u5B58\u7EC4\u70B9\u51FB\u65F6\u7684\u4F18\u5148\u7EA7\uFF0C\u6570\u503C\u8D8A\u5927\uFF0C\u4F18\u5148\u7EA7\u8D8A\u9AD8\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cacheGroups.reuseExistingChunk"})}),(0,l.jsx)(n.td,{children:"Boolean"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsx)(n.td,{children:"\u5982\u679C\u5F53\u524D\u5757\u5305\u542B\u5DF2\u4ECE\u4E3B bundle \u5206\u5272\u7684\u6A21\u5757\uFF0C\u5219\u91CD\u7528\u5B83\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cacheGroups.filename"})}),(0,l.jsx)(n.td,{children:"String or Function"}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsx)(n.td,{children:"\u5141\u8BB8\u4E3A\u751F\u6210\u7684 chunk \u81EA\u5B9A\u4E49\u6587\u4EF6\u540D\u3002"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u9488\u5BF9\u4E0A\u8FF0\u8868\u683C\u4E2D\u63D0\u53CA\u7684\u67D0\u4E9B\u5C5E\u6027\u7684\u8FDB\u4E00\u6B65\u8BF4\u660E\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"chunks"}),"\u9009\u9879\u6307\u5B9A\u662F\u5BF9\u54EA\u4E9B chunks \u5E94\u7528\u8FD9\u4E9B\u4F18\u5316\u63AA\u65BD\u3002\u5B83\u53EF\u4EE5\u662F\u4E09\u4E2A\u503C\u4E4B\u4E00\uFF1A'all'\u4F1A\u5F71\u54CD\u6240\u6709\u7684 chunks\uFF0C\u8FD9\u4F7F\u5F97\u5728\u5F02\u6B65\u548C\u975E\u5F02\u6B65 chunks \u4E4B\u95F4\u5171\u4EAB\u6A21\u5757\u6210\u4E3A\u53EF\u80FD\uFF1B'async' \u4EC5\u4EC5\u5F71\u54CD\u88AB\u5F02\u6B65\u52A0\u8F7D\u7684 chunks\uFF1B'initial' \u4EC5\u5F71\u54CD\u521D\u59CB\u52A0\u8F7D\u7684 chunks\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"minSize"}),"\u548C",(0,l.jsx)(n.code,{children:"maxSize"}),"\u7528\u4E8E\u63A7\u5236 webpack \u8BD5\u56FE\u4EE5\u591A\u5927\u7684 chunk \u4E3A\u76EE\u6807\u3002",(0,l.jsx)(n.code,{children:"minSize"}),"\u53EF\u4EE5\u907F\u514D chunks \u8FC7\u5C0F\uFF0C\u800C",(0,l.jsx)(n.code,{children:"maxSize"}),"\u53EF\u4EE5\u5E2E\u52A9\u8FDB\u4E00\u6B65\u5206\u5272\u5927\u7684 chunks\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"cacheGroups"}),"\u662F\u914D\u7F6E\u9AD8\u5EA6\u5B9A\u5236\u5316\u7684\u4EE3\u7801\u5206\u5272\u7B56\u7565\u7684\u5730\u65B9\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B webpack \u4F1A\u5C06\u6765\u81EA ",(0,l.jsx)(n.code,{children:"node_modules"})," \u6587\u4EF6\u5939\u7684\u4EE3\u7801\u5206\u5272\u5230\u4E00\u4E2A\u53EB\u505A ",(0,l.jsx)(n.code,{children:"vendors"}),"\u7684 chunk \u4E2D\uFF0C\u53E6\u5916 webpack \u4F1A\u5C06\u91CD\u590D\u5F15\u5165\u7684\u4EE3\u7801\u5206\u5272\u5230\u4E00\u4E2A\u53EB\u505A ",(0,l.jsx)(n.code,{children:"default"})," \u7684 chunk \u4E2D\u3002\u5728\u8FD9\u91CC\u53EF\u4EE5\u8986\u76D6\u8FD9\u4E9B\u9ED8\u8BA4\u8BBE\u7F6E\uFF0C\u6216\u662F\u589E\u52A0\u65B0\u7684\u7F13\u5B58\u7EC4\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u5B9E\u4F8B\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    splitChunks: {\n      chunks: 'all',\n      minSize: 30000, // \u6700\u5C0F 30kb\n      maxSize: 0, // \u9ED8\u8BA4\u65E0\u4E0A\u9650\n      minChunks: 1,\n      maxAsyncRequests: 5,\n      maxInitialRequests: 3,\n      automaticNameDelimiter: '~',\n      name: true,\n      cacheGroups: {\n        vendors: {\n          test: /[\\\\/]node_modules[\\\\/]/,\n          priority: -10,\n          name (module) {\n            const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/)[1]\n            return `vendor.${packageName.replace('@', '')}`\n          }\n        },\n        default: {\n          minChunks: 2,\n          priority: -20,\n          reuseExistingChunk: true\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9AD8\u7EA7\u914D\u7F6E - \u7F13\u5B58\u7EC4"}),"\n",(0,l.jsx)(n.p,{children:"\u7F13\u5B58\u7EC4\uFF08cacheGroups\uFF09\u80FD\u8BA9\u4F60\u5BF9\u5206\u5272\u51FA\u6765\u7684 chunks \u8FDB\u4E00\u6B65\u7EC6\u5206\u548C\u63A7\u5236\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    splitChunks: {\n      chunks: 'all',\n      maxInitialRequests: Infinity, // \u5141\u8BB8\u5728\u4E00\u4E2A\u5165\u53E3\u5904\u65E0\u9650\u591A\u7684\u5E76\u884C\u8BF7\u6C42\n      minSize: 0, // \u751F\u6210chunk\u7684\u6700\u5C0F\u4F53\u79EF\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\n      cacheGroups: {\n        vendor: {\n          test: /[\\\\/]node_modules[\\\\/]/, // \u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u7528\u4E8E\u6D4B\u8BD5\u6A21\u5757\u8DEF\u5F84\uFF0C\u5339\u914Dnode_modules\u76EE\u5F55\u4E0B\u7684\u6A21\u5757\n          name (module) {\n            // \u5F97\u5230\u6A21\u5757\u540D\uFF0C\u53EF\u80FD\u662Fnode_modules\u5305\u540D\u79F0\u7684\u4E00\u90E8\u5206\n            const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/)[1]\n            return `npm.${packageName.replace('@', '')}` // \u521B\u5EFAchunk\u540D\n          }\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u914D\u7F6E\u521B\u5EFA\u4E86\u4E00\u4E2A\u7F13\u5B58\u7EC4",(0,l.jsx)(n.code,{children:"vendor"}),"\uFF0C\u5B83\u4F1A\u5C06\u6240\u6709\u4ECE",(0,l.jsx)(n.code,{children:"node_modules"}),"\u76EE\u5F55\u5BFC\u5165\u7684\u6A21\u5757\u5206\u5272\u5230\u4E0D\u540C\u7684 chunk \u4E2D\uFF0C\u5E76\u4E3A\u6BCF\u4E2A\u5305\u521B\u5EFA\u4E00\u4E2A\u4EE5",(0,l.jsx)(n.code,{children:"npm"}),"\u5F00\u5934\u7684 chunk \u540D\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u7684\u5E94\u7528\u4F9D\u8D56\u4E8E",(0,l.jsx)(n.code,{children:"lodash"}),"\u548C",(0,l.jsx)(n.code,{children:"react"}),"\uFF0C\u5E94\u7528\u4E2D\u5C31\u4F1A\u6709",(0,l.jsx)(n.code,{children:"npm.lodash"}),"\u548C",(0,l.jsx)(n.code,{children:"npm.react"}),"\u4E24\u4E2A\u989D\u5916\u7684 chunks\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u52A8\u6001\u5BFC\u5165"}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u4F60\u4F7F\u7528\u50CF",(0,l.jsx)(n.code,{children:"import()"}),"\u8FD9\u6837\u7684\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u63D2\u4EF6\u4F1A\u81EA\u52A8\u8FDB\u884C\u4EE3\u7801\u5206\u5272\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"function getComponent () {\n  // \u5F53\u6211\u4EEC\u8C03\u7528 import() \u65F6\uFF0Cwebpack \u4F1A\u5BF9 lodash \u8FDB\u884C\u4EE3\u7801\u5206\u5272\n  return import('lodash').then(({ default: _ }) => {\n    const element = document.createElement('div')\n    element.innerHTML = _.join(['Hello', 'webpack'], ' ')\n    return element\n  })\n}\n\ngetComponent().then((component) => {\n  document.body.appendChild(component)\n})\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"lodash"}),"\u4F1A\u88AB\u5206\u6210\u4E00\u4E2A\u5355\u72EC\u7684 chunk\u3002\u5F53",(0,l.jsx)(n.code,{children:"getComponent"}),"\u51FD\u6570\u6267\u884C\u5E76\u8C03\u7528",(0,l.jsx)(n.code,{children:"import()"}),"\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"lodash"}),"\u5E93\u4F1A\u4F5C\u4E3A\u4E00\u4E2A\u5355\u72EC\u7684\u5F02\u6B65 chunk \u52A0\u8F7D\u8FDB\u6765\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7",(0,l.jsx)(n.code,{children:"splitChunks"}),"\u7684\u9002\u5F53\u914D\u7F6E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5927\u5E45\u5EA6\u51CF\u5C0F\u521D\u59CB\u52A0\u8F7D\u6240\u9700\u7684\u65F6\u95F4\uFF0C\u5E76\u786E\u4FDD\u7528\u6237\u53EA\u4E0B\u8F7D\u5F53\u524D\u771F\u6B63\u9700\u8981\u7684\u4EE3\u7801\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u52A0\u5FEB\u5E94\u7528\u7A0B\u5E8F\u7684\u4EA4\u4E92\u901F\u5EA6\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-package",children:"\u5206\u5305\u7684\u65B9\u5F0F\u6709\u54EA\u4E9B\uFF1F"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"entry"})," \u5C5E\u6027\u6307\u5B9A\u5165\u53E3\u6587\u4EF6\uFF0C\u5728\u6253\u5305\u65F6\uFF0CWebpack \u4F1A\u6309\u7167\u5165\u53E3\u6587\u4EF6\u751F\u6210\u4E00\u4E2A chunk\uFF0C\u6BCF\u4E2A chunk \u5305\u542B\u4E86\u4E00\u7EC4\u4EE3\u7801\u5757\uFF0C\u6700\u7EC8\u751F\u6210\u4E00\u4E2A\u6216\u591A\u4E2A bundle\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"SplitChunksPlugin"})," \u63D2\u4EF6\u5BF9\u516C\u5171\u4F9D\u8D56\u8FDB\u884C\u5206\u5272\u3002\u8BE5\u63D2\u4EF6\u4F1A\u628A\u516C\u5171\u4F9D\u8D56\u63D0\u53D6\u51FA\u6765\uFF0C\u5F62\u6210\u4E00\u4E2A\u6216\u591A\u4E2A\u72EC\u7ACB\u7684 chunk\uFF0C\u4EE5\u4FBF\u5728\u591A\u4E2A bundle \u4E2D\u5171\u4EAB\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\uFF08Dynamic Import\uFF09\u6280\u672F\u8FDB\u884C\u6309\u9700\u52A0\u8F7D\u3002\u5728\u4EE3\u7801\u4E2D\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"import()"})," \u6216 ",(0,l.jsx)(n.code,{children:"require.ensure()"}),"\uFF0CWebpack \u4F1A\u5C06\u8FD9\u4E9B\u4EE3\u7801\u5757\u6309\u7167\u914D\u7F6E\u7684\u7B56\u7565\u8FDB\u884C\u5206\u5272\uFF0C\u751F\u6210\u4E00\u4E2A\u6216\u591A\u4E2A\u72EC\u7ACB\u7684 chunk\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"DllPlugin"})," \u63D2\u4EF6\u5C06\u4E00\u4E9B\u4E0D\u7ECF\u5E38\u53D8\u5316\u7684\u4EE3\u7801\u63D0\u53D6\u51FA\u6765\uFF0C\u5F62\u6210\u4E00\u4E2A\u52A8\u6001\u94FE\u63A5\u5E93\uFF08DLL\uFF09\u3002\u5728\u6253\u5305\u65F6\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5F15\u7528\u8FD9\u4E2A DLL\uFF0C\u800C\u4E0D\u5FC5\u91CD\u590D\u6253\u5305\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"externals"})," \u5C5E\u6027\u5C06\u4E00\u4E9B\u6A21\u5757\u58F0\u660E\u4E3A\u5916\u90E8\u4F9D\u8D56\u3002\u5728\u6253\u5305\u65F6\uFF0CWebpack \u4F1A\u8DF3\u8FC7\u8FD9\u4E9B\u6A21\u5757\u7684\u6253\u5305\u8FC7\u7A0B\uFF0C\u800C\u662F\u5728\u8FD0\u884C\u65F6\u4ECE\u5916\u90E8\u73AF\u5883\u4E2D\u52A0\u8F7D\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"SplitChunksPlugin \u662F\u600E\u4E48\u5BF9\u516C\u5171\u4F9D\u8D56\u8FDB\u884C\u5206\u5272\u7684 ?"}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u7684SplitChunksPlugin\u63D2\u4EF6\u662F\u7528\u6765\u5BF9\u516C\u5171\u4F9D\u8D56\u8FDB\u884C\u5206\u5272\u7684\uFF0C\u5176\u539F\u7406\u662F\u5C06\u516C\u5171\u6A21\u5757\u63D0\u53D6\u51FA\u6765\uFF0C\u5F62\u6210\u4E00\u4E2A\u6216\u591A\u4E2A\u5171\u4EAB\u5757\uFF0C\u5E76\u5728\u9700\u8981\u65F6\u52A8\u6001\u52A0\u8F7D\u3002\u8FD9\u4E2A\u63D2\u4EF6\u4F1A\u5206\u6790\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5C06\u5177\u6709\u76F8\u540C\u5F15\u7528\u6A21\u5757\u7684\u4EE3\u7801\u5757\u8FDB\u884C\u63D0\u53D6\uFF0C\u4EE5\u4FBF\u4E8E\u5B9E\u73B0\u7F13\u5B58\u548C\u66F4\u5FEB\u7684\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"SplitChunksPlugin\u7684\u9ED8\u8BA4\u914D\u7F6E\u5305\u62EC\u4EE5\u4E0B\u4E09\u4E2A\u5757\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u901A\u8FC7\u5F02\u6B65\u52A0\u8F7D\uFF08\u5F02\u6B65\u5757\uFF09\u751F\u6210\u7684\u4EE3\u7801\u5757"}),"\n",(0,l.jsx)(n.li,{children:"\u4E0E\u521D\u59CB\u5757\uFF08\u5373\u5165\u53E3\u70B9\uFF09\u5171\u4EAB\u7684\u4EE3\u7801\u5757"}),"\n",(0,l.jsx)(n.li,{children:"\u5728\u4E24\u4E2A\u6216\u66F4\u591A\u5757\u4E4B\u95F4\u5171\u4EAB\u7684\u4EE3\u7801\u5757"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5176\u4E2D\uFF0C\u7B2C\u4E8C\u4E2A\u5757\u662F\u6700\u5E38\u89C1\u7684\uFF0C\u5B83\u5305\u62EC\u4ECE\u591A\u4E2A\u5165\u53E3\u70B9\u5F15\u7528\u7684\u516C\u5171\u6A21\u5757\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u793A\u4F8B\u6765\u8BF4\u660E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack.config.js\nmodule.exports = {\n  entry: {\n    main: './src/main.js',\n    other: './src/other.js'\n  },\n  optimization: {\n    splitChunks: {\n      cacheGroups: {\n        commons: {\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name: 'vendors',\n          chunks: 'all'\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u914D\u7F6E\u4E2D\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E24\u4E2A\u5165\u53E3\u70B9",(0,l.jsx)(n.code,{children:"main"}),"\u548C",(0,l.jsx)(n.code,{children:"other"}),"\uFF0C\u5E76\u5C06",(0,l.jsx)(n.code,{children:"SplitChunksPlugin"}),"\u914D\u7F6E\u4E3A\u5C06\u4ECE",(0,l.jsx)(n.code,{children:"node_modules"}),"\u76EE\u5F55\u4E2D\u5F15\u7528\u7684\u4EE3\u7801\u63D0\u53D6\u5230\u540D\u4E3A",(0,l.jsx)(n.code,{children:"vendors"}),"\u7684\u4EE3\u7801\u5757\u4E2D\u3002\u8FD9\u4E2A\u4EE3\u7801\u5757\u5C06\u88AB\u5F15\u7528\u5230\u6211\u4EEC\u7684\u5165\u53E3\u70B9\u4E2D\uFF0C\u4EE5\u4FBF\u4E8E\u51CF\u5C11\u52A0\u8F7D\u65F6\u95F4\u548C\u63D0\u9AD8\u6027\u80FD\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u6211\u4EEC\u6253\u5305\u65F6\uFF0CWebpack\u5C06\u5206\u6790\u8FD9\u4E24\u4E2A\u5165\u53E3\u70B9\uFF0C\u5E76\u53D1\u73B0\u5B83\u4EEC\u90FD\u5F15\u7528\u4E86",(0,l.jsx)(n.code,{children:"node_modules"}),"\u76EE\u5F55\u4E0B\u7684\u4F9D\u8D56\uFF0C\u4E8E\u662F\u5C06\u8FD9\u4E9B\u4F9D\u8D56\u63D0\u53D6\u5230",(0,l.jsx)(n.code,{children:"vendors"}),"\u4EE3\u7801\u5757\u4E2D\u3002\u6211\u4EEC\u53EF\u4EE5\u5728",(0,l.jsx)(n.code,{children:"main.js"}),"\u548C",(0,l.jsx)(n.code,{children:"other.js"}),"\u4E2D\u770B\u5230\u8FD9\u6837\u7684\u4EE3\u7801\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import 'lodash' // \u516C\u5171\u6A21\u5757\u88AB\u5F15\u7528\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\uFF0CWebpack\u80FD\u591F\u5C06\u516C\u5171\u4EE3\u7801\u63D0\u53D6\u5230\u5355\u72EC\u7684\u4EE3\u7801\u5757\u4E2D\uFF0C\u4EE5\u4FBF\u4E8E\u66F4\u9AD8\u6548\u5730\u52A0\u8F7D\u548C\u7F13\u5B58\u3002"}),"\n",(0,l.jsx)(n.p,{children:"webpack DllPlugin \u662F\u5982\u4F55\u63D0\u53D6\u4F9D\u8D56\u7684\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Webpack DllPlugin \u662F\u7528\u4E8E\u5C06\u67D0\u4E9B\u5E93\uFF08\u4F8B\u5982\u7B2C\u4E09\u65B9\u5E93\uFF09\u63D0\u524D\u7F16\u8BD1\u548C\u6253\u5305\uFF0C\u4EE5\u4FBF\u5728\u5F00\u53D1\u548C\u751F\u4EA7\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u51CF\u5C11\u4F9D\u8D56\u9879\u7684\u5206\u6790\u65F6\u95F4\uFF0C\u63D0\u9AD8\u6253\u5305\u901F\u5EA6\u7684\u63D2\u4EF6\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u6765\u8BF4\uFF0CDllPlugin \u5206\u4E3A\u4E24\u4E2A\u6B65\u9AA4\uFF1A\u7B2C\u4E00\u6B65\u662F\u751F\u6210\u4E00\u4E2A\u5305\u542B\u5E93\u7684\u6620\u5C04\u6587\u4EF6\uFF08manifest.json\uFF09\uFF0C\u7B2C\u4E8C\u6B65\u662F\u5728\u5F00\u53D1\u6216\u751F\u4EA7\u6784\u5EFA\u4E2D\u4F7F\u7528\u8BE5\u6620\u5C04\u6587\u4EF6\u6765\u5F15\u5165\u9884\u7F16\u8BD1\u7684\u5E93\u3002"}),"\n",(0,l.jsx)(n.p,{children:"DllPlugin \u7684\u57FA\u672C\u539F\u7406\u662F\u5C06\u5E93\u5355\u72EC\u7F16\u8BD1\u6210\u4E00\u4E2A\u6216\u591A\u4E2A dll \u6587\u4EF6\uFF08\u52A8\u6001\u94FE\u63A5\u5E93\uFF09\uFF0C\u540C\u65F6\u751F\u6210\u4E00\u4E2A manifest.json \u6587\u4EF6\u8BB0\u5F55\u8FD9\u4E9B\u5E93\u6587\u4EF6\u7684\u540D\u79F0\u3001\u8DEF\u5F84\u7B49\u4FE1\u606F\u3002\u5728\u5F00\u53D1\u6216\u751F\u4EA7\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C\u901A\u8FC7\u5F15\u7528 manifest.json \u6587\u4EF6\uFF0C\u5C06\u5DF2\u7ECF\u9884\u7F16\u8BD1\u597D\u7684\u5E93\u6587\u4EF6\u5F15\u5165\u5230\u9879\u76EE\u4E2D\u3002\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u5728\u6BCF\u6B21\u6253\u5305\u65F6\u90FD\u53BB\u5206\u6790\u548C\u6253\u5305\u7B2C\u4E09\u65B9\u5E93\uFF0C\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50\uFF1A"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 webpack.config.dll.js \u4E2D\u5B9A\u4E49\u6253\u5305\u7684\u5E93\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"luaCopy codeconst path = require('path');\nconst webpack = require('webpack');\n\nmodule.exports = {\n mode: 'production',\n entry: {\n vendor: ['react', 'react-dom', 'lodash']\n },\n output: {\n path: path.join(__dirname, 'dist'),\n filename: '[name].dll.js',\n library: '[name]'\n },\n plugins: [\n new webpack.DllPlugin({\n name: '[name]',\n path: path.join(__dirname, 'dist', '[name].manifest.json')\n })\n ]\n};\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540E\u8FD0\u884C ",(0,l.jsx)(n.code,{children:"webpack --config webpack.config.dll.js"}),"\uFF0C\u4F1A\u751F\u6210 ",(0,l.jsx)(n.code,{children:"vendor.dll.js"})," \u548C ",(0,l.jsx)(n.code,{children:"vendor.manifest.json"})," \u6587\u4EF6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u5F00\u53D1\u6216\u751F\u4EA7\u73AF\u5883\u4E2D\uFF0C\u901A\u8FC7\u5F15\u5165\u751F\u6210\u7684 manifest.json \u6587\u4EF6\uFF0C\u5C06\u9884\u7F16\u8BD1\u597D\u7684\u5E93\u6587\u4EF6\u5F15\u5165\u9879\u76EE\u4E2D\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"luaCopy codeconst path = require('path');\nconst webpack = require('webpack');\n\nmodule.exports = {\n mode: 'production',\n entry: {\n app: './src/index.js'\n },\n output: {\n path: path.join(__dirname, 'dist'),\n filename: '[name].js'\n },\n plugins: [\n new webpack.DllReferencePlugin({\n manifest: require('./dist/vendor.manifest.json')\n })\n ]\n};\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\uFF0C\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\uFF0Cwebpack \u4F1A\u81EA\u52A8\u5C06 ",(0,l.jsx)(n.code,{children:"vendor.dll.js"})," \u4E2D\u5305\u542B\u7684\u7B2C\u4E09\u65B9\u5E93\u4ECE\u9879\u76EE\u4E2D\u5206\u79BB\u51FA\u6765\uFF0C\u800C\u4E0D\u9700\u8981\u91CD\u590D\u6253\u5305\u548C\u5206\u6790\u8FD9\u4E9B\u5E93\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-async-load",children:"\u5F02\u6B65\u52A0\u8F7D\u539F\u7406\u662F\u5565"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4F7F\u7528\u52A8\u6001 import: \u4F7F\u7528 ES6 \u7684 ",(0,l.jsx)(n.code,{children:"import()"})," \u8BED\u6CD5\uFF0C\u52A8\u6001\u52A0\u8F7D\u6A21\u5757\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import('./path/to/module')\n  .then(module => {\n    // do something with module\n  })\n  .catch(error => {\n    console.error(error)\n    // handle error\n  })\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528 require.ensure: \u5F02\u6B65\u52A0\u8F7D\u6A21\u5757\u5E76\u5C06\u5176\u653E\u7F6E\u5230\u6307\u5B9A\u7684 chunk \u4E2D\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"require.ensure(['./path/to/module'], function (require) {\n  const module = require('./path/to/module')\n  // do something with module\n})\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528 bundle-loader: \u5C06\u6A21\u5757\u653E\u7F6E\u5230\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u6309\u9700\u52A0\u8F7D\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// eslint-disable-next-line\nconst load = require('bundle-loader!./path/to/module')\nload(function (module) {\n  // do something with module\n})\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528webpack\u7684require.ensure API"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"require.ensure([], function (require) {\n  // require dependencies\n  const foo = require('./foo')\n  // ...\n})\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528webpack\u7684import\u52A8\u6001\u5BFC\u5165"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import('./dynamic-module.js').then(module => {\n  // do something with module\n})\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E9B\u65B9\u5F0F\u90FD\u53EF\u4EE5\u5728 Webpack \u4E2D\u4F7F\u7528\uFF0C\u5177\u4F53\u4F7F\u7528\u54EA\u79CD\u65B9\u5F0F\uFF0C\u53D6\u51B3\u4E8E\u5177\u4F53\u7684\u573A\u666F\u548C\u9700\u6C42\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u52A8\u6001\u52A0\u8F7D\u7684\u539F\u7406"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 Webpack \u4E2D\uFF0C\u5F02\u6B65\u52A0\u8F7D\u7EC4\u4EF6\u7684\u539F\u7406\u662F\u5229\u7528\u52A8\u6001\u5BFC\u5165\uFF08Dynamic import\uFF09\u7279\u6027\u3002\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u53EF\u4EE5\u5C06\u6A21\u5757\u7684\u52A0\u8F7D\u4ECE\u7F16\u8BD1\u65F6\u523B\u5EF6\u8FDF\u5230\u8FD0\u884C\u65F6\u523B\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u6765\u8BF4\uFF0C\u5F53 Webpack \u6253\u5305\u4EE3\u7801\u65F6\uFF0C\u9047\u5230\u52A8\u6001\u5BFC\u5165\u8BED\u53E5\u65F6\u4E0D\u4F1A\u5C06\u5176\u6253\u5305\u8FDB\u5165\u4E3B\u6587\u4EF6\uFF0C\u800C\u662F\u5C06\u5176\u5355\u72EC\u6253\u5305\u4E3A\u4E00\u4E2A\u65B0\u7684\u6587\u4EF6\u3002\u5728\u8FD0\u884C\u65F6\uFF0C\u5F53\u4EE3\u7801\u9700\u8981\u52A0\u8F7D\u8BE5\u7EC4\u4EF6\u65F6\uFF0C\u4F1A\u901A\u8FC7\u7F51\u7EDC\u8BF7\u6C42\u52A8\u6001\u52A0\u8F7D\u8BE5\u6587\u4EF6\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u6837\u505A\u7684\u597D\u5904\u662F\u53EF\u4EE5\u51CF\u5C0F\u4E3B\u6587\u4EF6\u7684\u4F53\u79EF\uFF0C\u4ECE\u800C\u52A0\u5FEB\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\uFF0C\u5E76\u4E14\u4E5F\u53EF\u4EE5\u63D0\u9AD8\u4EE3\u7801\u7684\u7075\u6D3B\u6027\u548C\u53EF\u7EF4\u62A4\u6027\u3002\u540C\u65F6\uFF0CWebpack \u8FD8\u53EF\u4EE5\u5BF9\u52A8\u6001\u52A0\u8F7D\u7684\u6587\u4EF6\u8FDB\u884C\u4EE3\u7801\u5206\u5272\u548C\u6309\u9700\u52A0\u8F7D\uFF0C\u8FDB\u4E00\u6B65\u4F18\u5316\u9875\u9762\u7684\u6027\u80FD\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u65F6\uFF0C\u9700\u8981\u6CE8\u610F\u4E00\u4E9B\u7EC6\u8282\u3002\u4F8B\u5982\uFF0C\u5728\u652F\u6301\u52A8\u6001\u5BFC\u5165\u7684\u6D4F\u89C8\u5668\u4E2D\uFF0C\u9700\u8981\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"import()"})," \u51FD\u6570\u8FDB\u884C\u52A8\u6001\u5BFC\u5165\uFF1B\u800C\u5728\u4E0D\u652F\u6301\u52A8\u6001\u5BFC\u5165\u7684\u6D4F\u89C8\u5668\u4E2D\uFF0C\u9700\u8981\u4F7F\u7528 Webpack \u63D0\u4F9B\u7684 ",(0,l.jsx)(n.code,{children:"require.ensure"})," \u6216 ",(0,l.jsx)(n.code,{children:"require.include"})," \u7B49\u65B9\u6CD5\u8FDB\u884C\u6A21\u5757\u7684\u5F02\u6B65\u52A0\u8F7D\u3002\u540C\u65F6\uFF0C\u8FD8\u9700\u8981\u6CE8\u610F\u52A8\u6001\u5BFC\u5165\u7684\u517C\u5BB9\u6027\u548C\u6027\u80FD\u95EE\u9898\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p1-webpack-compile",children:"webpack \u7F16\u8BD1\u5982\u4F55\u5C06\u6E90\u7801\u548C\u4F9D\u8D56\u6253\u5305\u5230\u4E0D\u540C\u8DEF\u5F84"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsxs)(n.strong,{children:["\u4F7F\u7528 Webpack \u7684",(0,l.jsx)(n.code,{children:"optimize-module-ids"}),"\u63D2\u4EF6\uFF08\u7528\u4E8E\u533A\u5206\u6A21\u5757\u6765\u6E90\uFF09"]})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u539F\u7406"}),"\uFF1AWebpack \u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u4F1A\u4E3A\u6BCF\u4E2A\u6A21\u5757\u5206\u914D\u4E00\u4E2A\u552F\u4E00\u7684",(0,l.jsx)(n.code,{children:"module.id"}),"\u3002",(0,l.jsx)(n.code,{children:"optimize-module-ids"}),"\u63D2\u4EF6\u53EF\u4EE5\u5E2E\u52A9\u63A7\u5236\u6A21\u5757\u6807\u8BC6\u7B26\u7684\u751F\u6210\u65B9\u5F0F\uFF0C\u4F7F\u5F97\u80FD\u591F\u6839\u636E\u6A21\u5757\u662F\u6E90\u6587\u4EF6\u8FD8\u662F\u5916\u90E8\u4F9D\u8D56\u6765\u533A\u5206\u5B83\u4EEC\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u914D\u7F6E\u6B65\u9AA4"}),"\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u5B89\u88C5",(0,l.jsx)(n.code,{children:"optimize-module-ids"}),"\u63D2\u4EF6\uFF08\u53EF\u80FD\u9700\u8981\u81EA\u884C\u5F00\u53D1\u7C7B\u4F3C\u529F\u80FD\u63D2\u4EF6\u6216\u5BFB\u627E\u5DF2\u6709\u5408\u9002\u63D2\u4EF6\uFF09\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7136\u540E\uFF0C\u5728 Webpack \u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u63D2\u4EF6\u914D\u7F6E\u3002\u4F8B\u5982\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const CustomModuleIdsPlugin = require('optimize-module-ids')\nmodule.exports = {\n// ...\u5176\u4ED6\u914D\u7F6E\n  plugins: [\n    new CustomModuleIdsPlugin((module) => {\n      if (module.resource && module.resource.includes('node_modules')) {\n        return 'external'\n      } else {\n        return 'source'\n      }\n    })\n  ]\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u63D2\u4EF6\u4F1A\u4F9D\u636E\u6A21\u5757\u7684\u8D44\u6E90\u8DEF\u5F84\uFF08",(0,l.jsx)(n.code,{children:"module.resource"}),"\uFF09\u6765\u5224\u522B\u6A21\u5757\u662F\u6E90\u81EA",(0,l.jsx)(n.code,{children:"node_modules"}),"\uFF08\u5916\u90E8\u4F9D\u8D56\uFF09\u8FD8\u662F\u5176\u4ED6\u6E90\u6587\u4EF6\u8DEF\u5F84\u3002\u82E5\u4E3A\u5916\u90E8\u4F9D\u8D56\uFF0C\u6A21\u5757\u7684",(0,l.jsx)(n.code,{children:"id"}),"\u4F1A\u88AB\u6807\u8BB0\u4E3A",(0,l.jsx)(n.code,{children:"external"}),"\uFF0C\u5426\u5219\u6807\u8BB0\u4E3A",(0,l.jsx)(n.code,{children:"source"}),"\u3002\u5982\u6B64\u4E00\u6765\uFF0C\u5728\u6700\u7EC8\u7684\u6253\u5305\u4EA7\u7269\u6216\u6784\u5EFA\u4FE1\u606F\u91CC\uFF0C\u5C31\u80FD\u901A\u8FC7\u8FD9\u4E2A",(0,l.jsx)(n.code,{children:"id"}),"\u533A\u5206\u4E0D\u540C\u6765\u6E90\u7684\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u901A\u8FC7\u6784\u5EFA\u5DE5\u5177\u7684\u8F93\u51FA\u4FE1\u606F\u533A\u5206\uFF08\u9002\u7528\u4E8E\u7B80\u5355\u533A\u5206\uFF09"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u67E5\u770B\u6784\u5EFA\u65E5\u5FD7"}),"\uFF1AWebpack \u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F1A\u8F93\u51FA\u5927\u91CF\u7684\u65E5\u5FD7\u4FE1\u606F\u3002\u53EF\u5728\u6784\u5EFA\u65E5\u5FD7\u91CC\u67E5\u627E\u6A21\u5757\u7684\u8DEF\u5F84\u4FE1\u606F\u4EE5\u533A\u5206\u6E90\u6587\u4EF6\u548C\u5916\u90E8\u4F9D\u8D56\u3002\u6BD4\u5982\uFF0C\u65E5\u5FD7\u4E2D\u6765\u81EA",(0,l.jsx)(n.code,{children:"src"}),"\u76EE\u5F55\u7684\u6A21\u5757\u901A\u5E38\u662F\u6E90\u6587\u4EF6\uFF0C\u800C\u6765\u81EA",(0,l.jsx)(n.code,{children:"node_modules"}),"\u76EE\u5F55\u7684\u6A21\u5757\u5219\u662F\u5916\u90E8\u4F9D\u8D56\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["\u5206\u6790\u7EDF\u8BA1\u4FE1\u606F\uFF08",(0,l.jsx)(n.code,{children:"stats"}),"\uFF09"]}),"\uFF1AWebpack \u63D0\u4F9B\u4E86",(0,l.jsx)(n.code,{children:"stats"}),"\u9009\u9879\uFF0C\u53EF\u751F\u6210\u8BE6\u7EC6\u7684\u6784\u5EFA\u7EDF\u8BA1\u4FE1\u606F\u3002\u901A\u8FC7\u5C06",(0,l.jsx)(n.code,{children:"stats"}),"\u914D\u7F6E\u4E3A",(0,l.jsx)(n.code,{children:"'verbose'"}),"\u6216\u5176\u4ED6\u8BE6\u7EC6\u7EA7\u522B\uFF0C\u80FD\u83B7\u53D6\u6BCF\u4E2A\u6A21\u5757\u7684\u8DEF\u5F84\u3001\u5927\u5C0F\u3001\u4F9D\u8D56\u5173\u7CFB\u7B49\u4FE1\u606F\u3002\u5728\u8FD9\u4E9B\u4FE1\u606F\u4E2D\uFF0C\u53EF\u8F7B\u6613\u8BC6\u522B\u51FA\u6E90\u6587\u4EF6\u548C\u5916\u90E8\u4F9D\u8D56\u3002\u4F8B\u5982\uFF0C\u914D\u7F6E",(0,l.jsx)(n.code,{children:"stats"}),"\u5982\u4E0B\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n// ...\u5176\u4ED6\u914D\u7F6E\n  stats: 'verbose'\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E4B\u540E\u4FBF\u53EF\u901A\u8FC7\u5206\u6790\u751F\u6210\u7684\u7EDF\u8BA1\u6587\u4EF6\u6216\u5728\u7EC8\u7AEF\u8F93\u51FA\u7684\u8BE6\u7EC6\u7EDF\u8BA1\u4FE1\u606F\u6765\u533A\u5206\u4E0D\u540C\u6765\u6E90\u7684\u6A21\u5757\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"\u81EA\u5B9A\u4E49\u6253\u5305\u7ED3\u6784\u6216\u547D\u540D\u89C4\u5219\uFF08\u5728\u8F93\u51FA\u9636\u6BB5\u533A\u5206\uFF09"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5206\u79BB\u8F93\u51FA\u76EE\u5F55"}),"\uFF1A\u5728 Webpack \u7684\u8F93\u51FA\u914D\u7F6E\uFF08",(0,l.jsx)(n.code,{children:"output"}),"\uFF09\u4E2D\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u4E0D\u540C\u7684\u8F93\u51FA\u8DEF\u5F84\u6765\u5206\u79BB\u6E90\u6587\u4EF6\u548C\u5916\u90E8\u4F9D\u8D56\u7684\u6253\u5305\u4EA7\u7269\u3002\u4F8B\u5982\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n// ...\u5176\u4ED6\u914D\u7F6E\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: (chunkData) => {\n      if (chunkData.chunk.name.includes('external')) {\n        return 'external-bundles/[name].js'\n      } else {\n        return 'source-bundles/[name].js'\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u91CC\u4F9D\u636E\u6A21\u5757\u6240\u5C5E\u7684",(0,l.jsx)(n.code,{children:"chunk"}),"\u540D\u79F0\uFF08\u53EF\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u901A\u8FC7\u67D0\u4E9B\u65B9\u5F0F\u5C06\u6A21\u5757\u6240\u5C5E\u7684",(0,l.jsx)(n.code,{children:"chunk"}),"\u6807\u8BB0\u4E3A",(0,l.jsx)(n.code,{children:"external"}),"\u6216",(0,l.jsx)(n.code,{children:"source"}),"\uFF09\uFF0C\u628A\u5916\u90E8\u4F9D\u8D56\u548C\u6E90\u6587\u4EF6\u5206\u522B\u6253\u5305\u5230\u4E0D\u540C\u7684\u76EE\u5F55\uFF08",(0,l.jsx)(n.code,{children:"external-bundles"}),"\u548C",(0,l.jsx)(n.code,{children:"source-bundles"}),"\uFF09\u4E0B\uFF0C\u8FD9\u6837\u5728\u6700\u7EC8\u7684\u6253\u5305\u4EA7\u7269\u4E2D\u5C31\u80FD\u5F88\u76F4\u89C2\u5730\u8FDB\u884C\u533A\u5206\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u547D\u540D\u89C4\u5219"}),"\uFF1A\u9664\u4E86\u5206\u79BB\u8F93\u51FA\u76EE\u5F55\uFF0C\u8FD8\u53EF\u901A\u8FC7\u547D\u540D\u89C4\u5219\u6765\u533A\u5206\u3002\u4F8B\u5982\uFF0C\u5728\u8F93\u51FA\u6587\u4EF6\u540D\u4E2D\u6DFB\u52A0\u524D\u7F00\u4EE5\u8868\u793A\u6A21\u5757\u6765\u6E90\uFF0C\u5982",(0,l.jsx)(n.code,{children:"source-[name].js"}),"\u548C",(0,l.jsx)(n.code,{children:"external-[name].js"}),"\uFF0C\u5982\u6B64\u5728\u67E5\u770B\u6253\u5305\u6587\u4EF6\u65F6\u5C31\u80FD\u5FEB\u901F\u8BC6\u522B\u6A21\u5757\u6765\u6E90\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:'\u5728 Webpack \u4E2D\uFF0C\u5C06\u4E00\u4E9B\u901A\u7528\u7684\u4F9D\u8D56\uFF0C\u5982 React\u3001React DOM\u3001React Router \u7B49\u5E93\u548C\u6846\u67B6\uFF0C\u6253\u5305\u6210\u4E00\u4E2A\u72EC\u7ACB\u7684 bundle\uFF0C\u901A\u5E38\u662F\u4E3A\u4E86\u957F\u671F\u7F13\u5B58\u548C\u51CF\u5C11\u6BCF\u6B21\u90E8\u7F72\u66F4\u65B0\u7684\u4E0B\u8F7D\u91CF\u3002\u8FD9\u53EF\u4EE5\u901A\u8FC7 "\u4EE3\u7801\u5206\u5272" (code splitting) \u548C "\u4F18\u5316" (optimization) \u914D\u7F6E\u6765\u5B9E\u73B0\u3002'}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F Webpack \u4E2D\u5206\u79BB\u901A\u7528\u4F9D\u8D56\u7684\u51E0\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"entry"})," \u6765\u5B9A\u4E49\u4E0D\u540C\u7684\u5165\u53E3\u70B9"]}),': \u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u4E00\u4E2A\u989D\u5916\u7684\u5165\u53E3\u6765\u521B\u5EFA\u4E00\u4E2A\u53EA\u5305\u542B\u901A\u7528\u5E93\u7684 bundle\uFF0C\u4E5F\u5C31\u662F\u6240\u8C13\u7684 "vendor" bundle\u3002']}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  entry: {\n    main: './src/index.js', // \u4F60\u7684\u5E94\u7528\u4EE3\u7801\n    vendor: ['react', 'react-dom', 'react-router'] // \u6307\u5B9A\u5171\u4EAB\u5E93\n  }\n  // ...\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"SplitChunksPlugin"})]}),": \u8FD9\u4E2A\u63D2\u4EF6\u53EF\u4EE5\u5C06\u5171\u4EAB\u4EE3\u7801\u5206\u5272\u6210\u4E0D\u540C\u7684 chunks\uFF0C\u5E76\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u5C06\u5176\u4ECE\u4E1A\u52A1\u4EE3\u7801\u4E2D\u5206\u79BB\u51FA\u6765\u3002\u5728 Webpack 4 \u53CA\u4E4B\u540E\u7684\u7248\u672C\u4E2D\uFF0C\u9ED8\u8BA4\u5185\u7F6E\u4E86 ",(0,l.jsx)(n.code,{children:"optimization.splitChunks"}),"\uFF0C\u5C31\u662F\u8FD9\u4E2A\u63D2\u4EF6\u7684\u914D\u7F6E\u65B9\u6CD5\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    splitChunks: {\n      cacheGroups: {\n        vendor: {\n          test: /[\\\\/]node_modules[\\\\/]/, // \u6307\u5B9A\u662F node_modules \u4E0B\u7684\u7B2C\u4E09\u65B9\u5305\n          name: 'vendors', // \u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\uFF0C\u4EFB\u610F\u547D\u540D\n          chunks: 'all' // \u5BF9\u6240\u6709\u7684 chunk \u751F\u6548\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["\u914D\u7F6E ",(0,l.jsx)(n.code,{children:"output"})]}),": \u867D\u7136\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u5728 output \u4E2D\u5B9A\u4E49 ",(0,l.jsx)(n.code,{children:"filename"})," \u548C ",(0,l.jsx)(n.code,{children:"chunkFilename"}),"\uFF0C\u6765\u63A7\u5236\u4E3B\u5165\u53E3\u548C\u975E\u4E3B\u5165\u53E3 chunks \u7684\u6587\u4EF6\u540D\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"output: {\n filename: '[name].[contenthash].js',\n chunkFilename: '[name].[contenthash].js'\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u8FD9\u6837\u7684\u914D\u7F6E\uFF0CWebpack \u5728\u6253\u5305\u65F6\u4F1A\u81EA\u52A8\u5C06 node_modules \u4E2D\u7684\u4F9D\u8D56\u548C\u4E1A\u52A1\u4EE3\u7801\u5206\u79BB\u5F00\u6765\uFF0C\u4E1A\u52A1\u4EE3\u7801\u4F1A\u88AB\u6253\u5305\u5230 ",(0,l.jsx)(n.code,{children:"main"})," chunk \u4E2D\uFF0C\u800C\u7B2C\u4E09\u65B9\u5E93\u5219\u4F1A\u6253\u5305\u5230 ",(0,l.jsx)(n.code,{children:"vendors"})," chunk\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6BCF\u4E2A\u5165\u53E3 chunk \u4FDD\u5B58\u4E86\u5168\u90E8\u5176\u7528\u7684\u6A21\u5757(modules)\u3002\u4F7F\u7528 dependOn \u9009\u9879\u4F60\u53EF\u4EE5\u4E0E\u53E6\u4E00\u4E2A\u5165\u53E3 chunk \u5171\u4EAB\u6A21\u5757:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  entry: {\n    app: { import: './app.js', dependOn: 'react-vendors' },\n    'react-vendors': ['react', 'react-dom', 'prop-types']\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"app \u8FD9\u4E2A chunk \u5C31\u4E0D\u4F1A\u5305\u542B react-vendors \u62E5\u6709\u7684\u6A21\u5757\u4E86."}),"\n",(0,l.jsx)(n.p,{children:"dependOn \u9009\u9879\u7684\u4E5F\u53EF\u4EE5\u4E3A\u5B57\u7B26\u4E32\u6570\u7EC4\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  entry: {\n    moment: { import: 'moment-mini', runtime: 'runtime' },\n    reactvendors: { import: ['react', 'react-dom'], runtime: 'runtime' },\n    testapp: {\n      import: './wwwroot/component/TestApp.tsx',\n      dependOn: ['reactvendors', 'moment']\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6B64\u5916\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6570\u7EC4\u4E3A\u6BCF\u4E2A\u5165\u53E3\u6307\u5B9A\u591A\u4E2A\u6587\u4EF6\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  entry: {\n    app: { import: ['./app.js', './app2.js'], dependOn: 'react-vendors' },\n    'react-vendors': ['react', 'react-dom', 'prop-types']\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u770B\u4E00\u4E2A\u5B8C\u6574\u6848\u4F8B"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  entry: {\n    home: './home.js',\n    shared: ['react', 'react-dom', 'redux', 'react-redux'],\n    catalog: {\n      import: './catalog.js',\n      filename: 'pages/catalog.js',\n      dependOn: 'shared',\n      chunkLoading: false // Disable chunks that are loaded on demand and put everything in the main chunk.\n    },\n    personal: {\n      import: './personal.js',\n      filename: 'pages/personal.js',\n      dependOn: 'shared',\n      chunkLoading: 'jsonp',\n      asyncChunks: true, // Create async chunks that are loaded on demand.\n      layer: 'name of layer' // set the layer for an entry point\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u63D2\u4EF6\u540D\u79F0"}),(0,l.jsx)(n.th,{children:"\u4F5C\u7528"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HtmlWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u751F\u6210 HTML \u6587\u4EF6\uFF0C\u5E76\u5C06\u6253\u5305\u540E\u7684\u8D44\u6E90\u81EA\u52A8\u6CE8\u5165\u5230 HTML \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MiniCssExtractPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06 CSS \u4EE3\u7801\u63D0\u53D6\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230 JavaScript \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CopyWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06\u6307\u5B9A\u7684\u6587\u4EF6\u6216\u76EE\u5F55\u590D\u5236\u5230\u8F93\u51FA\u76EE\u5F55\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CleanWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6BCF\u6B21\u6784\u5EFA\u4E4B\u524D\u6E05\u7406\u8F93\u51FA\u76EE\u5F55\uFF0C\u907F\u514D\u65E7\u7684\u6587\u4EF6\u6B8B\u7559\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefinePlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u5168\u5C40\u5E38\u91CF\uFF0C\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u76F4\u63A5\u4F7F\u7528\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"})}),(0,l.jsx)(n.td,{children:"\u542F\u7528\u70ED\u6A21\u5757\u66F4\u6362\uFF08Hot Module Replacement\uFF09\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u73B0\u4EE3\u7801\u4FEE\u6539\u540E\u5B9E\u65F6\u66F4\u65B0\u9875\u9762\uFF0C\u65E0\u9700\u5237\u65B0\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ProvidePlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u52A0\u8F7D\u6A21\u5757\uFF0C\u4F7F\u6A21\u5757\u5728\u4F7F\u7528\u65F6\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5BF9\u5E94\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u65E0\u9700\u5F15\u5165\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MiniCssExtractPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06 CSS \u4EE3\u7801\u63D0\u53D6\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230 JavaScript \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OptimizeCSSAssetsPlugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29\u63D0\u53D6\u51FA\u7684 CSS \u6587\u4EF6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"uglifyjs-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29 JavaScript \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack-bundle-analyzer"})}),(0,l.jsx)(n.td,{children:"\u5206\u6790\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u53EF\u89C6\u5316\u5C55\u793A\uFF0C\u65B9\u4FBF\u4F18\u5316\u6253\u5305\u7ED3\u679C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CompressionWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u4F7F\u7528 gzip \u6216\u5176\u4ED6\u538B\u7F29\u7B97\u6CD5\u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29\uFF0C\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\uFF0C\u52A0\u5FEB\u7F51\u7EDC\u4F20\u8F93\u901F\u5EA6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CopyWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06\u6307\u5B9A\u7684\u6587\u4EF6\u6216\u76EE\u5F55\u590D\u5236\u5230\u8F93\u51FA\u76EE\u5F55\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FriendlyErrorsWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u63D0\u4F9B\u53CB\u597D\u7684\u6784\u5EFA\u9519\u8BEF\u63D0\u793A\u548C\u4F18\u5316\u6784\u5EFA\u901F\u5EA6\u7684\u529F\u80FD\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ImageminWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29\u56FE\u7247\u8D44\u6E90\uFF0C\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\uFF0C\u63D0\u5347\u52A0\u8F7D\u901F\u5EA6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"})}),(0,l.jsx)(n.td,{children:"\u542F\u7528\u70ED\u6A21\u5757\u66F4\u6362\uFF08Hot Module Replacement\uFF09\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u73B0\u4EE3\u7801\u4FEE\u6539\u540E\u5B9E\u65F6\u66F4\u65B0\u9875\u9762\uFF0C\u65E0\u9700\u5237\u65B0\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HtmlWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u751F\u6210 HTML \u6587\u4EF6\uFF0C\u5E76\u5C06\u6253\u5305\u540E\u7684\u8D44\u6E90\u81EA\u52A8\u6CE8\u5165\u5230 HTML \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"IgnorePlugin"})}),(0,l.jsx)(n.td,{children:"\u5FFD\u7565\u7279\u5B9A\u7684\u6A21\u5757\uFF0C\u907F\u514D\u5C06\u5176\u6253\u5305\u5230\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BannerPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6253\u5305\u7684\u6587\u4EF6\u5757\u9876\u90E8\u6DFB\u52A0\u81EA\u5B9A\u4E49\u7684\u6CE8\u91CA\u548C\u4FE1\u606F\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack.DefinePlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u5168\u5C40\u5E38\u91CF\uFF0C\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u76F4\u63A5\u4F7F\u7528\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack.ProgressPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u6784\u5EFA\u8FDB\u5EA6\u4FE1\u606F\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack-bundle-analyzer"})}),(0,l.jsx)(n.td,{children:"\u5206\u6790\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u53EF\u89C6\u5316\u5C55\u793A\uFF0C\u65B9\u4FBF\u4F18\u5316\u6253\u5305\u7ED3\u679C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpackbar"})}),(0,l.jsx)(n.td,{children:"\u5728\u547D\u4EE4\u884C\u4E2D\u663E\u793A\u6784\u5EFA\u8FDB\u5EA6\u6761\uFF0C\u63D0\u4F9B\u66F4\u76F4\u89C2\u7684\u6784\u5EFA\u8FDB\u5EA6\u4FE1\u606F\u3002"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E9B\u63D2\u4EF6\u53EF\u4EE5\u6839\u636E\u9700\u8981\u914D\u7F6E\u5728 Webpack \u7684\u63D2\u4EF6\u5217\u8868\uFF08",(0,l.jsx)(n.code,{children:"plugins"}),"\uFF09\u4E2D\uFF0C\u4EE5\u5B9E\u73B0\u5BF9\u6784\u5EFA\u8FC7\u7A0B\u7684\u5404\u79CD\u589E\u5F3A\u548C\u4F18\u5316\u64CD\u4F5C\u3002"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Loader \u540D\u79F0"}),(0,l.jsx)(n.th,{children:"\u4F5C\u7528"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"babel-loader"})}),(0,l.jsx)(n.td,{children:"\u5C06 ES6+ \u4EE3\u7801\u8F6C\u6362\u4E3A ES5 \u4EE3\u7801\uFF0C\u4EE5\u4FBF\u5728\u65E7\u7248\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"css-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 CSS \u6587\u4EF6\uFF0C\u5904\u7406 CSS \u4E2D\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5E76\u5C06 CSS \u8F6C\u6362\u4E3A JS \u6A21\u5757\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"style-loader"})}),(0,l.jsx)(n.td,{children:"\u5C06 CSS \u4EE3\u7801\u4EE5\u5185\u8054\u7684\u65B9\u5F0F\u6CE8\u5165\u5230 HTML \u9875\u9762\u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"file-loader"})}),(0,l.jsx)(n.td,{children:"\u5904\u7406\u6587\u4EF6\u8D44\u6E90\uFF08\u5982\u56FE\u7247\u3001\u5B57\u4F53\u7B49\uFF09\uFF0C\u5C06\u6587\u4EF6\u590D\u5236\u5230\u8F93\u51FA\u76EE\u5F55\uFF0C\u5E76\u8FD4\u56DE\u6587\u4EF6\u8DEF\u5F84\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"url-loader"})}),(0,l.jsxs)(n.td,{children:["\u4E0E ",(0,l.jsx)(n.code,{children:"file-loader"})," \u7C7B\u4F3C\uFF0C\u4F46\u53EF\u4EE5\u6839\u636E\u6587\u4EF6\u5927\u5C0F\u5C06\u6587\u4EF6\u8F6C\u6362\u4E3A Data URL\uFF08base64 \u683C\u5F0F\uFF09\u6216\u6587\u4EF6\u8DEF\u5F84\u3002"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"sass-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 Sass/SCSS \u6587\u4EF6\uFF0C\u5E76\u5C06\u5176\u8F6C\u6362\u4E3A CSS \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"less-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 Less \u6587\u4EF6\uFF0C\u5E76\u5C06\u5176\u8F6C\u6362\u4E3A CSS \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"postcss-loader"})}),(0,l.jsx)(n.td,{children:"\u4F7F\u7528 PostCSS \u5904\u7406 CSS\uFF0C\u53EF\u4EE5\u8FDB\u884C\u81EA\u52A8\u6DFB\u52A0\u524D\u7F00\u3001\u538B\u7F29\u3001CSS Modules \u7B49\u64CD\u4F5C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ts-loader"})}),(0,l.jsx)(n.td,{children:"\u5C06 TypeScript \u4EE3\u7801\u8F6C\u6362\u4E3A JavaScript \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"eslint-loader"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 ESLint \u8FDB\u884C\u4EE3\u7801\u68C0\u67E5\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"stylelint-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 Stylelint \u8FDB\u884C CSS/SCSS \u4EE3\u7801\u68C0\u67E5\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"vue-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 Vue \u5355\u6587\u4EF6\u7EC4\u4EF6\uFF08.vue \u6587\u4EF6\uFF09\uFF0C\u5E76\u5C06\u5176\u8F6C\u6362\u4E3A JavaScript \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"image-webpack-loader"})}),(0,l.jsx)(n.td,{children:"\u4F18\u5316\u56FE\u7247\u8D44\u6E90\uFF0C\u5305\u62EC\u538B\u7F29\u3001\u8F6C\u6362\u683C\u5F0F\u7B49\u64CD\u4F5C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"html-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 HTML \u6587\u4EF6\uFF0C\u5904\u7406\u5176\u4E2D\u7684\u5F15\u7528\u8D44\u6E90\uFF08\u5982\u56FE\u7247\u3001\u5B57\u4F53\u7B49\uFF09\uFF0C\u5E76\u8FD4\u56DE\u5904\u7406\u540E\u7684 HTML \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"markdown-loader"})}),(0,l.jsx)(n.td,{children:"\u5C06 Markdown \u6587\u4EF6\u8F6C\u6362\u4E3A HTML \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"json-loader"})}),(0,l.jsx)(n.td,{children:"\u89E3\u6790 JSON \u6587\u4EF6\uFF0C\u5E76\u8FD4\u56DE\u89E3\u6790\u540E\u7684 JavaScript \u5BF9\u8C61\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"eslint-loader"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 ESLint \u8FDB\u884C\u4EE3\u7801\u68C0\u67E5\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"tslint-loader"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 TSLint \u8FDB\u884C TypeScript \u4EE3\u7801\u68C0\u67E5\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"prettier-loader"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 Prettier \u8FDB\u884C\u4EE3\u7801\u683C\u5F0F\u5316\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"stylelint-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u4F7F\u7528 Stylelint \u8FDB\u884C CSS/SCSS \u4EE3\u7801\u68C0\u67E5\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"mini-css-extract-plugin"})}),(0,l.jsx)(n.td,{children:"\u63D0\u53D6 CSS \u4EE3\u7801\u5230\u5355\u72EC\u7684\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230 JavaScript \u4EE3\u7801\u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"optimize-css-assets-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29 CSS \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"terser-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29 JavaScript \u4EE3\u7801\u3002"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E9B Loader \u53EF\u4EE5\u6839\u636E\u9700\u8981\u914D\u7F6E\u5728 Webpack \u7684\u6A21\u5757\u89C4\u5219\uFF08",(0,l.jsx)(n.code,{children:"module.rules"}),"\uFF09\u4E2D\uFF0C\u4EE5\u5B9E\u73B0\u5BF9\u4E0D\u540C\u7C7B\u578B\u6587\u4EF6\u7684\u5904\u7406\u548C\u8F6C\u6362\u64CD\u4F5C\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-loader-plugin",children:"loader \u548C plugin \u6709\u5565\u533A\u522B"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"created_at: 2023-04-03T00:55:06Z"}),"\n",(0,l.jsx)(n.li,{children:"updated_at: 2023-04-03T00:55:06Z"}),"\n",(0,l.jsx)(n.li,{children:"labels: \u5DE5\u7A0B\u5316, \u963F\u91CC\u5DF4\u5DF4"}),"\n",(0,l.jsx)(n.li,{children:"milestone: \u4E2D"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728Webpack\u4E2D\uFF0CLoader\u548CPlugin\u662F\u4E24\u4E2A\u4E0D\u540C\u7684\u6982\u5FF5\uFF0C\u5B83\u4EEC\u7684\u4F5C\u7528\u548C\u4F7F\u7528\u65B9\u5F0F\u4E5F\u6709\u6240\u4E0D\u540C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Loader\u7528\u4E8E\u5BF9\u6E90\u4EE3\u7801\u6587\u4EF6\u8FDB\u884C\u8F6C\u6362\u548C\u5904\u7406\uFF0C\u800CPlugin\u7528\u4E8E\u5BF9Webpack\u7684\u7F16\u8BD1\u8FC7\u7A0B\u8FDB\u884C\u6269\u5C55\u548C\u589E\u5F3A\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Loader"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Loader\u662FWebpack\u4E2D\u7684\u4E00\u4E2A\u6838\u5FC3\u6982\u5FF5\uFF0C\u5B83\u7528\u4E8E\u5904\u7406\u6E90\u4EE3\u7801\u6587\u4EF6\uFF0C\u5C06\u5B83\u4EEC\u8F6C\u6362\u6210Webpack\u53EF\u5904\u7406\u7684\u6A21\u5757\u3002Webpack\u5728\u5904\u7406\u4EE3\u7801\u6A21\u5757\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4F1A\u6839\u636E\u6A21\u5757\u7684\u7C7B\u578B\u6765\u9009\u62E9\u76F8\u5E94\u7684Loader\u8FDB\u884C\u5904\u7406\uFF0C\u4F8B\u5982\uFF0C\u5904\u7406CSS\u6587\u4EF6\u9700\u8981\u4F7F\u7528css-loader\uFF0C\u5904\u7406\u56FE\u7247\u9700\u8981\u4F7F\u7528file-loader\u7B49\u3002\u4F7F\u7528Loader\u53EF\u4EE5\u5B9E\u73B0\u4EE3\u7801\u8F6C\u6362\u3001\u6587\u4EF6\u5904\u7406\u3001\u4EE3\u7801\u538B\u7F29\u7B49\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Loader\u7684\u4F7F\u7528\u65B9\u5F0F\u662F\u5728Webpack\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u5B9A\u4E49module.rules\u5C5E\u6027\uFF0C\u5B83\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6BCF\u4E2A\u5143\u7D20\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u4E8E\u63CF\u8FF0\u5982\u4F55\u5904\u7406\u7279\u5B9A\u7C7B\u578B\u7684\u6587\u4EF6\u3002\u4E00\u4E2ALoader\u5BF9\u8C61\u901A\u5E38\u5305\u62EC\u4EE5\u4E0B\u51E0\u4E2A\u5C5E\u6027\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"test\uFF1A\u7528\u4E8E\u5339\u914D\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6\u7C7B\u578B\uFF0C\u901A\u5E38\u662F\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u3002"}),"\n",(0,l.jsx)(n.li,{children:"use\uFF1A\u6307\u5B9A\u9700\u8981\u4F7F\u7528\u7684Loader\uFF0C\u53EF\u4EE5\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u6216\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E2A\u5143\u7D20\u90FD\u662F\u4E00\u4E2ALoader\u3002"}),"\n",(0,l.jsx)(n.li,{children:"exclude/include\uFF1A\u6307\u5B9A\u9700\u8981\u6392\u9664/\u5305\u542B\u7684\u6587\u4EF6\u5939\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\uFF0C\u5904\u7406CSS\u6587\u4EF6\u9700\u8981\u4F7F\u7528css-loader\u548Cstyle-loader\uFF0C\u53EF\u4EE5\u5728Webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = [\n  {\n    test: /\\.css$/,\n    use: ['style-loader', 'css-loader']\n  }\n]\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Plugin"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Plugin\u662FWebpack\u4E2D\u7684\u53E6\u4E00\u4E2A\u6838\u5FC3\u6982\u5FF5\uFF0C\u5B83\u7528\u4E8E\u6269\u5C55Webpack\u7684\u529F\u80FD\u3002Plugin\u53EF\u4EE5\u7528\u4E8E\u6267\u884C\u4EFB\u610F\u7C7B\u578B\u7684\u4EFB\u52A1\uFF0C\u4F8B\u5982\uFF0C\u751F\u6210HTML\u6587\u4EF6\u3001\u538B\u7F29\u4EE3\u7801\u3001\u63D0\u53D6\u516C\u5171\u4EE3\u7801\u7B49\u3002\u4F7F\u7528Plugin\u53EF\u4EE5\u5B9E\u73B0Webpack\u65E0\u6CD5\u5904\u7406\u7684\u590D\u6742\u4EFB\u52A1\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Plugin\u7684\u4F7F\u7528\u65B9\u5F0F\u662F\u5728Webpack\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u5B9A\u4E49plugins\u5C5E\u6027\uFF0C\u5B83\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6BCF\u4E2A\u5143\u7D20\u662F\u4E00\u4E2APlugin\u5B9E\u4F8B\u3002Plugin\u901A\u5E38\u5305\u62EC\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u6CD5\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"apply\uFF1A\u7528\u4E8E\u5B89\u88C5\u63D2\u4EF6\uFF0C\u63A5\u6536\u4E00\u4E2Acompiler\u5BF9\u8C61\u4F5C\u4E3A\u53C2\u6570\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u4E00\u4E9BWebpack\u94A9\u5B50\u51FD\u6570\u7684\u5B9E\u73B0\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\uFF0C\u751F\u6210HTML\u6587\u4EF6\u9700\u8981\u4F7F\u7528HtmlWebpackPlugin\uFF0C\u53EF\u4EE5\u5728Webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const HtmlWebpackPlugin = require('html-webpack-plugin')\nmodule.exports = {\n  // ...\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'My App',\n      template: './src/index.html'\n    })\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u8868\u683C\u5BF9\u6BD4\u4ED6\u4EEC\u4E4B\u95F4\u7684\u5DEE\u5F02\u548C\u9002\u7528\u8303\u56F4"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u533A\u522B"}),(0,l.jsx)(n.th,{children:"Loader"}),(0,l.jsx)(n.th,{children:"Plugin"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u8F93\u5165/\u8F93\u51FA"}),(0,l.jsx)(n.td,{children:"\u8F93\u5165\u6587\u4EF6\uFF0C\u8F93\u51FA\u5904\u7406\u540E\u7684\u6587\u4EF6"}),(0,l.jsx)(n.td,{children:"\u53EF\u4EE5\u5728Webpack\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u5904\u7406\u8F93\u51FA\u7ED3\u679C\u6216\u505A\u989D\u5916\u5904\u7406"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4F7F\u7528\u65B9\u5F0F"}),(0,l.jsx)(n.td,{children:"\u5728\u6A21\u5757\u52A0\u8F7D\u65F6\u76F4\u63A5\u8C03\u7528"}),(0,l.jsx)(n.td,{children:"\u5728Webpack\u914D\u7F6E\u4E2D\u8FDB\u884C\u914D\u7F6E"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u529F\u80FD"}),(0,l.jsx)(n.td,{children:"\u7528\u4E8E\u5904\u7406\u67D0\u4E9B\u7C7B\u578B\u7684\u6587\u4EF6"}),(0,l.jsx)(n.td,{children:"\u53EF\u4EE5\u5904\u7406\u6253\u5305\u8FC7\u7A0B\u7684\u5404\u4E2A\u73AF\u8282"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5B9E\u73B0\u65B9\u5F0F"}),(0,l.jsx)(n.td,{children:"\u5BFC\u51FA\u4E00\u4E2A\u51FD\u6570"}),(0,l.jsx)(n.td,{children:"\u5BFC\u51FA\u4E00\u4E2A\u7C7B"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u914D\u7F6E\u65B9\u5F0F"}),(0,l.jsx)(n.td,{children:"\u5728Webpack\u914D\u7F6E\u4E2D\u4F7F\u7528"}),(0,l.jsx)(n.td,{children:"\u5728Webpack\u914D\u7F6E\u4E2D\u4F7F\u7528"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4F5C\u7528"}),(0,l.jsx)(n.td,{children:"\u8F6C\u6362\u6587\u4EF6\u6216\u6A21\u5757"}),(0,l.jsx)(n.td,{children:"\u5BF9\u6574\u4E2A\u6784\u5EFA\u8FC7\u7A0B\u8FDB\u884C\u81EA\u5B9A\u4E49\u64CD\u4F5C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u9002\u7528\u573A\u666F"}),(0,l.jsx)(n.td,{children:"\u5904\u7406\u5404\u79CD\u7C7B\u578B\u7684\u6587\u4EF6\uFF0C\u5982css\u3001\u56FE\u7247\u7B49"}),(0,l.jsx)(n.td,{children:"\u6267\u884C\u6BD4\u8F83\u590D\u6742\u7684\u64CD\u4F5C\uFF0C\u5982\u4EE3\u7801\u538B\u7F29\u3001\u4EE3\u7801\u5206\u5272\u7B49"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4F7F\u7528\u65B9\u5F0F"}),(0,l.jsx)(n.td,{children:"\u9700\u8981\u5728Webpack\u4E2D\u660E\u786E\u7684\u6307\u5B9A"}),(0,l.jsx)(n.td,{children:"\u65E0\u6CD5\u5355\u72EC\u4F7F\u7528\uFF0C\u5FC5\u987B\u5728Webpack\u4E2D\u660E\u786E\u7684\u6307\u5B9A\u4F7F\u7528"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4F5C\u7528\u5BF9\u8C61"}),(0,l.jsx)(n.td,{children:"\u9488\u5BF9\u6BCF\u4E00\u4E2A\u6587\u4EF6\u8FDB\u884C\u5904\u7406"}),(0,l.jsx)(n.td,{children:"\u9488\u5BF9\u6574\u4E2A\u6784\u5EFA\u8FC7\u7A0B\u8FDB\u884C\u5904\u7406"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u4F53\u800C\u8A00\uFF0CLoader\u4E3B\u8981\u7528\u4E8E\u9488\u5BF9\u5355\u4E2A\u6587\u4EF6\u8FDB\u884C\u5904\u7406\uFF0C\u53EF\u4EE5\u6839\u636E\u4E0D\u540C\u6587\u4EF6\u7C7B\u578B\u6765\u9009\u62E9\u5BF9\u5E94\u7684Loader\uFF1BPlugin\u5219\u662F\u9488\u5BF9\u6574\u4E2A\u6784\u5EFA\u8FC7\u7A0B\u8FDB\u884C\u81EA\u5B9A\u4E49\u64CD\u4F5C\uFF0C\u6BD4\u5982\u4EE3\u7801\u538B\u7F29\u3001\u5206\u79BBCSS\u6587\u4EF6\u3001\u521B\u5EFAHTML\u6587\u4EF6\u7B49\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-webpack-loader",children:"\u624B\u5199 webpack loader \u6709\u54EA\u4E9B\u91CD\u8981 api \u4E0E\u6CE8\u610F\u4E8B\u9879\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u5F00\u53D1\u4E00\u4E2A webpack loader \u65F6\uFF0C\u9664\u4E86\u7406\u89E3 loader \u7684\u57FA\u672C\u6982\u5FF5\u548C\u529F\u80FD\u4E4B\u5916\uFF0C\u8FD8\u6709\u4E00\u4E9B\u91CD\u8981\u7684 API \u548C\u6CE8\u610F\u4E8B\u9879\u662F\u5FC5\u9700\u4E86\u89E3\u7684\u3002\u8FD9\u4E9B\u80FD\u591F\u5E2E\u52A9\u4F60\u66F4\u9AD8\u6548\u5730\u7F16\u5199\u548C\u8C03\u8BD5 loader\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u91CD\u8981 API"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"this.callback"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728 loader \u51FD\u6570\u5185\u90E8\uFF0C",(0,l.jsx)(n.code,{children:"this.callback"})," \u662F\u4E00\u4E2A\u5141\u8BB8 loader \u5F02\u6B65\u8FD4\u56DE\u7ED3\u679C\u7684\u51FD\u6570\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"this.callback(err, content, sourceMap, meta)"})," \u6765\u4F20\u9012\u9519\u8BEF\u6216\u8FD4\u56DE\u7ED3\u679C\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"this.async"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u8C03\u7528 ",(0,l.jsx)(n.code,{children:"this.async"})," \u4F1A\u8FD4\u56DE\u4E00\u4E2A callback \u51FD\u6570\uFF0C\u4F60\u53EF\u4EE5\u5728\u5F02\u6B65\u64CD\u4F5C\u5B8C\u6210\u540E\u901A\u8FC7\u8FD9\u4E2A\u51FD\u6570\u8FD4\u56DE\u7ED3\u679C\u3002\u5982\u679C loader \u8981\u8FDB\u884C\u5F02\u6B65\u5904\u7406\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u975E\u5E38\u6709\u7528\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"this.loaders"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"this.loaders"})," \u662F\u4E00\u4E2A\u5305\u542B\u6240\u6709\u9700\u8981\u5E94\u7528\u5230\u5F53\u524D\u5904\u7406\u6587\u4EF6\u7684 loaders \u7684\u6570\u7EC4\uFF0C\u5F53\u524D loader \u7684\u4FE1\u606F\u4E5F\u5305\u542B\u5728\u5185\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"this.resourcePath"})," \u548C ",(0,l.jsx)(n.strong,{children:"this.resourceQuery"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8FD9\u4E24\u4E2A\u5C5E\u6027\u63D0\u4F9B\u4E86\u5F53\u524D\u6B63\u5728\u5904\u7406\u7684\u8D44\u6E90\u6587\u4EF6\u7684\u8DEF\u5F84\u548C\u67E5\u8BE2\u5B57\u7B26\u4E32\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"this.data"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5728 loader \u7684 pitch \u9636\u6BB5\u548C\u666E\u901A\u9636\u6BB5\u4E4B\u95F4\u5171\u4EAB\u6570\u636E\u7684\u81EA\u7531\u5BF9\u8C61\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Loader Utils (loader-utils)"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"loader-utils"})," \u63D0\u4F9B\u4E86\u4E00\u4E9B\u5B9E\u7528\u7684\u5DE5\u5177\u51FD\u6570\uFF0C\u6BD4\u5982 ",(0,l.jsx)(n.code,{children:"getOptions(this)"})," \u7528\u4E8E\u83B7\u53D6 loader \u914D\u7F6E\u9879\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4F7F\u7528\u5F02\u6B65 API \u5904\u7406\u5F02\u6B65\u4EFB\u52A1"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5BF9\u4E8E\u9700\u8981\u8FDB\u884C\u5F02\u6B65\u64CD\u4F5C\u7684 loader\uFF0C\u5E94\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"this.async"})," \u6765\u83B7\u53D6\u5F02\u6B65 callback \u51FD\u6570\uFF0C\u800C\u4E0D\u662F\u76F4\u63A5\u8FD4\u56DE\u5185\u5BB9\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4FDD\u6301 loader \u7684\u7B80\u5355"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6309\u7167\u6700\u4F73\u5B9E\u8DF5\uFF0C\u6BCF\u4E2A loader \u53EA\u505A\u4E00\u4EF6\u4E8B\u60C5\u3002\u8FD9\u8BA9 loader \u94FE\u66F4\u52A0\u7075\u6D3B\u548C\u53EF\u7EF4\u62A4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u907F\u514D\u4F7F\u7528\u7BAD\u5934\u51FD\u6570"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728\u7F16\u5199 loader \u65F6\uFF0C\u907F\u514D\u4F7F\u7528\u7BAD\u5934\u51FD\u6570\u6765\u58F0\u660E loader \u51FD\u6570\uFF0C\u56E0\u4E3A\u7BAD\u5934\u51FD\u6570\u4F1A\u7ED1\u5B9A\u7236\u4F5C\u7528\u57DF\u7684 ",(0,l.jsx)(n.code,{children:"this"}),"\uFF0C\u800C\u4F60\u9700\u8981\u8BBF\u95EE webpack \u4F20\u9012\u7ED9 loader \u51FD\u6570\u7684 ",(0,l.jsx)(n.code,{children:"this"})," \u4E0A\u4E0B\u6587\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5904\u7406\u5F02\u5E38"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728\u5904\u7406\u8D44\u6E90\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u9047\u5230\u9519\u8BEF\uFF0C\u5E94\u8BE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"this.emitError"})," \u65B9\u6CD5\u6216\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"this.callback"})," \u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u9012\u9519\u8BEF\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7F13\u5B58"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9664\u975E\u6709\u7279\u5B9A\u7684\u7406\u7531\uFF0C\u5426\u5219\u907F\u514D\u5173\u95ED loader \u7684\u7F13\u5B58\u3002webpack \u9ED8\u8BA4\u4F1A\u7F13\u5B58 loader \u7684\u7ED3\u679C\uFF0C\u4EE5\u63D0\u5347\u6784\u5EFA\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u6620\u5C04\uFF08Source Maps\uFF09"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5982\u679C\u4F60\u7684 loader \u8F6C\u6362\u6E90\u5185\u5BB9\uFF0C\u751F\u6210\u65B0\u7684\u6E90\u5185\u5BB9\uFF0C\u5E94\u5F53\u751F\u6210\u65B0\u7684 source map\u3002\u7136\u540E\uFF0C\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"this.callback"})," \u6765\u8FD4\u56DE\u66F4\u65B0\u540E\u7684\u4EE3\u7801\u548C\u5BF9\u5E94\u7684 source map\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u901A\u4FE1"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5982\u679C\u6709\u591A\u4E2A loader \u5BF9\u540C\u4E00\u4E2A\u8D44\u6E90\u8FDB\u884C\u5904\u7406\uFF0C\u5B83\u4EEC\u4E4B\u95F4\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"this.data"})," \u6765\u5171\u4EAB\u6570\u636E\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u638C\u63E1\u5E76\u59A5\u5F53\u4F7F\u7528\u4E0A\u8FF0 API \u548C\u6CE8\u610F\u4E8B\u9879\uFF0C\u5C06\u5E2E\u52A9\u4F60\u5F00\u53D1\u51FA\u9AD8\u6548\u3001\u5065\u58EE\u4E14\u6613\u4E8E\u7EF4\u62A4\u7684 webpack loader\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u5728\u65B9\u6CD5\u8C03\u7528\u65F6\u4E0A\u62A5\u8C03\u7528\u6E90\u6587\u4EF6\u7684\u5730\u5740\uFF0C\u5E76\u4E14\u5E0C\u671B\u901A\u8FC7 webpack \u7F16\u8BD1\u65F6\u6765\u5B9E\u73B0\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u7F16\u5199\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684 webpack loader \u6765\u64CD\u4F5C\u6E90\u4EE3\u7801\uFF0C\u4E3A\u7279\u5B9A\u7684\u65B9\u6CD5\u8C03\u7528\u63D2\u5165\u4E0A\u62A5\u7684\u4EE3\u7801\u3002\u81EA\u5B9A\u4E49 loader \u672C\u8D28\u4E0A\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u63A5\u6536\u6E90\u7801\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5BF9\u6E90\u7801\u8FDB\u884C\u5904\u7406\u540E\u8FD4\u56DE\u65B0\u7684\u6E90\u7801\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 1: \u8BBE\u8BA1\u4F60\u7684\u4E0A\u62A5\u903B\u8F91"}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\u660E\u786E\u4F60\u60F3\u8981\u4E0A\u62A5\u7684\u4FE1\u606F\u548C\u4E0A\u62A5\u7684\u65B9\u5F0F\u3002\u6BD4\u5982\uFF0C\u4F60\u53EF\u80FD\u60F3\u8981\u5728\u65B9\u6CD5\u8C03\u7528\u65F6\uFF0C\u63D2\u5165\u4E00\u4E2A\u4E0A\u62A5\u51FD\u6570\u8C03\u7528\uFF0C\u8BE5\u51FD\u6570\u5305\u542B\u5F53\u524D\u6587\u4EF6\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 2: \u521B\u5EFA\u81EA\u5B9A\u4E49 Loader"}),"\n",(0,l.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u5F00\u59CB\u7F16\u5199\u4F60\u7684 loader\u3002\u5047\u8BBE\u4F60\u6709\u4E00\u4E2A\u4E0A\u62A5\u51FD\u6570 ",(0,l.jsx)(n.code,{children:"reportFunction(filePath)"}),"\uFF0C\u4F60\u5E0C\u671B\u81EA\u52A8\u4E3A\u6240\u6709 ",(0,l.jsx)(n.code,{children:"targetMethod()"})," \u8C03\u7528\u6CE8\u5165\u8FD9\u4E2A\u4E0A\u62A5\u51FD\u6570\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["loader \u6587\u4EF6 ",(0,l.jsx)(n.code,{children:"report-loader.js"})," \u53EF\u80FD\u770B\u8D77\u6765\u50CF\u8FD9\u6837\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = function (source) {\n  // \u4F7F\u7528\u6B64 loader \u5904\u7406\u7684\u6587\u4EF6\u7684\u8DEF\u5F84\n  const filePath = this.resourcePath\n\n  // \u5B9A\u4E49\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7279\u5B9A\u7684\u65B9\u6CD5\u8C03\u7528\uFF0C\u6BD4\u5982 targetMethod()\n  const methodCallRegex = /targetMethod\\(\\)/g\n\n  // \u66FF\u6362\u5339\u914D\u5230\u7684\u65B9\u6CD5\u8C03\u7528\n  const modifiedSource = source.replace(methodCallRegex, function (match) {\n    // \u63D2\u5165\u4E0A\u62A5\u51FD\u6570\u8C03\u7528\uFF0C\u4F20\u5165\u6587\u4EF6\u8DEF\u5F84\n    return `reportFunction('${filePath}'); ${match}`\n  })\n\n  return modifiedSource\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u7B80\u5355\u7684 loader \u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u67E5\u627E\u6587\u4EF6\u4E2D\u6240\u6709\u7684 ",(0,l.jsx)(n.code,{children:"targetMethod()"})," \u8C03\u7528\uFF0C\u5E76\u5728\u6BCF\u4E2A\u8C03\u7528\u524D\u63D2\u5165 ",(0,l.jsx)(n.code,{children:"reportFunction(filePath)"})," \u7684\u8C03\u7528\u3002\u6CE8\u610F\uFF0C\u8003\u8651\u5230\u6587\u4EF6\u8DEF\u5F84\u53EF\u80FD\u9700\u8981\u5904\u7406\u624D\u80FD\u5B89\u5168\u5730\u7528\u4F5C\u5B57\u7B26\u4E32\u5B57\u9762\u91CF\uFF08\u4F8B\u5982\uFF0C\u8F6C\u4E49\u7279\u6B8A\u5B57\u7B26\uFF09\uFF0C\u8FD9\u91CC\u7684\u5B9E\u73B0\u505A\u5F97\u5F88\u7B80\u5355\uFF0C\u53EF\u80FD\u9700\u8981\u6839\u636E\u4F60\u7684\u5177\u4F53\u9700\u6C42\u8C03\u6574\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 3: \u5728 webpack \u914D\u7F6E\u4E2D\u4F7F\u7528\u4F60\u7684 Loader"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4F60\u7684 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u6587\u4EF6\u4E2D\uFF0C\u6DFB\u52A0\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"module.rules"})," \u6761\u76EE\uFF0C\u4EE5\u786E\u5B9A\u54EA\u4E9B\u6587\u4EF6\u5E94\u8BE5\u901A\u8FC7\u4F60\u7684 loader \u5904\u7406\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.js$/, // \u5339\u914D JavaScript \u6587\u4EF6\n        use: [\n          {\n            loader: 'path/to/your/report-loader.js' // \u4F7F\u7528\u81EA\u5B9A\u4E49 loader \u7684\u8DEF\u5F84\n          }\n        ]\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u786E\u4FDD\u5C06 ",(0,l.jsx)(n.code,{children:"loader"})," \u5C5E\u6027\u8BBE\u7F6E\u4E3A\u4F60\u81EA\u5B9A\u4E49 loader \u6587\u4EF6\u7684\u8DEF\u5F84\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6B63\u5219\u8868\u8FBE\u5F0F"}),": \u6211\u5728\u4F8B\u5B50\u4E2D\u4F7F\u7528\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u975E\u5E38\u7B80\u5355\uFF0C\u53EA\u5339\u914D\u7279\u5B9A\u5F62\u5F0F\u7684\u65B9\u6CD5\u8C03\u7528\u3002\u6839\u636E\u4F60\u7684\u9700\u8981\uFF0C\u53EF\u80FD\u8981\u7F16\u5199\u66F4\u590D\u6742\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u6216\u4F7F\u7528\u5176\u4ED6\u65B9\u6CD5\uFF08\u6BD4\u5982\u62BD\u8C61\u8BED\u6CD5\u6811\u89E3\u6790\u5E93\uFF0C\u5982 Babel\uFF09\u6765\u66F4\u51C6\u786E\u5730\u8BC6\u522B\u548C\u4FEE\u6539\u4EE3\u7801\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5B89\u5168\u6027"}),": \u81EA\u52A8\u4FEE\u6539\u6E90\u4EE3\u7801\u4F1A\u5E26\u6765\u98CE\u9669\uFF0C\u786E\u4FDD\u4F60\u7684\u5339\u914D\u548C\u66FF\u6362\u903B\u8F91\u4E0D\u4F1A\u5BFC\u81F4\u4EE3\u7801\u4E2D\u51FA\u73B0\u610F\u5916\u7684\u6539\u53D8\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6027\u80FD"}),": \u589E\u52A0\u81EA\u5B9A\u4E49 loader \u53EF\u80FD\u4F1A\u5F71\u54CD\u6784\u5EFA\u7684\u901F\u5EA6\uFF0C\u7279\u522B\u662F\u5339\u914D\u548C\u4FEE\u6539\u903B\u8F91\u6BD4\u8F83\u590D\u6742\u7684\u65F6\u5019\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u7F16\u5199\u548C\u6D4B\u8BD5\u597D\u4F60\u7684 loader \u540E\uFF0C\u5C31\u53EF\u4EE5\u96C6\u6210\u5230\u4F60\u7684\u9879\u76EE\u4E2D\uFF0C\u901A\u8FC7 webpack \u6784\u5EFA\u8FC7\u7A0B\u4E2D\u81EA\u52A8\u6267\u884C\u6240\u9700\u7684\u4EE3\u7801\u6CE8\u5165\u4E86\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-loader-commucation",children:"loader \u901A\u4FE1"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 webpack \u4E2D\uFF0Cloader \u4E4B\u95F4\u4F20\u9012\u6570\u636E\u7684\u5E38\u89C1\u65B9\u5F0F\u662F\u901A\u8FC7\u8D44\u6E90\u6587\u4EF6\uFF08\u5373\u8981\u5904\u7406\u7684\u6E90\u6587\u4EF6\u672C\u8EAB\uFF09\u7684\u5185\u5BB9\u3002\u6BCF\u4E2A loader \u63A5\u6536\u4E0A\u4E00\u4E2A loader \u7684\u5904\u7406\u7ED3\u679C\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5E76\u63D0\u4F9B\u81EA\u5DF1\u7684\u8F93\u51FA\u7ED9\u4E0B\u4E00\u4E2A loader\u3002\u8FD9\u79CD\u65B9\u5F0F\u9002\u7528\u4E8E\u5927\u591A\u6570\u4F7F\u7528\u573A\u666F\u3002\u7136\u800C\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0Cloader \u9700\u8981\u5728\u5B83\u4EEC\u4E4B\u95F4\u5171\u4EAB\u989D\u5916\u7684\u72B6\u6001\u6216\u6570\u636E\uFF0C\u800C\u4E0D\u4EC5\u4EC5\u662F\u6587\u4EF6\u5185\u5BB9\u3002\u5BF9\u4E8E\u8FD9\u79CD\u9700\u6C42\uFF0Cwebpack \u63D0\u4F9B\u4E86\u4E00\u79CD\u673A\u5236\uFF0C\u5141\u8BB8 loader \u4E4B\u95F4\u5171\u4EAB\u6570\u636E\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"this.data"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 webpack 4 \u53CA\u4EE5\u540E\u7684\u7248\u672C\u4E2D\uFF0C\u4E00\u4E2A loader \u53EF\u4EE5\u5229\u7528\u5B83\u7684 ",(0,l.jsx)(n.code,{children:"this.data"})," \u5C5E\u6027\u6765\u5171\u4EAB\u4F1A\u8BDD\u6570\u636E\u3002\u8FD9\u4E2A\u5C5E\u6027\u662F\u7279\u5B9A\u4E8E\u5F53\u524D loader \u8FD0\u884C\u5B9E\u4F8B\u7684\uFF0C\u53EF\u4EE5\u5728 loader \u7684 ",(0,l.jsx)(n.code,{children:"pitch"})," \u9636\u6BB5\u548C\u6B63\u5E38\u7684\u52A0\u8F7D\u9636\u6BB5\u4E4B\u95F4\u5171\u4EAB\u6570\u636E\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// pitch \u9636\u6BB5\nmodule.exports.pitch = function (remainingRequest, precedingRequest, data) {\n  data.sharedValue = 'Hello from pitch phase'\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u7247\u6BB5\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"pitch"})," \u65B9\u6CD5\u8BBE\u7F6E\u4E86 ",(0,l.jsx)(n.code,{children:"data.sharedValue"}),"\u3002\u8FD9\u4E2A ",(0,l.jsx)(n.code,{children:"pitch"})," \u65B9\u6CD5\u662F\u53EF\u9009\u7684\uFF0C\u5B83\u5728 loader \u5904\u7406\u8D44\u6E90\u4E4B\u524D\u6267\u884C\u3002",(0,l.jsx)(n.code,{children:"data"})," \u5BF9\u8C61\u4F1A\u4ECE ",(0,l.jsx)(n.code,{children:"pitch"})," \u9636\u6BB5\u4F20\u9012\u5230\u6B63\u5E38\u7684\u52A0\u8F7D\u9636\u6BB5\uFF0C\u4ECE\u800C\u53EF\u4EE5\u5728\u540E\u8005\u4E2D\u8BBF\u95EE\u4E4B\u524D\u8BBE\u7F6E\u7684\u5171\u4EAB\u503C\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'// \u6B63\u5E38\u7684\u52A0\u8F7D\u9636\u6BB5\nmodule.exports = function (content) {\n  const callback = this.async()\n  const sharedValue = this.data.sharedValue\n\n  // \u8FD9\u91CC\u53EF\u4EE5\u6839\u636E sharedValue \u6765\u5904\u7406 content\n  console.log(sharedValue) // \u5C06\u8F93\u51FA "Hello from pitch phase"\n\n  callback(null, content)\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u81EA\u5B9A\u4E49\u5C5E\u6027"}),"\n",(0,l.jsx)(n.p,{children:"\u4E00\u4E9B\u7279\u5B9A\u7684 loader \u5B9E\u73B0\u53EF\u80FD\u901A\u8FC7\u5411\u6E90\u6587\u4EF6\u5185\u5BB9\u9644\u52A0\u989D\u5916\u7684\u4FE1\u606F\u6765\u5B9E\u73B0\u95F4\u63A5\u7684\u901A\u4FE1\u3002\u4F8B\u5982\uFF0C\u4E00\u4E2A loader \u53EF\u4EE5\u5728\u6587\u4EF6\u5185\u5BB9\u7684\u672B\u5C3E\u8FFD\u52A0\u4E00\u4E9B\u6CE8\u91CA\u6216\u8005\u7279\u6B8A\u6807\u8BB0\uFF0C\u7136\u540E\u4E0B\u4E00\u4E2A loader \u53EF\u4EE5\u8BFB\u53D6\u8FD9\u4E9B\u6CE8\u91CA\u6216\u6807\u8BB0\u6765\u83B7\u53D6\u5FC5\u8981\u7684\u4FE1\u606F\u3002\u7136\u800C\uFF0C\u8FD9\u79CD\u65B9\u6CD5\u662F\u9AD8\u5EA6\u4F9D\u8D56\u4E0A\u4E0B\u6587\u4E14\u96BE\u4EE5\u7EF4\u62A4\u7684\uFF0C\u4E0D\u63A8\u8350\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\u4F7F\u7528\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsx)(n.p,{children:"\u5F53\u4F7F\u7528\u4E00\u79CD\u65B9\u6CD5\u5728 loader \u4E4B\u95F4\u5171\u4EAB\u6570\u636E\u65F6\uFF0C\u8BF7\u6CE8\u610F\u6570\u636E\u7684\u5171\u4EAB\u662F\u5728\u6BCF\u4E2A\u6A21\u5757\u7684\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u8FDB\u884C\u7684\uFF0C\u8FD9\u4E9B\u6570\u636E\u662F\u7279\u5B9A\u4E8E\u5F53\u524D\u5904\u7406\u4E2D\u7684\u8D44\u6E90\u6587\u4EF6\u7684\u3002\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u5171\u4EAB\u7684\u6570\u636E\u4E0D\u5E94\u8BE5\u5305\u542B\u654F\u611F\u4FE1\u606F\uFF0C\u4E5F\u4E0D\u5E94\u8BE5\u7528\u4E8E\u5728\u4E0D\u540C\u6A21\u5757\u6216\u4E0D\u540C\u6784\u5EFA\u4E4B\u95F4\u5171\u4EAB\u5168\u5C40\u72B6\u6001\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u7406\u89E3\u8FD9\u4E9B\u673A\u5236\u4EE5\u53CA\u5982\u4F55\u5728 loader \u4E4B\u95F4\u6B63\u786E\u5171\u4EAB\u6570\u636E\u662F\u521B\u5EFA\u9AD8\u6548\u53EF\u7EF4\u62A4 webpack \u6784\u5EFA\u6D41\u7A0B\u7684\u5173\u952E\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p2-plugin",children:"webpack plugin \u6709\u90A3\u4E9B\u91CD\u8981 api \u4E0E\u6CE8\u610F\u7684\u5730\u65B9\uFF1F"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.a,{href:"https://webpack.js.org/contribute/writing-a-plugin/",children:"plugin"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA\u4E00\u4E2A webpack \u63D2\u4EF6\u9700\u8981\u9075\u5FAA webpack \u63D2\u4EF6\u7684\u57FA\u672C\u7ED3\u6784\u548C\u539F\u5219\uFF0C\u540C\u65F6\u4E3A\u4E86\u5B9E\u73B0\u7EDF\u8BA1\u6E90\u7801\u91CC\u7684 ",(0,l.jsx)(n.code,{children:"console.log"})," \u8C03\u7528\u6570\u91CF\u4E0E\u8C03\u7528\u8DEF\u5F84\u7684\u76EE\u6807\uFF0C\u6211\u4EEC\u53EF\u80FD\u9700\u8981\u5BF9 webpack \u7684\u7F16\u8BD1\u8FC7\u7A0B\u6709\u4E00\u5B9A\u7684\u4E86\u89E3\uFF0C\u5C24\u5176\u662F\u5982\u4F55\u64CD\u4F5C webpack \u7684\u6A21\u5757\u7CFB\u7EDF\u5185\u90E8\u7684\u539F\u59CB\u6E90\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u521B\u5EFA\u8FD9\u6837\u4E00\u4E2A\u63D2\u4EF6\u7684\u6B65\u9AA4\u4E0E\u4EE3\u7801\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 1: \u5B9A\u4E49\u63D2\u4EF6\u7C7B"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u4F60\u9700\u8981\u5B9A\u4E49\u4E00\u4E2A JavaScript \u7C7B\u3002\u5728\u7C7B\u7684 ",(0,l.jsx)(n.code,{children:"apply"})," \u65B9\u6CD5\u4E2D\uFF0C\u4F60\u5C06\u4F1A\u76D1\u542C webpack \u7684 ",(0,l.jsx)(n.code,{children:"compilation"})," \u94A9\u5B50\u6765\u8BBF\u95EE\u5E76\u5904\u7406\u6A21\u5757\u7684\u6E90\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 2: \u76D1\u542C\u9002\u5F53\u7684 webpack \u94A9\u5B50"}),"\n",(0,l.jsxs)(n.p,{children:["\u9488\u5BF9\u6E90\u4EE3\u7801\u7684\u5904\u7406\uFF0C\u6211\u4EEC\u9009\u62E9\u76D1\u542C ",(0,l.jsx)(n.code,{children:"compilation"})," \u9636\u6BB5\u7684 ",(0,l.jsx)(n.code,{children:"optimizeModules"})," \u94A9\u5B50\u3002\u5728\u8FD9\u4E2A\u9636\u6BB5\uFF0C\u6A21\u5757\u7684\u539F\u59CB\u6E90\u4EE3\u7801\u53EF\u4EE5\u88AB\u8BBF\u95EE\u548C\u4FEE\u6539\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6B65\u9AA4 3: \u5904\u7406\u6E90\u4EE3\u7801"}),"\n",(0,l.jsxs)(n.p,{children:["\u5904\u7406\u6BCF\u4E2A\u6A21\u5757\u7684\u6E90\u4EE3\u7801\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528\u7B80\u5355\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u6216\u66F4\u9AD8\u7EA7\u7684\u65B9\u6CD5\uFF08\u5982 AST \u89E3\u6790\uFF09\u6765\u8BC6\u522B ",(0,l.jsx)(n.code,{children:"console.log"})," \u7684\u8C03\u7528\u3002\u5728\u8FD9\u4E2A\u793A\u4F8B\u4E2D\uFF0C\u6211\u5C06\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u7B80\u5316\u5904\u7406\u6D41\u7A0B\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u793A\u4F8B"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u63D2\u4EF6\u7684\u57FA\u672C\u5B9E\u73B0\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"class ConsoleLogStatsPlugin {\n  apply (compiler) {\n    compiler.hooks.compilation.tap('ConsoleLogStatsPlugin', (compilation) => {\n      compilation.moduleTemplates.JavaScript.hooks.render.tap('ConsoleLogStatsPlugin', (moduleSource, module) => {\n        // \u8BA1\u7B97\u5F53\u524D\u6A21\u5757\u7684 console.log \u8C03\u7528\u5E76\u8BB0\u5F55\u6587\u4EF6\u8DEF\u5F84\n        const source = moduleSource.source()\n        const consoleLogMatches = source.match(/console\\.log\\(/g) || []\n\n        if (consoleLogMatches.length > 0) {\n          console.log(`\u6A21\u5757 ${module.resource} \u5305\u542B ${consoleLogMatches.length} \u6B21 console.log \u8C03\u7528\u3002`)\n        }\n\n        return moduleSource\n      })\n    })\n  }\n}\n\nmodule.exports = ConsoleLogStatsPlugin\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u8BE5\u63D2\u4EF6"}),"\n",(0,l.jsxs)(n.p,{children:["\u8981\u5728\u4F60\u7684 webpack \u914D\u7F6E\u4E2D\u4F7F\u7528\u8FD9\u4E2A\u63D2\u4EF6\uFF0C\u9996\u5148\u8981\u5BFC\u5165\u5B83\uFF0C\u7136\u540E\u5C06\u5B83\u7684\u4E00\u4E2A\u5B9E\u4F8B\u6DFB\u52A0\u5230\u914D\u7F6E\u7684 ",(0,l.jsx)(n.code,{children:"plugins"})," \u6570\u7EC4\u4E2D\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const ConsoleLogStatsPlugin = require('./path/to/ConsoleLogStatsPlugin')\n\nmodule.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E...\n  plugins: [\n    new ConsoleLogStatsPlugin()\n    // ...\u5176\u4ED6\u63D2\u4EF6...\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6027\u80FD\u8003\u8651"}),"\uFF1A\u76F4\u63A5\u64CD\u4F5C\u6E90\u7801\u53EF\u80FD\u5BF9\u6784\u5EFA\u6027\u80FD\u6709\u4E00\u5B9A\u5F71\u54CD\u3002\u5982\u679C\u9879\u76EE\u8F83\u5927\uFF0C\u53EF\u80FD\u9700\u8981\u8003\u8651\u66F4\u9AD8\u6548\u7684\u65B9\u5F0F\uFF0C\u4F8B\u5982\u4EC5\u5728\u751F\u4EA7\u6784\u5EFA\u4E2D\u8FD0\u884C\u8BE5\u63D2\u4EF6\uFF0C\u6216\u8005\u4F7F\u7528\u66F4\u9AD8\u6548\u7684\u4EE3\u7801\u5206\u6790\u65B9\u6CD5\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u5C40\u9650\u6027"}),"\uFF1A\u7B80\u5355\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u53EF\u80FD\u65E0\u6CD5\u51C6\u786E\u5339\u914D\u6240\u6709 ",(0,l.jsx)(n.code,{children:"console.log"})," \u8C03\u7528\u7684\u573A\u666F\uFF0C\u5C24\u5176\u662F\u5F53\u4EE3\u7801\u4E2D\u5305\u542B\u591A\u884C\u8BED\u53E5\u6216\u590D\u6742\u8868\u8FBE\u5F0F\u65F6\u3002\u66F4\u590D\u6742\u7684\u573A\u666F\u53EF\u80FD\u9700\u8981\u4F7F\u7528\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08AST\uFF09\u89E3\u6790\u5DE5\u5177\uFF0C\u5982 Babel\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"webpack \u7248\u672C\u517C\u5BB9\u6027"}),"\uFF1Awebpack \u7684\u63D2\u4EF6 API \u5728\u4E0D\u540C\u7684\u7248\u672C\u4E4B\u95F4\u53EF\u80FD\u4F1A\u6709\u6240\u53D8\u5316\u3002\u4E0A\u8FF0\u4EE3\u7801\u793A\u4F8B\u662F\u57FA\u4E8E\u5047\u5B9A\u7684 API \u7ED3\u6784\u7F16\u5199\u7684\uFF0C\u5B9E\u9645\u4F7F\u7528\u65F6\u9700\u8981\u6839\u636E\u4F60\u7684 webpack \u7248\u672C\u8C03\u6574 API \u7684\u4F7F\u7528\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6B64\u63D2\u4EF6\u53EF\u4EE5\u89C6\u4E3A\u68C0\u6D4B\u6E90\u4EE3\u7801\u4E2D ",(0,l.jsx)(n.code,{children:"console.log"})," \u4F7F\u7528\u60C5\u51B5\u7684\u8D77\u70B9\uFF0C\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u9700\u6C42\u8FDB\u884C\u6269\u5C55\u548C\u4F18\u5316\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"webpack-dashboard\uFF1A\u53EF\u4EE5\u66F4\u53CB\u597D\u7684\u5C55\u793A\u76F8\u5173\u6253\u5305\u4FE1\u606F\u3002"}),"\n",(0,l.jsx)(n.li,{children:"webpack-merge\uFF1A\u63D0\u53D6\u516C\u5171\u914D\u7F6E\uFF0C\u51CF\u5C11\u91CD\u590D\u914D\u7F6E\u4EE3\u7801"}),"\n",(0,l.jsx)(n.li,{children:"speed-measure-webpack-plugin\uFF1A\u7B80\u79F0 SMP\uFF0C\u5206\u6790\u51FA Webpack \u6253\u5305\u8FC7\u7A0B\u4E2D Loader \u548C Plugin \u7684\u8017\u65F6\uFF0C\u6709\u52A9\u4E8E\u627E\u5230\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u7684\u6027\u80FD\u74F6\u9888\u3002"}),"\n",(0,l.jsx)(n.li,{children:"size-plugin\uFF1A\u76D1\u63A7\u8D44\u6E90\u4F53\u79EF\u53D8\u5316\uFF0C\u5C3D\u65E9\u53D1\u73B0\u95EE\u9898"}),"\n",(0,l.jsx)(n.li,{children:"HotModuleReplacementPlugin\uFF1A\u6A21\u5757\u70ED\u66FF\u6362"}),"\n",(0,l.jsx)(n.li,{children:"webpack.ProgressPlugin\uFF1A\u6253\u5305\u8FDB\u5EA6\u5206\u6790"}),"\n",(0,l.jsx)(n.li,{children:"webpack-bundle-analyzer\uFF1A\u6253\u5305\u7ED3\u679C\u5206\u6790"}),"\n",(0,l.jsx)(n.li,{children:"friendly-errors-webpack-plugin\uFF1A \u4EE3\u7801\u6E90\u7801\u7F16\u8BD1\u62A5\u9519\u53CB\u597D\u63D0\u793A"}),"\n"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u63D2\u4EF6\u540D\u79F0"}),(0,l.jsx)(n.th,{children:"\u4F5C\u7528"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HtmlWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u751F\u6210 HTML \u6587\u4EF6\uFF0C\u5E76\u5C06\u6253\u5305\u540E\u7684\u8D44\u6E90\u81EA\u52A8\u6CE8\u5165\u5230 HTML \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MiniCssExtractPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06 CSS \u4EE3\u7801\u63D0\u53D6\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230 JavaScript \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CopyWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06\u6307\u5B9A\u7684\u6587\u4EF6\u6216\u76EE\u5F55\u590D\u5236\u5230\u8F93\u51FA\u76EE\u5F55\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CleanWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6BCF\u6B21\u6784\u5EFA\u4E4B\u524D\u6E05\u7406\u8F93\u51FA\u76EE\u5F55\uFF0C\u907F\u514D\u65E7\u7684\u6587\u4EF6\u6B8B\u7559\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefinePlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u5168\u5C40\u5E38\u91CF\uFF0C\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u76F4\u63A5\u4F7F\u7528\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"})}),(0,l.jsx)(n.td,{children:"\u542F\u7528\u70ED\u6A21\u5757\u66F4\u6362\uFF08Hot Module Replacement\uFF09\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u73B0\u4EE3\u7801\u4FEE\u6539\u540E\u5B9E\u65F6\u66F4\u65B0\u9875\u9762\uFF0C\u65E0\u9700\u5237\u65B0\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ProvidePlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u52A0\u8F7D\u6A21\u5757\uFF0C\u4F7F\u6A21\u5757\u5728\u4F7F\u7528\u65F6\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5BF9\u5E94\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u65E0\u9700\u5F15\u5165\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MiniCssExtractPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06 CSS \u4EE3\u7801\u63D0\u53D6\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u800C\u4E0D\u662F\u5185\u8054\u5230 JavaScript \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OptimizeCSSAssetsPlugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29\u63D0\u53D6\u51FA\u7684 CSS \u6587\u4EF6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"uglifyjs-webpack-plugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29 JavaScript \u4EE3\u7801\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack-bundle-analyzer"})}),(0,l.jsx)(n.td,{children:"\u5206\u6790\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u53EF\u89C6\u5316\u5C55\u793A\uFF0C\u65B9\u4FBF\u4F18\u5316\u6253\u5305\u7ED3\u679C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CompressionWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u4F7F\u7528 gzip \u6216\u5176\u4ED6\u538B\u7F29\u7B97\u6CD5\u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29\uFF0C\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\uFF0C\u52A0\u5FEB\u7F51\u7EDC\u4F20\u8F93\u901F\u5EA6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CopyWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u5C06\u6307\u5B9A\u7684\u6587\u4EF6\u6216\u76EE\u5F55\u590D\u5236\u5230\u8F93\u51FA\u76EE\u5F55\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FriendlyErrorsWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u63D0\u4F9B\u53CB\u597D\u7684\u6784\u5EFA\u9519\u8BEF\u63D0\u793A\u548C\u4F18\u5316\u6784\u5EFA\u901F\u5EA6\u7684\u529F\u80FD\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ImageminWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u538B\u7F29\u56FE\u7247\u8D44\u6E90\uFF0C\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\uFF0C\u63D0\u5347\u52A0\u8F7D\u901F\u5EA6\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"})}),(0,l.jsx)(n.td,{children:"\u542F\u7528\u70ED\u6A21\u5757\u66F4\u6362\uFF08Hot Module Replacement\uFF09\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u73B0\u4EE3\u7801\u4FEE\u6539\u540E\u5B9E\u65F6\u66F4\u65B0\u9875\u9762\uFF0C\u65E0\u9700\u5237\u65B0\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HtmlWebpackPlugin"})}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u751F\u6210 HTML \u6587\u4EF6\uFF0C\u5E76\u5C06\u6253\u5305\u540E\u7684\u8D44\u6E90\u81EA\u52A8\u6CE8\u5165\u5230 HTML \u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"IgnorePlugin"})}),(0,l.jsx)(n.td,{children:"\u5FFD\u7565\u7279\u5B9A\u7684\u6A21\u5757\uFF0C\u907F\u514D\u5C06\u5176\u6253\u5305\u5230\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u4E2D\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BannerPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u6253\u5305\u7684\u6587\u4EF6\u5757\u9876\u90E8\u6DFB\u52A0\u81EA\u5B9A\u4E49\u7684\u6CE8\u91CA\u548C\u4FE1\u606F\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack.DefinePlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u5168\u5C40\u5E38\u91CF\uFF0C\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u76F4\u63A5\u4F7F\u7528\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack.ProgressPlugin"})}),(0,l.jsx)(n.td,{children:"\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u6784\u5EFA\u8FDB\u5EA6\u4FE1\u606F\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpack-bundle-analyzer"})}),(0,l.jsx)(n.td,{children:"\u5206\u6790\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u53EF\u89C6\u5316\u5C55\u793A\uFF0C\u65B9\u4FBF\u4F18\u5316\u6253\u5305\u7ED3\u679C\u3002"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"webpackbar"})}),(0,l.jsx)(n.td,{children:"\u5728\u547D\u4EE4\u884C\u4E2D\u663E\u793A\u6784\u5EFA\u8FDB\u5EA6\u6761\uFF0C\u63D0\u4F9B\u66F4\u76F4\u89C2\u7684\u6784\u5EFA\u8FDB\u5EA6\u4FE1\u606F\u3002"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E9B\u63D2\u4EF6\u53EF\u4EE5\u6839\u636E\u9700\u8981\u914D\u7F6E\u5728 Webpack \u7684\u63D2\u4EF6\u5217\u8868\uFF08",(0,l.jsx)(n.code,{children:"plugins"}),"\uFF09\u4E2D\uFF0C\u4EE5\u5B9E\u73B0\u5BF9\u6784\u5EFA\u8FC7\u7A0B\u7684\u5404\u79CD\u589E\u5F3A\u548C\u4F18\u5316\u64CD\u4F5C\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-externals",children:"webpack externals \u662F\u5982\u4F55\u52A0\u8F7D\u5916\u90E8\u4F9D\u8D56\u7684"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"webpack"})," \u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"externals"})," \u914D\u7F6E\u9879\u7528\u4E8E\u6307\u5B9A\u5728\u6253\u5305\u65F6\u9700\u8981\u6392\u9664\u6389\u7684\u6A21\u5757\uFF0C\u8FD9\u4E9B\u6A21\u5757\u4F1A\u88AB\u89C6\u4E3A\u5916\u90E8\u4F9D\u8D56\uFF0C\u5373\u4E0D\u4F1A\u88AB\u6253\u5305\u8FDB\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u4E2D\uFF0C\u800C\u662F\u901A\u8FC7\u5176\u4ED6\u65B9\u5F0F\u5F15\u5165\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"externals"})," \u914D\u7F6E\u9879\u53EF\u4EE5\u4F7F\u5F97\u6253\u5305\u540E\u7684\u4EE3\u7801\u6587\u4EF6\u66F4\u5C0F\uFF0C\u540C\u65F6\u4E5F\u53EF\u4EE5\u5728\u8FD0\u884C\u65F6\u4ECE\u5916\u90E8\u83B7\u53D6\u4F9D\u8D56\uFF0C\u4F8B\u5982\u901A\u8FC7 CDN\u3001\u5168\u5C40\u53D8\u91CF\u6216\u8005\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"require"})," \u7684\u65B9\u5F0F\u7B49\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5047\u8BBE\u6211\u4EEC\u9700\u8981\u5728\u9879\u76EE\u4E2D\u5F15\u5165 ",(0,l.jsx)(n.code,{children:"jquery"})," \u5E93\uFF0C\u4F46\u6211\u4EEC\u5E76\u4E0D\u60F3\u5728\u6253\u5305\u7684\u8FC7\u7A0B\u4E2D\u5C06\u5176\u6253\u5305\u8FDB\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u4E2D\uFF0C\u800C\u662F\u4ECE\u5916\u90E8\u5F15\u5165\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u7684\u914D\u7F6E\u6765\u5B9E\u73B0\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  externals: {\n    jquery: 'jQuery'\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u91CC\u7684 ",(0,l.jsx)(n.code,{children:"externals"})," \u914D\u7F6E\u9879\u544A\u8BC9 ",(0,l.jsx)(n.code,{children:"webpack"})," \u5728\u6253\u5305\u65F6\u5FFD\u7565 ",(0,l.jsx)(n.code,{children:"jquery"})," \u6A21\u5757\u7684\u5F15\u7528\uFF0C\u800C\u5728\u4EE3\u7801\u8FD0\u884C\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u624B\u52A8\u5C06 ",(0,l.jsx)(n.code,{children:"jquery"})," \u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"script"})," \u6807\u7B7E\u5F15\u5165\uFF0C\u5E76\u5C06\u5176\u66B4\u9732\u5728\u5168\u5C40\u53D8\u91CF ",(0,l.jsx)(n.code,{children:"jQuery"})," \u4E0B\uFF0C\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"><\/script>\n<script>\n window.jQuery = jQuery;\n<\/script>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\u5728\u4EE3\u7801\u4E2D\u5F15\u5165 ",(0,l.jsx)(n.code,{children:"jquery"})," \u6A21\u5757\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"webpack"})," \u5C31\u4F1A\u5C06\u5176\u4F5C\u4E3A\u5916\u90E8\u4F9D\u8D56\u8FDB\u884C\u5904\u7406\uFF0C\u800C\u4E0D\u662F\u5C06\u5176\u6253\u5305\u8FDB\u8F93\u51FA\u6587\u4EF6\u4E2D\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"externals"})," \u914D\u7F6E\u9879\u9700\u8981\u8C28\u614E\uFF0C\u56E0\u4E3A\u5982\u679C\u5728\u8FD0\u884C\u65F6\u65E0\u6CD5\u6B63\u786E\u83B7\u53D6\u5230\u6307\u5B9A\u7684\u5916\u90E8\u4F9D\u8D56\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u4EE3\u7801\u8FD0\u884C\u51FA\u9519\u3002"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"externals \u914D\u7F6E, \u662F\u5FFD\u7565\u6B64\u4F9D\u8D56\uFF0C\u4E0D\u6253\u5305\uFF0C"}),"\n",(0,l.jsxs)(n.li,{children:["\u57FA\u4E8E\u8FD0\u884C\u73AF\u5883\u786E\u5B9A\u5904\u7406\u65B9\u5F0F","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u73AF\u5883\uFF0C\u901A\u8FC7 script \u6807\u7B7E\u52A0\u8F7D"}),"\n",(0,l.jsx)(n.li,{children:"\u975E\u6D4F\u89C8\u5668\u73AF\u5883\uFF0C\u901A\u8FC7 require \u52A0\u8F7D"}),"\n",(0,l.jsx)(n.li,{children:"\u4E0D\u540C module \u7C7B\u578B\uFF0C\u5904\u7406\u65B9\u5F0F\u4E0D\u540C"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4F7F\u7528 Webpack \u6253\u5305\u7684\u9879\u76EE\u4E2D\uFF0C\u901A\u5E38\u8D44\u6E90\uFF08\u5982 JavaScript\u3001CSS\u3001\u56FE\u7247\u7B49\uFF09\u4F1A\u88AB Webpack \u5904\u7406\uFF0C\u56E0\u4E3A Webpack \u7684\u8BBE\u8BA1\u521D\u8877\u5C31\u662F\u5C06\u6240\u6709\u8D44\u6E90\u89C6\u4E3A\u6A21\u5757\uFF0C\u5E76\u8FDB\u884C\u6709\u6548\u7684\u7BA1\u7406\u548C\u6253\u5305\u3002\u4F46\u6709\u65F6\u5019\u53EF\u80FD\u9700\u8981\u901A\u8FC7",(0,l.jsx)(n.code,{children:"<script>"}),"\u6807\u7B7E\u76F4\u63A5\u5F15\u5165\u8D44\u6E90\uFF0C\u8FD9\u901A\u5E38\u6709\u4E24\u79CD\u60C5\u51B5\uFF1A"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5728 HTML \u6587\u4EF6\u4E2D\u76F4\u63A5\u5F15\u5165\uFF1A"}),"\n\u53EF\u4EE5\u5728\u9879\u76EE\u7684 HTML \u6587\u4EF6\u4E2D\u76F4\u63A5\u4F7F\u7528",(0,l.jsx)(n.code,{children:"<script>"}),"\u6807\u7B7E\u6765\u5F15\u5165\u5916\u90E8\u8D44\u6E90\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'\x3c!-- \u82E5\u8981\u4F7F\u7528 CDN \u4E0A\u6258\u7BA1\u7684\u5E93 --\x3e\n<script src="https://cdn.example.com/library.js"><\/script>\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u79CD\u65B9\u6CD5\u7B80\u5355\u76F4\u63A5\uFF0C\u4F46\u8981\u8BB0\u4F4F\uFF0C\u7531\u4E8E\u8FD9\u4E9B\u8D44\u6E90\u4E0D\u4F1A\u88AB Webpack \u5904\u7406\uFF0C\u5B83\u4EEC\u4E0D\u4F1A\u88AB\u5305\u542B\u5728 Webpack \u7684\u4F9D\u8D56\u56FE\u4E2D\uFF0C\u5E76\u4E14\u4E5F\u4E0D\u4F1A\u4EAB\u53D7\u5230 Webpack \u7684\u5404\u79CD\u4F18\u5316\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4F7F\u7528 Webpack \u7BA1\u7406\uFF1A"}),"\n\u5982\u679C\u60F3\u8981 Webpack \u6765\u5904\u7406\u8FD9\u4E9B\u901A\u8FC7",(0,l.jsx)(n.code,{children:"<script>"}),"\u5F15\u5165\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528\u51E0\u79CD\u63D2\u4EF6\u548C\u52A0\u8F7D\u5668\uFF1A"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"html-webpack-plugin"}),"\u53EF\u4EE5\u5E2E\u52A9\u4F60\u751F\u6210\u4E00\u4E2A HTML \u6587\u4EF6\uFF0C\u5E76\u5728\u6587\u4EF6\u4E2D\u81EA\u52A8\u5F15\u5165 Webpack \u6253\u5305\u540E\u7684 bundles\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"externals"}),"\u914D\u7F6E\u5141\u8BB8\u4F60\u5C06\u4E00\u4E9B\u4F9D\u8D56\u6392\u9664\u5728 Webpack \u6253\u5305\u4E4B\u5916\uFF0C\u4F46\u8FD8\u662F\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(n.code,{children:"require"}),"\u6216",(0,l.jsx)(n.code,{children:"import"}),"\u5F15\u7528\u5B83\u4EEC\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"script-loader"}),"\u53EF\u4EE5\u5C06\u7B2C\u4E09\u65B9\u5168\u5C40\u53D8\u91CF\u6CE8\u5165\u7684\u5E93\u5F53\u4F5C\u6A21\u5757\u6765\u52A0\u8F7D\u4F7F\u7528\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u4F7F\u7528",(0,l.jsx)(n.code,{children:"html-webpack-plugin"}),"\u548C",(0,l.jsx)(n.code,{children:"externals"}),"\uFF0C\u4F60\u53EF\u4EE5\u5C06\u4E00\u4E2A\u5E93\u914D\u7F6E\u4E3A external\uFF0C\u7136\u540E\u901A\u8FC7",(0,l.jsx)(n.code,{children:"html-webpack-plugin"}),"\u5C06\u5176\u5F15\u5165\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack.config.js \u6587\u4EF6\nconst HtmlWebpackPlugin = require('html-webpack-plugin')\n\nmodule.exports = {\n// ...\n  externals: {\n    libraryName: 'LibraryGlobalVariable'\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: 'src/index.html',\n      scriptLoading: 'blocking' // \u6216\u8005 'defer'\n    })\n  ]\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540E\uFF0C\u5728\u4F60\u7684",(0,l.jsx)(n.code,{children:"index.html"}),"\u6A21\u677F\u6587\u4EF6\u4E2D\u53EF\u4EE5\u8FD9\u6837\u5F15\u5165\u8D44\u6E90\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.example.com/library.js"><\/script>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528",(0,l.jsx)(n.code,{children:"externals"}),"\u7684\u65B9\u6CD5\u80FD\u8BA9\u4F60\u5728 Webpack \u6253\u5305\u7684\u6A21\u5757\u4EE3\u7801\u4E2D\u7528\u6B63\u5E38\u7684",(0,l.jsx)(n.code,{children:"import"}),"\u6216",(0,l.jsx)(n.code,{children:"require"}),"\u8BED\u53E5\u6765\u5F15\u7528\u90A3\u4E2A\u5168\u5C40\u53D8\u91CF\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// \u4F60\u7684 JavaScript \u4EE3\u7801\u6587\u4EF6\u4E2D\nimport Library from 'libraryName' // \u867D\u7136\u5B9A\u4E49\u4E86external\uFF0CWebpack\u4F9D\u7136\u4F1A\u5904\u7406\u8FD9\u4E2Aimport\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5E94\u6839\u636E\u9879\u76EE\u9700\u6C42\u548C\u73B0\u6709\u7684\u67B6\u6784\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u79CD\u65B9\u6CD5\u3002\u4E0A\u8FF0\u4E24\u79CD\u65B9\u6CD5\u4E2D\uFF0C\u7B2C\u4E8C\u79CD\u53EF\u4EE5\u66F4\u597D\u5730\u5229\u7528 Webpack \u7684\u529F\u80FD\uFF0C\u7B2C\u4E00\u79CD\u5219\u66F4\u52A0\u7B80\u5355\u76F4\u63A5\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-rollup-webpack-difference",children:"rollup \u4E3A\u4EC0\u4E48\u5FEB"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"esm \u9759\u6001\u5206\u6790\uFF0C\u4F18\u4E8E commonjs \u52A8\u6001\u5206\u6790"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-vite-difference",children:"webpack \u548C vite \u533A\u522B"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"dev \u6A21\u5F0F vite \u91C7\u7528 esm, \u800C webpack \u91C7\u7528 commonjs"}),"\n",(0,l.jsx)(n.li,{children:"prod webpack \u4EA7\u7269\u66F4\u7075\u6D3B\u57FA\u4E8E chunk \uFF0C\u800C vite \u4EA7\u7269\u66F4\u56FA\u5B9A\u57FA\u4E8E esm \u53EF\u80FD\u4EA7\u751F\u5927\u91CF\u5C0F\u6587\u4EF6"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"1\u3001\u5F00\u53D1\u6A21\u5F0F\u7684\u5DEE\u5F02"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5F00\u53D1\u73AF\u5883\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"Webpack"})," \u662F\u5148\u6253\u5305\u518D\u542F\u52A8\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u800C ",(0,l.jsx)(n.code,{children:"Vite"})," \u5219\u662F\u76F4\u63A5\u542F\u52A8\uFF0C\u7136\u540E\u518D\u6309\u9700\u7F16\u8BD1\u4F9D\u8D56\u6587\u4EF6\u3002\uFF08\u5927\u5BB6\u53EF\u4EE5\u542F\u52A8\u9879\u76EE\u540E\u68C0\u67E5\u6E90\u7801 ",(0,l.jsx)(n.code,{children:"Sources"})," \u90A3\u91CC\u770B\u5230\uFF09"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u610F\u5473\u7740\uFF0C\u5F53\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"Webpack"})," \u65F6\uFF0C\u6240\u6709\u7684\u6A21\u5757\u90FD\u9700\u8981\u5728\u5F00\u53D1\u524D\u8FDB\u884C\u6253\u5305\uFF0C\u8FD9\u4F1A\u589E\u52A0\u542F\u52A8\u65F6\u95F4\u548C\u6784\u5EFA\u65F6\u95F4\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u800C ",(0,l.jsx)(n.code,{children:"Vite"})," \u5219\u91C7\u7528\u4E86\u4E0D\u540C\u7684\u7B56\u7565\uFF0C\u5B83\u4F1A\u5728\u8BF7\u6C42\u6A21\u5757\u65F6\u518D\u8FDB\u884C\u5B9E\u65F6\u7F16\u8BD1\uFF0C\u8FD9\u79CD\u6309\u9700\u52A8\u6001\u7F16\u8BD1\u7684\u6A21\u5F0F\u6781\u5927\u5730\u7F29\u77ED\u4E86\u7F16\u8BD1\u65F6\u95F4\uFF0C\u7279\u522B\u662F\u5728\u5927\u578B\u9879\u76EE\u4E2D\uFF0C\u6587\u4EF6\u6570\u91CF\u4F17\u591A\uFF0C",(0,l.jsx)(n.code,{children:"Vite"})," \u7684\u4F18\u52BF\u66F4\u4E3A\u660E\u663E\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Webpack\u542F\u52A8"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31fa5a46d4e74c5db56928f1bb2087c4~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1029&h=552&s=47251&e=png&b=fcfcfc",alt:""})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Vite\u542F\u52A8"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dfa5c4618b75419d8b3a9139425972e5~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=892&h=838&s=50064&e=png&b=ffffff",alt:""})}),"\n",(0,l.jsx)(n.p,{children:"2\u3001\u5BF9ES Modules\u7684\u652F\u6301"}),"\n",(0,l.jsxs)(n.p,{children:["\u73B0\u4EE3\u6D4F\u89C8\u5668\u672C\u8EAB\u5C31\u652F\u6301 ",(0,l.jsx)(n.code,{children:"ES Modules"}),"\uFF0C\u4F1A",(0,l.jsx)(n.code,{children:"\u4E3B\u52A8\u53D1\u8D77"}),"\u8BF7\u6C42\u53BB\u83B7\u53D6\u6240\u9700\u6587\u4EF6\u3002Vite\u5145\u5206\u5229\u7528\u4E86\u8FD9\u4E00\u70B9\uFF0C\u5C06\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u6A21\u5757\u6587\u4EF6\u76F4\u63A5\u4F5C\u4E3A\u6D4F\u89C8\u5668\u8981\u6267\u884C\u7684\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u50CF Webpack \u90A3\u6837",(0,l.jsx)(n.code,{children:"\u5148\u6253\u5305"}),"\uFF0C\u518D\u4EA4\u7ED9\u6D4F\u89C8\u5668\u6267\u884C\u3002\u8FD9\u79CD\u65B9\u5F0F\u51CF\u5C11\u4E86\u4E2D\u95F4\u73AF\u8282\uFF0C\u63D0\u9AD8\u4E86\u6548\u7387\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4EC0\u4E48\u662FES Modules\uFF1F"})}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"export"})," \u548C ",(0,l.jsx)(n.code,{children:"import"})," \u8BED\u53E5\uFF0CES Modules \u5141\u8BB8\u5728\u6D4F\u89C8\u5668\u7AEF\u5BFC\u5165\u548C\u5BFC\u51FA\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u4F7F\u7528 ES Modules \u8FDB\u884C\u5F00\u53D1\u65F6\uFF0C\u5F00\u53D1\u8005\u5B9E\u9645\u4E0A\u662F\u5728\u6784\u5EFA\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"\u4F9D\u8D56\u5173\u7CFB\u56FE"}),"\uFF0C\u4E0D\u540C\u4F9D\u8D56\u9879\u4E4B\u95F4\u901A\u8FC7\u5BFC\u5165\u8BED\u53E5\u8FDB\u884C\u5173\u8054\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3B\u6D41\u6D4F\u89C8\u5668\uFF08\u9664IE\u5916\uFF09\u5747\u652F\u6301ES Modules\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7\u5728 script \u6807\u7B7E\u4E2D\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:'type="module"'}),"\u6765\u52A0\u8F7D\u6A21\u5757\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6A21\u5757\u4F1A\u5EF6\u8FDF\u52A0\u8F7D\uFF0C\u6267\u884C\u65F6\u673A\u5728\u6587\u6863\u89E3\u6790\u4E4B\u540E\uFF0C\u89E6\u53D1DOMContentLoaded\u4E8B\u4EF6\u524D\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b03dbc4400c745c8bca371a9ab63f52b~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=2059&h=823&s=194009&e=png&b=f0e6d2",alt:""})}),"\n",(0,l.jsx)(n.p,{children:"3\u3001\u5E95\u5C42\u8BED\u8A00\u7684\u5DEE\u5F02"}),"\n",(0,l.jsxs)(n.p,{children:["Webpack \u662F\u57FA\u4E8E ",(0,l.jsx)(n.code,{children:"Node.js"})," \u6784\u5EFA\u7684\uFF0C\u800C Vite \u5219\u662F\u57FA\u4E8E ",(0,l.jsx)(n.code,{children:"esbuild"})," \u8FDB\u884C\u9884\u6784\u5EFA\u4F9D\u8D56\u3002esbuild \u662F\u91C7\u7528 ",(0,l.jsx)(n.code,{children:"Go"})," \u8BED\u8A00\u7F16\u5199\u7684\uFF0CGo \u8BED\u8A00\u662F",(0,l.jsx)(n.code,{children:"\u7EB3\u79D2"}),"\u7EA7\u522B\u7684\uFF0C\u800C Node.js \u662F",(0,l.jsx)(n.code,{children:"\u6BEB\u79D2"}),"\u7EA7\u522B\u7684\u3002\u56E0\u6B64\uFF0CVite \u5728\u6253\u5305\u901F\u5EA6\u4E0A\u76F8\u6BD4Webpack \u6709 ",(0,l.jsx)(n.code,{children:"10-100"})," \u500D\u7684\u63D0\u5347\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4EC0\u4E48\u662F\u9884\u6784\u5EFA\u4F9D\u8D56\uFF1F"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9884\u6784\u5EFA\u4F9D\u8D56\u901A\u5E38\u6307\u7684\u662F\u5728\u9879\u76EE",(0,l.jsx)(n.code,{children:"\u542F\u52A8\u6216\u6784\u5EFA"}),"\u4E4B\u524D\uFF0C\u5BF9\u9879\u76EE\u4E2D\u6240\u9700\u7684\u4F9D\u8D56\u9879\u8FDB\u884C\u9884\u5148\u7684",(0,l.jsx)(n.code,{children:"\u5904\u7406\u6216\u6784\u5EFA"}),"\u3002\u8FD9\u6837\u505A\u7684\u597D\u5904\u5728\u4E8E\uFF0C\u5F53\u9879\u76EE\u5B9E\u9645\u8FD0\u884C\u65F6\uFF0C\u53EF\u4EE5",(0,l.jsx)(n.code,{children:"\u76F4\u63A5\u4F7F\u7528"}),"\u8FD9\u4E9B\u5DF2\u7ECF\u9884\u6784\u5EFA\u597D\u7684\u4F9D\u8D56\uFF0C\u800C\u65E0\u9700\u518D\u8FDB\u884C\u5B9E\u65F6\u7684\u7F16\u8BD1\u6216\u6784\u5EFA\uFF0C\u4ECE\u800C\u63D0\u9AD8\u4E86\u5E94\u7528\u7A0B\u5E8F\u7684\u8FD0\u884C\u901F\u5EA6\u548C\u6548\u7387\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"4\u3001\u70ED\u66F4\u65B0\u7684\u5904\u7406"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 Webpack \u4E2D\uFF0C\u5F53\u4E00\u4E2A\u6A21\u5757\u6216\u5176\u4F9D\u8D56\u7684\u6A21\u5757\u5185\u5BB9\u6539\u53D8\u65F6\uFF0C\u9700\u8981",(0,l.jsx)(n.code,{children:"\u91CD\u65B0\u7F16\u8BD1"}),"\u8FD9\u4E9B\u6A21\u5757\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u800C\u5728 Vite \u4E2D\uFF0C\u5F53\u67D0\u4E2A\u6A21\u5757\u5185\u5BB9\u6539\u53D8\u65F6\uFF0C\u53EA\u9700\u8981\u8BA9\u6D4F\u89C8\u5668",(0,l.jsx)(n.code,{children:"\u91CD\u65B0\u8BF7\u6C42"}),"\u8BE5\u6A21\u5757\u5373\u53EF\uFF0C\u8FD9\u5927\u5927\u51CF\u5C11\u4E86\u70ED\u66F4\u65B0\u7684\u65F6\u95F4\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7ED3"}),"\n",(0,l.jsxs)(n.p,{children:["\u603B\u7684\u6765\u8BF4\uFF0CVite \u4E4B\u6240\u4EE5\u6BD4 Webpack \u5FEB\uFF0C\u4E3B\u8981\u662F\u56E0\u4E3A\u5B83\u91C7\u7528\u4E86",(0,l.jsx)(n.code,{children:"\u4E0D\u540C\u7684\u5F00\u53D1\u6A21\u5F0F"}),"\u3001",(0,l.jsx)(n.code,{children:"\u5145\u5206\u5229\u7528\u4E86\u73B0\u4EE3\u6D4F\u89C8\u5668\u7684 ES Modules \u652F\u6301"}),"\u3001",(0,l.jsx)(n.code,{children:"\u4F7F\u7528\u4E86\u66F4\u9AD8\u6548\u7684\u5E95\u5C42\u8BED\u8A00"}),"\uFF0C",(0,l.jsx)(n.code,{children:"\u5E76\u4F18\u5316\u4E86\u70ED\u66F4\u65B0\u7684\u5904\u7406"}),"\u3002\u8FD9\u4E9B\u7279\u70B9\u4F7F\u5F97 Vite\u5728\u5927\u578B\u9879\u76EE\u4E2D\u5177\u6709\u663E\u8457\u7684\u4F18\u52BF\uFF0C\u80FD\u591F\u5FEB\u901F\u542F\u52A8\u548C\u6784\u5EFA\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"Vite \u548C Webpack \u5728\u70ED\u66F4\u65B0\u4E0A\u6709\u4E00\u4E9B\u533A\u522B\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5757\u7EA7\u522B\u7684\u70ED\u66F4\u65B0\uFF1AVite \u4F7F\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684 ES \u6A21\u5757\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u6A21\u5757\u7EA7\u522B\u7684\u70ED\u66F4\u65B0\uFF0C\u5373\u53EA\u66F4\u65B0\u4FEE\u6539\u7684\u6A21\u5757\uFF0C\u800C\u4E0D\u9700\u8981\u5237\u65B0\u6574\u4E2A\u9875\u9762\u3002\u8FD9\u6837\u53EF\u4EE5\u63D0\u4F9B\u66F4\u5FEB\u7684\u5F00\u53D1\u8FED\u4EE3\u901F\u5EA6\u3002\u800C\u5728 Webpack \u4E2D\uFF0C\u70ED\u66F4\u65B0\u662F\u57FA\u4E8E\u6587\u4EF6\u7EA7\u522B\u7684\uFF0C\u9700\u8981\u91CD\u65B0\u6784\u5EFA\u5E76\u5237\u65B0\u6574\u4E2A\u9875\u9762\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u65E0\u6784\u5EFA\uFF1AVite \u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u4E0D\u4F1A\u5BF9\u4EE3\u7801\u8FDB\u884C\u6253\u5305\u6784\u5EFA\uFF0C\u800C\u662F\u76F4\u63A5\u5229\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684\u6A21\u5757\u5BFC\u5165\u529F\u80FD\uFF0C\u901A\u8FC7 HTTP \u670D\u52A1\u5668\u63D0\u4F9B\u6A21\u5757\u7684\u5373\u65F6\u54CD\u5E94\u3002\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u4E86\u6784\u5EFA\u548C\u91CD\u65B0\u7F16\u8BD1\u7684\u65F6\u95F4\uFF0C\u66F4\u5FEB\u5730\u53CD\u6620\u51FA\u4EE3\u7801\u7684\u4FEE\u6539\u3002\u800C\u5728 Webpack \u4E2D\uFF0C\u6BCF\u6B21\u4FEE\u6539\u4EE3\u7801\u90FD\u9700\u8981\u91CD\u65B0\u6784\u5EFA\u548C\u7F16\u8BD1\uFF0C\u8017\u8D39\u4E00\u5B9A\u7684\u65F6\u95F4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6784\u5EFA\u73AF\u5883\u4E0B\u7684\u4F18\u5316\uFF1A\u5C3D\u7BA1 Vite \u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u4E0D\u8FDB\u884C\u6253\u5305\u6784\u5EFA\uFF0C\u4F46\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\uFF0C\u5B83\u4F1A\u901A\u8FC7\u9884\u6784\u5EFA\u7684\u65B9\u5F0F\u751F\u6210\u9AD8\u6027\u80FD\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u4EE5\u63D0\u9AD8\u9875\u9762\u52A0\u8F7D\u901F\u5EA6\u3002\u800C Webpack \u5219\u901A\u8FC7\u5C06\u6240\u6709\u6A21\u5757\u6253\u5305\u6210 bundle \u6587\u4EF6\uFF0C\u8FDB\u884C\u4EE3\u7801\u538B\u7F29\u548C\u4F18\u5316\uFF0C\u4EE5\u53CA\u4F7F\u7528\u5404\u79CD\u63D2\u4EF6\u548C\u914D\u7F6E\u6765\u4F18\u5316\u6784\u5EFA\u7ED3\u679C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7684\u6765\u8BF4\uFF0CVite \u5728\u70ED\u66F4\u65B0\u4E0A\u6BD4 Webpack \u66F4\u52A0\u5FEB\u901F\u548C\u7CBE\u7EC6\u5316\uFF0C\u80FD\u591F\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u63D0\u4F9B\u66F4\u597D\u7684\u5F00\u53D1\u4F53\u9A8C\u548C\u66F4\u5FEB\u7684\u53CD\u9988\u901F\u5EA6\u3002\u4F46\u662F\uFF0CWebpack \u5728\u6784\u5EFA\u73AF\u5883\u4E0B\u6709\u66F4\u591A\u7684\u4F18\u5316\u548C\u529F\u80FD\uFF0C\u9002\u7528\u4E8E\u66F4\u590D\u6742\u7684\u9879\u76EE\u9700\u6C42\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4EE5\u4E0B\u662F Vite \u548C Webpack \u5728\u70ED\u66F4\u65B0\u65B9\u9762\u7684\u5BF9\u6BD4\u8868\u683C"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7279\u70B9"}),(0,l.jsx)(n.th,{children:"Vite"}),(0,l.jsx)(n.th,{children:"Webpack"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5B9E\u65F6\u70ED\u66F4\u65B0"}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u6A21\u5757\u7EA7\u522B\u7684\u70ED\u66F4\u65B0\uFF0C\u5373\u53EA\u66F4\u65B0\u4FEE\u6539\u7684\u6A21\u5757\uFF0C\u65E0\u9700\u5237\u65B0\u6574\u4E2A\u9875\u9762"}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u6587\u4EF6\u7EA7\u522B\u7684\u70ED\u66F4\u65B0\uFF0C\u4FEE\u6539\u4EFB\u4F55\u6587\u4EF6\u90FD\u4F1A\u89E6\u53D1\u6574\u4E2A\u5E94\u7528\u7684\u91CD\u65B0\u6784\u5EFA\u548C\u5237\u65B0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u6784\u5EFA\u901F\u5EA6"}),(0,l.jsx)(n.td,{children:"\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\uFF0C\u5229\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684\u6A21\u5757\u5BFC\u5165\u529F\u80FD\uFF0C\u4E0D\u9700\u8981\u8FDB\u884C\u6253\u5305\u6784\u5EFA\uFF0C\u542F\u52A8\u901F\u5EA6\u66F4\u5FEB"}),(0,l.jsx)(n.td,{children:"\u9700\u8981\u8FDB\u884C\u6253\u5305\u6784\u5EFA\uFF0C\u6BCF\u6B21\u4FEE\u6539\u4EE3\u7801\u90FD\u9700\u8981\u91CD\u65B0\u6784\u5EFA\u548C\u7F16\u8BD1\uFF0C\u76F8\u5BF9\u8F83\u6162"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5F00\u53D1\u4F53\u9A8C"}),(0,l.jsx)(n.td,{children:"\u63D0\u4F9B\u66F4\u597D\u7684\u5F00\u53D1\u4F53\u9A8C\uFF0C\u4FEE\u6539\u4EE3\u7801\u540E\u5FEB\u901F\u53CD\u9988\uFF0C\u65E0\u9700\u7B49\u5F85\u5168\u91CF\u6784\u5EFA"}),(0,l.jsx)(n.td,{children:"\u53CD\u9988\u901F\u5EA6\u8F83\u6162\uFF0C\u9700\u8981\u7B49\u5F85\u6BCF\u6B21\u6784\u5EFA\u548C\u7F16\u8BD1\u5B8C\u6210"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u9002\u7528\u573A\u666F"}),(0,l.jsx)(n.td,{children:"\u9002\u7528\u4E8E\u4E2D\u5C0F\u578B\u9879\u76EE\uFF0C\u8FFD\u6C42\u5F00\u53D1\u6548\u7387\u7684\u524D\u7AEF\u9879\u76EE"}),(0,l.jsx)(n.td,{children:"\u9002\u7528\u4E8E\u5927\u578B\u9879\u76EE\uFF0C\u6709\u590D\u6742\u9700\u6C42\u548C\u66F4\u591A\u6784\u5EFA\u4F18\u5316\u7684\u524D\u7AEF\u9879\u76EE"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/7344916114204049445",children:"\u8D44\u6599"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6784\u5EFA\u901F\u5EA6"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u7684\u6784\u5EFA\u901F\u5EA6\u76F8\u5BF9\u8F83\u6162\uFF0C\u5C24\u5176\u5728\u5927\u578B\u9879\u76EE\u4E2D\uFF0C\u56E0\u4E3A\u5B83\u9700\u8981\u5206\u6790\u6574\u4E2A\u4F9D\u8D56\u56FE\uFF0C\u8FDB\u884C\u591A\u6B21\u6587\u4EF6\u626B\u63CF\u548C\u8F6C\u8BD1\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u4EE5\u5F00\u53D1\u6A21\u5F0F\u4E0B\u7684\u6781\u901F\u6784\u5EFA\u8457\u79F0\u3002\u5B83\u5229\u7528ES\u6A21\u5757\u7684\u7279\u6027\uFF0C\u53EA\u6784\u5EFA\u6B63\u5728\u7F16\u8F91\u7684\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u6574\u4E2A\u9879\u76EE\u3002\u8FD9\u4F7F\u5F97\u5B83\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u51E0\u4E4E\u662F\u5373\u65F6\u7684\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u5F00\u53D1\u6A21\u5F0F"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u901A\u5E38\u4F7F\u7528\u70ED\u6A21\u5757\u66FF\u6362\uFF08HMR\uFF09\u6765\u5B9E\u73B0\u5FEB\u901F\u5F00\u53D1\u6A21\u5F0F\uFF0C\u4F46\u914D\u7F6E\u76F8\u5BF9\u590D\u6742\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u7684\u5F00\u53D1\u6A21\u5F0F\u975E\u5E38\u8F7B\u91CF\u4E14\u5FEB\u901F\uFF0C\u652F\u6301HMR\uFF0C\u4F46\u65E0\u9700\u989D\u5916\u914D\u7F6E\uFF0C\u56E0\u4E3A\u5B83\u9ED8\u8BA4\u652F\u6301\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u914D\u7F6E\u590D\u6742\u5EA6"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u7684\u914D\u7F6E\u76F8\u5BF9\u590D\u6742\uFF0C\u7279\u522B\u662F\u5728\u5904\u7406\u4E0D\u540C\u7C7B\u578B\u7684\u8D44\u6E90\u548C\u52A0\u8F7D\u5668\u65F6\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u9F13\u52B1\u96F6\u914D\u7F6E\uFF0C\u4F7F\u5F97\u9879\u76EE\u8D77\u6B65\u975E\u5E38\u7B80\u5355\uFF0C\u4F46\u540C\u65F6\u4E5F\u652F\u6301\u81EA\u5B9A\u4E49\u914D\u7F6E\uFF0C\u4F7F\u5176\u9002\u7528\u4E8E\u590D\u6742\u9879\u76EE\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u63D2\u4EF6\u751F\u6001"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u62E5\u6709\u5E9E\u5927\u7684\u63D2\u4EF6\u751F\u6001\u7CFB\u7EDF\uFF0C\u9002\u7528\u4E8E\u5404\u79CD\u4E0D\u540C\u7684\u9700\u6C42\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u4E5F\u6709\u76F8\u5F53\u6570\u91CF\u7684\u63D2\u4EF6\uFF0C\u4F46\u76F8\u5BF9\u8F83\u5C0F\uFF0C\u56E0\u4E3A\u5B83\u7684\u5F00\u53D1\u6A21\u5F0F\u548C\u6784\u5EFA\u65B9\u5F0F\u51CF\u5C11\u4E86\u5BF9\u4E00\u4E9B\u4F20\u7EDF\u63D2\u4EF6\u7684\u9700\u6C42\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u7F16\u8BD1\u65B9\u5F0F"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u4F7F\u7528\u4E86\u591A\u79CD\u52A0\u8F7D\u5668\u548C\u63D2\u4EF6\u6765\u5904\u7406\u4E0D\u540C\u7C7B\u578B\u7684\u8D44\u6E90\uFF0C\u5982JavaScript\u3001CSS\u3001\u56FE\u7247\u7B49\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u5229\u7528ES\u6A21\u5757\u539F\u751F\u652F\u6301\uFF0C\u4F7F\u7528\u539F\u751F\u6D4F\u89C8\u5668\u5BFC\u5165\u6765\u5904\u7406\u6A21\u5757\uFF0C\u4E0D\u9700\u8981\u5927\u89C4\u6A21\u7684\u7F16\u8BD1\u548C\u6253\u5305\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u5E94\u7528\u573A\u666F"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": \u9002\u7528\u4E8E\u590D\u6742\u7684\u5927\u578B\u9879\u76EE\uFF0C\u7279\u522B\u662F\u9700\u8981\u5927\u91CF\u81EA\u5B9A\u4E49\u914D\u7F6E\u548C\u590D\u6742\u6784\u5EFA\u7BA1\u9053\u7684\u9879\u76EE\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": \u66F4\u9002\u7528\u4E8E\u5C0F\u5230\u4E2D\u578B\u9879\u76EE\uFF0C\u6216\u8005\u9700\u8981\u5FEB\u901F\u5F00\u53D1\u539F\u578B\u548C\u5C0F\u578B\u5E94\u7528\u7684\u573A\u666F\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6253\u5305\u539F\u7406"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),": Webpack\u7684\u6253\u5305\u539F\u7406\u662F\u5C06\u6240\u6709\u8D44\u6E90\u6253\u5305\u6210\u4E00\u4E2A\u6216\u591A\u4E2Abundle\u6587\u4EF6\uFF0C\u901A\u5E38\u662F\u4E00\u4E2AJavaScript\u6587\u4EF6\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),": Vite\u7684\u6253\u5305\u539F\u7406\u662F\u4FDD\u6301\u5F00\u53D1\u65F6\u7684\u6A21\u5757\u5316\u7ED3\u6784\uFF0C\u4F7F\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684\u5BFC\u5165\u673A\u5236\uFF0C\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u8FDB\u884C\u4EE3\u7801\u5206\u5272\u548C\u4F18\u5316\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4F18\u7F3A\u70B9"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webpack"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F18\u70B9\uFF1A\u7075\u6D3B\u3001\u5F3A\u5927\u3001\u9002\u7528\u4E8E\u590D\u6742\u573A\u666F\u3001\u5E9E\u5927\u7684\u63D2\u4EF6\u751F\u6001\u3002\n\u7F3A\u70B9\uFF1A\u6784\u5EFA\u901F\u5EA6\u8F83\u6162\u3001\u914D\u7F6E\u590D\u6742\u3001\u5F00\u53D1\u4F53\u9A8C\u4E0D\u5982Vite\u6D41\u7545\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vite"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F18\u70B9\uFF1A\u6781\u5FEB\u7684\u5F00\u53D1\u6784\u5EFA\u901F\u5EA6\u3001\u96F6\u914D\u7F6E\u542F\u52A8\u3001\u539F\u751FES\u6A21\u5757\u652F\u6301\u3001\u9002\u7528\u4E8E\u5C0F\u578B\u9879\u76EE\u548C\u5FEB\u901F\u539F\u578B\u5F00\u53D1\u3002\n\u7F3A\u70B9\uFF1A\u63D2\u4EF6\u751F\u6001\u76F8\u5BF9\u8F83\u5C0F\u3001\u4E0D\u592A\u9002\u7528\u4E8E\u590D\u6742\u5927\u578B\u9879\u76EE\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u53C2\u8003\u6587\u6863"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/7273427487588843581",children:"\u8D44\u6599"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"vite-\u5F00\u53D1\u548C\u6784\u5EFA\u6709\u4F55\u4E0D\u540C",children:"vite \u5F00\u53D1\u548C\u6784\u5EFA\u6709\u4F55\u4E0D\u540C\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Vite \u662F\u4E00\u4E2A\u57FA\u4E8E\u73B0\u4EE3\u6D4F\u89C8\u5668\u539F\u751F ES \u6A21\u5757\u5BFC\u5165\u529F\u80FD\u7684\u5F00\u53D1\u5DE5\u5177\u548C\u6784\u5EFA\u7CFB\u7EDF\u3002\u4E0E\u4F20\u7EDF\u7684\u6253\u5305\u5DE5\u5177\u76F8\u6BD4\uFF0CVite \u5177\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5FEB\u901F\u51B7\u542F\u52A8\uFF1AVite \u91C7\u7528\u4E86\u4E00\u79CD\u65B0\u7684\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u5229\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684 ES \u6A21\u5757\u5BFC\u5165\u529F\u80FD\uFF0C\u65E0\u9700\u63D0\u524D\u6784\u5EFA\u548C\u6253\u5305\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u5FEB\u901F\u7684\u51B7\u542F\u52A8\uFF0C\u5E76\u5728\u6D4F\u89C8\u5668\u4E2D\u6309\u9700\u7F16\u8BD1\u548C\u52A0\u8F7D\u4EE3\u7801\u3002\u8FD9\u79CD\u7279\u6027\u4F7F\u5F97\u5F00\u53D1\u65F6\u7684\u91CD\u65B0\u52A0\u8F7D\u901F\u5EA6\u975E\u5E38\u5FEB\uFF0C\u63D0\u9AD8\u4E86\u5F00\u53D1\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6309\u9700\u7F16\u8BD1\uFF1AVite \u901A\u8FC7\u89E3\u6790\u5BFC\u5165\u7684\u6A21\u5757\u8DEF\u5F84\uFF0C\u53EA\u7F16\u8BD1\u5F53\u524D\u9700\u8981\u7684\u6A21\u5757\uFF0C\u800C\u4E0D\u662F\u50CF\u4F20\u7EDF\u7684\u6253\u5305\u5DE5\u5177\u4E00\u6837\u5BF9\u6574\u4E2A\u9879\u76EE\u8FDB\u884C\u5168\u91CF\u7F16\u8BD1\u3002\u8FD9\u79CD\u6309\u9700\u7F16\u8BD1\u7684\u65B9\u5F0F\u51CF\u5C11\u4E86\u4E0D\u5FC5\u8981\u7684\u91CD\u590D\u7F16\u8BD1\u548C\u6784\u5EFA\u65F6\u95F4\uFF0C\u63D0\u9AD8\u4E86\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u96F6\u914D\u7F6E\uFF1AVite \u63D0\u4F9B\u4E86\u4E00\u79CD\u96F6\u914D\u7F6E\u7684\u5F00\u53D1\u4F53\u9A8C\uFF0C\u65E0\u9700\u7E41\u7410\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EF\u4EE5\u5FEB\u901F\u5F00\u59CB\u9879\u76EE\u7684\u5F00\u53D1\u3002Vite \u9ED8\u8BA4\u652F\u6301\u5E38\u89C1\u7684\u524D\u7AEF\u5F00\u53D1\u573A\u666F\uFF0C\u5982 Vue\u3001React\u3001TypeScript \u7B49\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7\u7B80\u5355\u7684\u914D\u7F6E\u8FDB\u884C\u4E2A\u6027\u5316\u5B9A\u5236\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u539F\u751F ES \u6A21\u5757\u652F\u6301\uFF1AVite \u5229\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684 ES \u6A21\u5757\u5BFC\u5165\u529F\u80FD\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5728\u6D4F\u89C8\u5668\u4E2D\u5F15\u5165 ES \u6A21\u5757\uFF0C\u65E0\u9700\u7ECF\u8FC7\u4EFB\u4F55\u7F16\u8BD1\u548C\u8F6C\u6362\uFF0C\u63D0\u4F9B\u4E86\u66F4\u597D\u7684\u5F00\u53D1\u4F53\u9A8C\u548C\u66F4\u9AD8\u7684\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u4EF6\u5316\uFF1AVite \u7684\u6784\u5EFA\u7CFB\u7EDF\u91C7\u7528\u4E86\u63D2\u4EF6\u5316\u7684\u67B6\u6784\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u6839\u636E\u9700\u6C42\u9009\u62E9\u548C\u914D\u7F6E\u4E0D\u540C\u7684\u63D2\u4EF6\u6765\u6269\u5C55 Vite \u7684\u529F\u80FD\u3002Vite \u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684\u63D2\u4EF6\u751F\u6001\u7CFB\u7EDF\uFF0C\u4F7F\u5F97\u5F00\u53D1\u8005\u53EF\u4EE5\u5B9A\u5236\u5316\u5730\u6EE1\u8DB3\u9879\u76EE\u9700\u6C42\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Vite \u7F16\u8BD1\u5668\u7684\u4E3B\u8981\u7EC4\u6210\u90E8\u5206\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"esbuild\uFF1A\u4E00\u4E2A\u5FEB\u901F\u7684 JavaScript \u6253\u5305\u5668\uFF0C\u7528\u4E8E\u5728\u5F00\u53D1\u9636\u6BB5\u8FDB\u884C\u5B9E\u65F6\u7F16\u8BD1\u3002esbuild \u63D0\u4F9B\u4E86\u5FEB\u901F\u7684\u51B7\u542F\u52A8\u548C\u70ED\u6A21\u5757\u66FF\u6362\u529F\u80FD\uFF0C\u80FD\u591F\u6781\u5927\u5730\u52A0\u5FEB\u5F00\u53D1\u73AF\u5883\u7684\u6784\u5EFA\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Rollup\uFF1A\u4E00\u4E2A\u5F3A\u5927\u7684 JavaScript \u6A21\u5757\u6253\u5305\u5668\uFF0C\u5728\u751F\u4EA7\u6784\u5EFA\u9636\u6BB5\u4F7F\u7528\u3002Rollup \u80FD\u591F\u5C06\u6E90\u4EE3\u7801\u6253\u5305\u4E3A\u6700\u7EC8\u53EF\u53D1\u5E03\u7684\u6587\u4EF6\uFF0C\u652F\u6301\u4EE3\u7801\u5206\u5272\u3001Tree Shaking \u7B49\u4F18\u5316\u6280\u672F\uFF0C\u751F\u6210\u66F4\u5C0F\u3001\u66F4\u9AD8\u6548\u7684\u4EE3\u7801\u5305\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u524D\u7AEF\u5F00\u53D1\u670D\u52A1\u5668\uFF1AVite \u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5185\u7F6E\u7684\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u7528\u4E8E\u63D0\u4F9B\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u9759\u6001\u6587\u4EF6\u670D\u52A1\u548C\u6784\u5EFA\u5DE5\u5177\u96C6\u6210\u3002\u8FD9\u4E2A\u670D\u52A1\u5668\u80FD\u591F\u5229\u7528 esbuild \u5B9E\u73B0\u5FEB\u901F\u7684\u7F16\u8BD1\u548C\u70ED\u6A21\u5757\u66FF\u6362\uFF0C\u4F7F\u5F00\u53D1\u8005\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u5FEB\u901F\u5730\u9884\u89C8\u548C\u8C03\u8BD5\u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u4EF6\u7CFB\u7EDF\uFF1AVite \u901A\u8FC7\u63D2\u4EF6\u7CFB\u7EDF\u6765\u6269\u5C55\u5176\u529F\u80FD\u3002\u5F00\u53D1\u8005\u53EF\u4EE5\u7F16\u5199\u81EA\u5B9A\u4E49\u7684\u63D2\u4EF6\uFF0C\u7528\u4E8E\u5904\u7406\u7279\u5B9A\u7684\u6587\u4EF6\u7C7B\u578B\u3001\u5F15\u5165\u989D\u5916\u7684\u529F\u80FD\u6216\u8005\u5B9A\u5236\u6784\u5EFA\u8FC7\u7A0B\u3002\u63D2\u4EF6\u7CFB\u7EDF\u4F7F\u5F97 Vite \u80FD\u591F\u4E0E\u5404\u79CD\u524D\u7AEF\u6846\u67B6\u548C\u5DE5\u5177\u96C6\u6210\uFF0C\u5E76\u63D0\u4F9B\u66F4\u7075\u6D3B\u7684\u5F00\u53D1\u4F53\u9A8C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Vite \u6D89\u53CA\u5230\u4EE5\u4E0B\u51E0\u4E2A\u5E95\u5C42\u539F\u7406\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"ES \u6A21\u5757\uFF1AVite \u4F7F\u7528\u4E86 ES \u6A21\u5757\u6765\u7BA1\u7406\u548C\u52A0\u8F7D\u6A21\u5757\u3002ES \u6A21\u5757\u662F JavaScript \u7684\u6807\u51C6\u6A21\u5757\u7CFB\u7EDF\uFF0C\u76F8\u6BD4\u4E8E\u4F20\u7EDF\u7684 CommonJS \u6216 AMD\uFF0CES \u6A21\u5757\u5177\u6709\u66F4\u597D\u7684\u9759\u6001\u5206\u6790\u80FD\u529B\u548C\u66F4\u9AD8\u7684\u6027\u80FD\u3002Vite \u901A\u8FC7\u4F7F\u7528\u6D4F\u89C8\u5668\u539F\u751F\u7684 ES \u6A21\u5757\u52A0\u8F7D\u5668\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u548C\u5FEB\u901F\u6784\u5EFA\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"HTTP/2\uFF1AVite \u501F\u52A9\u4E8E\u73B0\u4EE3\u6D4F\u89C8\u5668\u7684 HTTP/2 \u652F\u6301\u6765\u5B9E\u73B0\u66F4\u9AD8\u6548\u7684\u8D44\u6E90\u52A0\u8F7D\u3002HTTP/2 \u652F\u6301\u591A\u8DEF\u590D\u7528\uFF0C\u53EF\u4EE5\u540C\u65F6\u8BF7\u6C42\u591A\u4E2A\u8D44\u6E90\uFF0C\u907F\u514D\u4E86\u4F20\u7EDF\u7684 HTTP/1 \u4E2D\u7684\u961F\u5934\u963B\u585E\u95EE\u9898\uFF0C\u52A0\u5FEB\u4E86\u8D44\u6E90\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7F16\u8BD1\u5668\uFF1AVite \u4F7F\u7528\u4E86\u81EA\u5B9A\u4E49\u7684\u7F16\u8BD1\u5668\u6765\u5904\u7406\u5F00\u53D1\u65F6\u7684\u6A21\u5757\u89E3\u6790\u548C\u8F6C\u6362\u3002\u5B83\u80FD\u591F\u8BC6\u522B\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5E76\u5C06\u6A21\u5757\u8F6C\u6362\u4E3A\u6D4F\u89C8\u5668\u53EF\u76F4\u63A5\u6267\u884C\u7684\u4EE3\u7801\u3002Vite \u7684\u7F16\u8BD1\u5668\u652F\u6301\u70ED\u6A21\u5757\u66FF\u6362\uFF08HMR\uFF09\uFF0C\u53EF\u4EE5\u5728\u4EE3\u7801\u4FEE\u6539\u65F6\u81EA\u52A8\u66F4\u65B0\u6D4F\u89C8\u5668\u4E2D\u7684\u9875\u9762\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4E2D\u95F4\u4EF6\uFF1AVite \u4F7F\u7528\u4E86\u57FA\u4E8E Koa \u6846\u67B6\u7684\u4E2D\u95F4\u4EF6\u6765\u5904\u7406\u5F00\u53D1\u670D\u52A1\u5668\u3002\u901A\u8FC7\u4E2D\u95F4\u4EF6\uFF0CVite \u53EF\u4EE5\u62E6\u622A\u548C\u5904\u7406\u5F00\u53D1\u65F6\u7684 HTTP \u8BF7\u6C42\uFF0C\u5E76\u6839\u636E\u8BF7\u6C42\u7684\u8DEF\u5F84\u8FD4\u56DE\u76F8\u5E94\u7684\u6A21\u5757\u6587\u4EF6\u3002\u4E2D\u95F4\u4EF6\u8FD8\u53EF\u4EE5\u5904\u7406\u5404\u79CD\u5F00\u53D1\u65F6\u7684\u7279\u6B8A\u9700\u6C42\uFF0C\u5982\u4EE3\u7406 API \u8BF7\u6C42\u3001\u8DEF\u7531\u8F6C\u53D1\u7B49\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Vite \u57FA\u4E8E ES \u6A21\u5757\u3001HTTP/2\u3001\u81EA\u5B9A\u4E49\u7F16\u8BD1\u5668\u548C\u4E2D\u95F4\u4EF6\u7B49\u5E95\u5C42\u539F\u7406\uFF0C\u5B9E\u73B0\u4E86\u5FEB\u901F\u7684\u6A21\u5757\u52A0\u8F7D\u548C\u5F00\u53D1\u4F53\u9A8C\u3002 \u8FD9\u4E9B\u539F\u7406\u7684\u8FD0\u7528\u4F7F\u5F97 Vite \u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u80FD\u591F\u63D0\u4F9B\u66F4\u5FEB\u7684\u6784\u5EFA\u901F\u5EA6\u548C\u66F4\u597D\u7684\u5F00\u53D1\u4F53\u9A8C\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-vite",children:"esbuild \u548C rollup \u90FD\u662F vite \u7684\u57FA\u7840\u4F9D\u8D56\uFF0C \u90A3\u4E48\u4ED6\u4EEC\u6709\u5565\u4E0D\u540C\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"esbuild \u548C Rollup \u90FD\u662F Vite \u7684\u57FA\u7840\u4F9D\u8D56\uFF0C\u4F46\u5B83\u4EEC\u5728 Vite \u4E2D\u62C5\u8D1F\u7740\u4E0D\u540C\u7684\u89D2\u8272\u548C\u4EFB\u52A1\u3002"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"esbuild\uFF1Aesbuild \u662F\u4E00\u4E2A\u5FEB\u901F\u3001\u53EF\u6269\u5C55\u7684 JavaScript \u6253\u5305\u5668\uFF0C\u5B83\u88AB\u7528\u4F5C Vite \u7684\u9ED8\u8BA4\u6784\u5EFA\u5DE5\u5177\u3002esbuild \u7684\u4E3B\u8981\u4EFB\u52A1\u662F\u5C06\u6E90\u4EE3\u7801\u8F6C\u6362\u4E3A\u6D4F\u89C8\u5668\u53EF\u4EE5\u7406\u89E3\u7684\u4EE3\u7801\uFF0C\u540C\u65F6\u8FD8\u652F\u6301\u538B\u7F29\u3001\u4EE3\u7801\u5206\u5272\u3001\u6309\u9700\u52A0\u8F7D\u7B49\u529F\u80FD\u3002esbuild \u5229\u7528\u5176\u9AD8\u6027\u80FD\u7684\u6784\u5EFA\u80FD\u529B\uFF0C\u5B9E\u73B0\u4E86\u5FEB\u901F\u7684\u5F00\u53D1\u670D\u52A1\u5668\u548C\u70ED\u6A21\u5757\u66FF\u6362\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Rollup\uFF1ARollup \u662F\u4E00\u4E2A JavaScript \u6A21\u5757\u6253\u5305\u5DE5\u5177\uFF0C\u4E5F\u662F Vite \u7684\u53E6\u4E00\u4E2A\u57FA\u7840\u4F9D\u8D56\u3002\u5728 Vite \u4E2D\uFF0CRollup \u4E3B\u8981\u7528\u4E8E\u751F\u4EA7\u6784\u5EFA\u9636\u6BB5\u3002\u5B83\u901A\u8FC7\u9759\u6001\u5206\u6790\u6A21\u5757\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5C06\u591A\u4E2A\u6A21\u5757\u6253\u5305\u4E3A\u4E00\u4E2A\u6216\u591A\u4E2A\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u3002Rollup \u652F\u6301\u591A\u79CD\u8F93\u51FA\u683C\u5F0F\uFF0C\u5982 ES \u6A21\u5757\u3001CommonJS\u3001UMD \u7B49\uFF0C\u53EF\u4EE5\u6839\u636E\u9879\u76EE\u7684\u9700\u8981\u8FDB\u884C\u914D\u7F6E\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5C3D\u7BA1 esbuild \u548C Rollup \u90FD\u662F Vite \u7684\u57FA\u7840\u4F9D\u8D56\uFF0C\u4F46\u5B83\u4EEC\u7684\u5206\u5DE5\u662F\u4E0D\u540C\u7684\u3002esbuild \u7528\u4E8E\u5F00\u53D1\u670D\u52A1\u5668\u9636\u6BB5\uFF0C\u901A\u8FC7\u5B9E\u65F6\u7F16\u8BD1\u548C\u63D0\u4F9B\u6A21\u5757\u6765\u5B9E\u73B0\u5FEB\u901F\u7684\u51B7\u542F\u52A8\u548C\u70ED\u6A21\u5757\u66FF\u6362\u3002\u800C Rollup \u7528\u4E8E\u751F\u4EA7\u6784\u5EFA\u9636\u6BB5\uFF0C\u5C06\u6E90\u4EE3\u7801\u6253\u5305\u4E3A\u6700\u7EC8\u53EF\u53D1\u5E03\u7684\u6587\u4EF6\uFF0C\u4EE5\u7528\u4E8E\u90E8\u7F72\u5230\u751F\u4EA7\u73AF\u5883\u3002\u8FD9\u6837\u7684\u5206\u5DE5\u4F7F\u5F97 Vite \u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u80FD\u591F\u5FEB\u901F\u54CD\u5E94\u53D8\u5316\uFF0C\u5E76\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u751F\u6210\u9AD8\u6548\u7684\u6700\u7EC8\u8F93\u51FA\u6587\u4EF6\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p3-vite-dev-work",children:"vite dev  \u662F\u5982\u4F55\u5DE5\u4F5C\u7684, \u4E3A\u4EC0\u4E48\u5FEB\uFF0C\u6709\u4EC0\u4E48\u7F3A\u70B9?"}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u5168\u90E8\u90FD\u4EE5 esm \u6A21\u5F0F \u5904\u7406"}),"\n",(0,l.jsx)(n.li,{children:"js \u76F4\u63A5\u52A0\u8F7D"}),"\n",(0,l.jsxs)(n.li,{children:["\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6\u901A\u8FC7\u53CA\u65F6\u7F16\u8BD1\u5904\u7406\u540E\u52A0\u8F7D","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"less \u7F16\u8BD1\u540E\uFF0C\u8F6C\u4E3A css \u63D2\u5165 style"}),"\n",(0,l.jsx)(n.li,{children:"typescript \u7F16\u8BD1\u540E\uFF0C\u8F6C\u4E3A js \u63D2\u5165 script"}),"\n",(0,l.jsx)(n.li,{children:"tsx \u7F16\u8BD1\u540E\uFF0C\u8F6C\u4E3A jsx \u8F6C\u4E3A createElement \u7684 js \u63D2\u5165"}),"\n"]}),"\n"]}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vite.dev/guide/why.html",children:"why vite"})}),"\n"]})]}),"\n",(0,l.jsx)(n.h2,{id:"p0-tree-shaking-principle",children:"tree-shaking"}),"\n",(0,l.jsx)(n.p,{children:"webpack\u5B9E\u73B0tree shaking\u7684\u539F\u7406\u662F\u57FA\u4E8EES6\u6A21\u5757\u5316\u8BED\u6CD5\u7684\u9759\u6001\u7279\u6027\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u7F16\u8BD1\u9636\u6BB5\uFF0CWebpack\u4F1A\u6839\u636E\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u901A\u8FC7AST\uFF08\u62BD\u8C61\u8BED\u6CD5\u6811\uFF09\u8FDB\u884C\u9759\u6001\u5206\u6790\uFF0C\u8BC6\u522B\u51FA\u90A3\u4E9B\u4EE3\u7801\u5757\uFF08\u51FD\u6570\u3001\u53D8\u91CF\u3001\u5BF9\u8C61\u7B49\uFF09\u88AB\u5F15\u7528\u5E76\u4E14\u4F7F\u7528\u4E86\u3002\u7136\u540E\u5C06\u8FD9\u4E9B\u4EE3\u7801\u5757\u6253\u5305\u8F93\u51FA\u5230\u6700\u7EC8\u7684\u6253\u5305\u6587\u4EF6\u4E2D\u3002\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0CWebpack\u4F1A\u81EA\u52A8\u5C06\u672A\u88AB\u5F15\u7528\u7684\u4EE3\u7801\u5757\u8FDB\u884C\u5254\u9664\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u5C31\u662Ftree shaking\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u6765\u8BF4\uFF0C\u5F53Webpack\u5728\u6253\u5305\u65F6\u9047\u5230\u4E00\u4E2AES6\u6A21\u5757\u5BFC\u5165\u8BED\u53E5\uFF08import\uFF09\uFF0C\u5B83\u4F1A\u81EA\u52A8\u53BB\u52A0\u8F7D\u8FD9\u4E2A\u6A21\u5757\u5E76\u5206\u6790\u5176\u5BFC\u51FA\u5BF9\u8C61\u3002\u7136\u540E\u5B83\u4F1A\u5206\u6790\u9879\u76EE\u4E2D\u54EA\u4E9B\u5BFC\u51FA\u5BF9\u8C61\u88AB\u5F15\u7528\u4E86\u3002\u5982\u679C\u4E00\u4E2A\u5BFC\u51FA\u5BF9\u8C61\u6CA1\u6709\u88AB\u5F15\u7528\uFF0C\u90A3\u4E48Webpack\u4F1A\u76F4\u63A5\u628A\u5B83\u4ECE\u6700\u7EC8\u7684\u4EE3\u7801\u4E2D\u5254\u9664\u6389\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Ctree shaking\u53EA\u5BF9ES6\u6A21\u5757\u751F\u6548\uFF0C\u5BF9\u4E8ECommonJS\u7B49\u5176\u4ED6\u6A21\u5757\u5316\u89C4\u8303\uFF0C\u7531\u4E8E\u5176\u52A8\u6001\u52A0\u8F7D\u7279\u6027\uFF0C\u65E0\u6CD5\u5728\u9759\u6001\u5206\u6790\u9636\u6BB5\u786E\u5B9A\u54EA\u4E9B\u4EE3\u7801\u5757\u88AB\u5F15\u7528\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884Ctree shaking\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u53E6\u5916\uFF0C\u4E3A\u4E86\u4F7FWebpack\u80FD\u591F\u6B63\u786E\u8BC6\u522B\u548C\u5254\u9664\u672A\u5F15\u7528\u7684\u4EE3\u7801\u5757\uFF0C\u5F00\u53D1\u8005\u4E5F\u9700\u8981\u505A\u51FA\u4E00\u5B9A\u7684\u52AA\u529B\uFF0C\u4F8B\u5982\u5C06\u4EE3\u7801\u7F16\u5199\u4E3A\u7EAF\u51FD\u6570\u7684\u5F62\u5F0F\uFF0C\u907F\u514D\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u7B49\u526F\u4F5C\u7528\u7B49\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5177\u4F53\u54EA\u4E9B\u4F1A\u5BFC\u81F4 tree shaking \u5931\u6548\uFF0C\u53EF\u4EE5\u770B\u8FD9\u4E2A\u6587\u7AE0\uFF1A",(0,l.jsx)(n.a,{href:"https://github.com/pro-collection/interview-question/issues/235",children:"\u8D44\u6599"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4EE5\u4E0B\u60C5\u51B5\u4E0B\uFF0C",(0,l.jsx)(n.code,{children:"webpack"})," \u7684 ",(0,l.jsx)(n.code,{children:"tree-shaking"})," \u53EF\u80FD\u4F1A\u5931\u6548\uFF1A"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"sideEffects"})," \u5C5E\u6027\uFF1A\u5728 webpack \u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E86 ",(0,l.jsx)(n.code,{children:"sideEffects: true"}),"\uFF0C\u5219 webpack \u4F1A\u5047\u8BBE\u6240\u6709\u6A21\u5757\u90FD\u6709\u526F\u4F5C\u7528\uFF0C\u56E0\u6B64\u4E0D\u4F1A\u8FDB\u884C tree-shaking\u3002\u8FD9\u901A\u5E38\u7528\u4E8E\u907F\u514D\u67D0\u4E9B\u6A21\u5757\u88AB\u8BEF\u6807\u8BB0\u4E3A\u65E0\u7528\u4EE3\u7801\u800C\u88AB\u5220\u9664\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u52A8\u6001\u5BFC\u5165\uFF1A\u5982\u679C\u4F60\u4F7F\u7528\u4E86\u52A8\u6001\u5BFC\u5165\uFF08\u4F8B\u5982\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"import()"})," \u6216 ",(0,l.jsx)(n.code,{children:"require.ensure()"}),"\uFF09\uFF0Cwebpack \u65E0\u6CD5\u9759\u6001\u5206\u6790\u6A21\u5757\u7684\u5BFC\u5165\u548C\u5BFC\u51FA\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"commonjs"})," \u6A21\u5757\u8BED\u6CD5\uFF1A\u5982\u679C\u4F60\u7684\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"commonjs"})," \u6A21\u5757\u8BED\u6CD5\uFF08\u4F8B\u5982\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"require()"})," \u6216 ",(0,l.jsx)(n.code,{children:"module.exports"}),"\uFF09\uFF0Cwebpack \u65E0\u6CD5\u8FDB\u884C\u9759\u6001\u5206\u6790\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u672A\u4F7F\u7528 ES6 \u6A21\u5757\u8BED\u6CD5\uFF1Atree-shaking \u53EA\u80FD\u5BF9 ES6 \u6A21\u5757\u8BED\u6CD5\u8FDB\u884C\u4F18\u5316\uFF0C\u5982\u679C\u4F60\u7684\u4EE3\u7801\u4E2D\u6CA1\u6709\u4F7F\u7528 ES6 \u6A21\u5757\u8BED\u6CD5\uFF0Cwebpack \u5C06\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5757\u88AB\u52A8\u6001\u5F15\u7528\u6216\u6761\u4EF6\u5F15\u7528\uFF1A\u5982\u679C\u6A21\u5757\u7684\u5F15\u7528\u65B9\u5F0F\u662F\u52A8\u6001\u7684\uFF08\u4F8B\u5982\u5728\u5FAA\u73AF\u6216\u6761\u4EF6\u8BED\u53E5\u4E2D\u5F15\u7528\uFF09\uFF0C\u6216\u8005\u901A\u8FC7\u5B57\u7B26\u4E32\u62FC\u63A5\u6765\u5F15\u7528\u6A21\u5757\uFF0Cwebpack \u65E0\u6CD5\u786E\u5B9A\u54EA\u4E9B\u6A21\u5757\u4F1A\u88AB\u5F15\u7528\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u4E86\u526F\u4F5C\u7528\u7684\u4EE3\u7801\uFF1A\u5982\u679C\u4F60\u7684\u4EE3\u7801\u4E2D\u5305\u542B\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\uFF08\u4F8B\u5982\u5728\u6A21\u5757\u7684\u9876\u7EA7\u4F5C\u7528\u57DF\u4E2D\u6267\u884C\u4E86\u4E00\u4E9B\u64CD\u4F5C\uFF09\uFF0Cwebpack \u65E0\u6CD5\u786E\u5B9A\u54EA\u4E9B\u4EE3\u7801\u662F\u65E0\u7528\u7684\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5373\u4F7F tree-shaking \u53EF\u80FD\u4F1A\u5931\u6548\uFF0Cwebpack \u4ECD\u7136\u4F1A\u8FDB\u884C\u5176\u4ED6\u4F18\u5316\uFF0C\u4F8B\u5982\u4EE3\u7801\u538B\u7F29\u548C\u4EE3\u7801\u5206\u5272\u7B49\u3002\u540C\u65F6\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"mode"})," \u4E3A ",(0,l.jsx)(n.code,{children:"production"}),"\uFF0C\u6765\u542F\u7528 webpack \u7684\u4F18\u5316\u529F\u80FD\uFF0C\u5305\u62EC tree-shaking\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u7684 Tree Shaking \u4E3B\u8981\u662F\u7528\u6765\u6D88\u9664\u672A\u88AB\u4F7F\u7528\u7684\u4EE3\u7801\uFF0C\u4EE5\u51CF\u5C0F\u6700\u7EC8\u6253\u5305\u6587\u4EF6\u7684\u4F53\u79EF\u3002\u5176\u539F\u7406\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4E00\u3001\u9759\u6001\u5206\u6790"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6A21\u5757\u4F9D\u8D56\u5206\u6790\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Webpack \u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C\u4F1A\u5BF9\u9879\u76EE\u4E2D\u7684\u6A21\u5757\u8FDB\u884C\u4F9D\u8D56\u5206\u6790\u3002\u5B83\u4F1A\u89E3\u6790\u6BCF\u4E2A\u6A21\u5757\u7684\u5185\u5BB9\uFF0C\u786E\u5B9A\u6A21\u5757\u4E4B\u95F4\u7684\u5BFC\u5165\u548C\u5BFC\u51FA\u5173\u7CFB\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u901A\u8FC7\u5206\u6790\uFF0C\u53EF\u4EE5\u6784\u5EFA\u51FA\u4E00\u4E2A\u6A21\u5757\u4F9D\u8D56\u56FE\uFF0C\u5C55\u793A\u4E86\u5404\u4E2A\u6A21\u5757\u4E4B\u95F4\u7684\u5F15\u7528\u5173\u7CFB\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u8BC6\u522B\u672A\u4F7F\u7528\u7684\u4EE3\u7801\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u57FA\u4E8E\u6A21\u5757\u4F9D\u8D56\u56FE\uFF0CWebpack \u53EF\u4EE5\u786E\u5B9A\u54EA\u4E9B\u6A21\u5757\u88AB\u5B9E\u9645\u4F7F\u7528\uFF0C\u54EA\u4E9B\u6A21\u5757\u672A\u88AB\u4F7F\u7528\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u5BF9\u4E8E JavaScript \u6A21\u5757\uFF0C\u5B83\u53EF\u4EE5\u8BC6\u522B\u51FA\u672A\u88AB\u8C03\u7528\u7684\u51FD\u6570\u3001\u672A\u88AB\u8BBF\u95EE\u7684\u53D8\u91CF\u7B49\u3002\u5BF9\u4E8E\u5176\u4ED6\u8D44\u6E90\u6587\u4EF6\uFF0C\u5982 CSS \u548C\u56FE\u7247\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u5F15\u7528\u60C5\u51B5\u5224\u65AD\u662F\u5426\u88AB\u4F7F\u7528\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4E8C\u3001\u4EE3\u7801\u4F18\u5316"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D88\u9664\u672A\u4F7F\u7528\u7684\u4EE3\u7801\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E00\u65E6\u8BC6\u522B\u51FA\u672A\u4F7F\u7528\u7684\u4EE3\u7801\uFF0CWebpack \u4F1A\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u5C06\u8FD9\u4E9B\u4EE3\u7801\u4ECE\u6700\u7EC8\u7684\u8F93\u51FA\u6587\u4EF6\u4E2D\u79FB\u9664\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u8FD9\u53EF\u4EE5\u663E\u8457\u51CF\u5C0F\u6253\u5305\u6587\u4EF6\u7684\u5927\u5C0F\uFF0C\u63D0\u9AD8\u5E94\u7528\u7684\u52A0\u8F7D\u901F\u5EA6\u548C\u6027\u80FD\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u4F5C\u7528\u57DF\u5206\u6790\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5728\u6D88\u9664\u672A\u4F7F\u7528\u7684\u4EE3\u7801\u65F6\uFF0CWebpack \u8FD8\u4F1A\u8FDB\u884C\u4F5C\u7528\u57DF\u5206\u6790\u3002\u5B83\u4F1A\u786E\u4FDD\u5728\u79FB\u9664\u4EE3\u7801\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u5230\u5B9E\u9645\u4F7F\u7528\u7684\u4EE3\u7801\u7684\u6B63\u786E\u6027\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u4F8B\u5982\uFF0C\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u5728\u4E00\u4E2A\u6A21\u5757\u4E2D\u672A\u88AB\u4F7F\u7528\uFF0C\u4F46\u5728\u53E6\u4E00\u4E2A\u6A21\u5757\u4E2D\u88AB\u95F4\u63A5\u5F15\u7528\uFF0CWebpack \u4F1A\u8C28\u614E\u5904\u7406\uFF0C\u907F\u514D\u9519\u8BEF\u5730\u79FB\u9664\u8BE5\u51FD\u6570\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4E09\u3001\u5B9E\u73B0\u6761\u4EF6"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"ES2015 \u6A21\u5757\u8BED\u6CD5\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Tree Shaking \u4E3B\u8981\u4F9D\u8D56\u4E8E ES2015 \u6A21\u5757\u8BED\u6CD5\uFF08",(0,l.jsx)(n.code,{children:"import"}),"\u548C",(0,l.jsx)(n.code,{children:"export"}),"\uFF09\u3002\u8FD9\u79CD\u6A21\u5757\u8BED\u6CD5\u662F\u9759\u6001\u7684\uFF0C\u4F7F\u5F97 Webpack \u80FD\u591F\u5728\u7F16\u8BD1\u65F6\u786E\u5B9A\u6A21\u5757\u7684\u5BFC\u5165\u548C\u5BFC\u51FA\u5173\u7CFB\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u76F8\u6BD4\u4E4B\u4E0B\uFF0CCommonJS \u6A21\u5757\u8BED\u6CD5\uFF08",(0,l.jsx)(n.code,{children:"require"}),"\u548C",(0,l.jsx)(n.code,{children:"module.exports"}),"\uFF09\u662F\u52A8\u6001\u7684\uFF0C\u96BE\u4EE5\u5728\u7F16\u8BD1\u65F6\u8FDB\u884C\u51C6\u786E\u7684\u5206\u6790\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u652F\u6301\u7684\u6A21\u5757\u7C7B\u578B\uFF1A"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Webpack \u4E0D\u4EC5\u53EF\u4EE5\u5BF9 JavaScript \u6A21\u5757\u8FDB\u884C Tree Shaking\uFF0C\u8FD8\u53EF\u4EE5\u5BF9\u4E00\u4E9B\u5176\u4ED6\u7C7B\u578B\u7684\u6A21\u5757\u8FDB\u884C\u5904\u7406\uFF0C\u5982 CSS \u6A21\u5757\uFF08\u901A\u8FC7\u7279\u5B9A\u7684\u52A0\u8F7D\u5668\u548C\u63D2\u4EF6\uFF09\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u5BF9\u4E8E\u4E0D\u540C\u7C7B\u578B\u7684\u6A21\u5757\uFF0CWebpack \u53EF\u80FD\u4F1A\u4F7F\u7528\u4E0D\u540C\u7684\u6280\u672F\u548C\u7B56\u7565\u6765\u5B9E\u73B0 Tree Shaking\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u4E4B\uFF0CWebpack \u7684 Tree Shaking \u901A\u8FC7\u9759\u6001\u5206\u6790\u6A21\u5757\u4F9D\u8D56\u5173\u7CFB\uFF0C\u8BC6\u522B\u5E76\u6D88\u9664\u672A\u4F7F\u7528\u7684\u4EE3\u7801\uFF0C\u4ECE\u800C\u4F18\u5316\u6253\u5305\u6587\u4EF6\u7684\u5927\u5C0F\u548C\u6027\u80FD\u3002\u5B83\u4F9D\u8D56\u4E8E ES2015 \u6A21\u5757\u8BED\u6CD5\u548C\u51C6\u786E\u7684\u6A21\u5757\u4F9D\u8D56\u5206\u6790\uFF0C\u540C\u65F6\u9700\u8981\u6CE8\u610F\u4E00\u4E9B\u5B9E\u73B0\u6761\u4EF6\u548C\u6F5C\u5728\u7684\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(n.p,{children:"webpack \u5982\u4F55\u505A tree shaking"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Webpack"}),"\u901A\u8FC7",(0,l.jsx)(n.code,{children:"tree shaking"}),"\u6280\u672F\u5B9E\u73B0\u4E86JavaScript\u4EE3\u7801\u7684\u4F18\u5316\u548C\u7CBE\u7B80\u3002",(0,l.jsx)(n.code,{children:"Tree shaking"}),'\u662F\u6307\u901A\u8FC7\u9759\u6001\u4EE3\u7801\u5206\u6790\uFF0C\u8BC6\u522B\u548C\u79FB\u9664\u672A\u88AB\u4F7F\u7528\u7684\u4EE3\u7801\uFF08\u88AB\u79F0\u4E3A"dead code"\uFF09\uFF0C\u4ECE\u800C\u51CF\u5C0F\u6700\u7EC8\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\u3002']}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662FWebpack\u5982\u4F55\u8FDB\u884Ctree shaking\u7684\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4EE3\u7801\u6807\u8BB0\uFF1A\u5728\u4EE3\u7801\u4E2D\u4F7F\u7528ES6\u6A21\u5757\u5316\u8BED\u6CD5\uFF08\u5982",(0,l.jsx)(n.code,{children:"import"}),"\u548C",(0,l.jsx)(n.code,{children:"export"}),"\uFF09\u6765\u660E\u786E\u6307\u5B9A\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u89E3\u6790\uFF1AWebpack\u4F1A\u89E3\u6790\u6574\u4E2A\u4EE3\u7801\uFF0C\u5E76\u6784\u5EFA\u4E00\u4E2A\u4F9D\u8D56\u56FE\u8C31\uFF0C\u8BB0\u5F55\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6807\u8BB0\u672A\u4F7F\u7528\u4EE3\u7801\uFF1A\u5728\u6784\u5EFA\u4F9D\u8D56\u56FE\u8C31\u7684\u8FC7\u7A0B\u4E2D\uFF0CWebpack\u4F1A\u6807\u8BB0\u90A3\u4E9B\u672A\u88AB\u4F7F\u7528\u7684\u6A21\u5757\uFF0C\u4EE5\u53CA\u8FD9\u4E9B\u6A21\u5757\u4E2D\u7684\u672A\u88AB\u4F7F\u7528\u7684\u51FD\u6570\u3001\u7C7B\u3001\u53D8\u91CF\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u65E0\u526F\u4F5C\u7528\u6807\u8BB0\uFF1AWebpack\u8FD8\u4F1A\u68C0\u67E5\u6A21\u5757\u7684\u526F\u4F5C\u7528\uFF08\u4F8B\u5982\u5BF9\u5168\u5C40\u53D8\u91CF\u7684\u4FEE\u6539\u3001\u7F51\u7EDC\u8BF7\u6C42\u7B49\uFF09\uFF0C\u5E76\u5C06\u6CA1\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\u89C6\u4E3A\u53EF\u5B89\u5168\u79FB\u9664\u7684\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u672A\u4F7F\u7528\u4EE3\u7801\u79FB\u9664\uFF1A\u5728\u4EE3\u7801\u6253\u5305\u9636\u6BB5\uFF0CWebpack\u4F1A\u6839\u636E\u6807\u8BB0\u7684\u672A\u4F7F\u7528\u4EE3\u7801\u4FE1\u606F\uFF0C\u4ECE\u6700\u7EC8\u7684\u6253\u5305\u7ED3\u679C\u4E2D\u79FB\u9664\u8FD9\u4E9B\u672A\u88AB\u4F7F\u7528\u7684\u4EE3\u7801\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7tree shaking\uFF0CWebpack\u53EF\u4EE5\u51CF\u5C0F\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u63D0\u9AD8\u5E94\u7528\u7684\u52A0\u8F7D\u901F\u5EA6\u548C\u6027\u80FD\u3002\u4F46\u8981\u6CE8\u610F\u7684\u662F\uFF0Ctree shaking\u53EA\u5BF9ES6\u6A21\u5757\u5316\u7684\u4EE3\u7801\u6709\u6548\uFF0C\u5BF9\u4E8ECommonJS\u6A21\u5757\u5316\u7684\u4EE3\u7801\u5219\u65E0\u6CD5\u8FDB\u884C\u4F18\u5316\u3002\u53E6\u5916\uFF0C\u6709\u4E9B\u4EE3\u7801\u53EF\u80FD\u7531\u4E8E\u590D\u6742\u7684\u4F9D\u8D56\u5173\u7CFB\u65E0\u6CD5\u88AB\u6B63\u786E\u5730\u6807\u8BB0\u4E3A\u672A\u4F7F\u7528\uFF0C\u8FD9\u5C31\u9700\u8981\u5F00\u53D1\u8005\u81EA\u5DF1\u8FDB\u884C\u914D\u7F6E\u6216\u4F7F\u7528\u5176\u4ED6\u5DE5\u5177\u8FDB\u884C\u4F18\u5316\u3002"}),"\n",(0,l.jsx)(n.p,{children:"webpack \u5904\u7406 tree shaking \u914D\u7F6E"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u5728Webpack\u4E2D\u914D\u7F6Etree shaking\uFF0C\u9700\u8981\u8FDB\u884C\u4EE5\u4E0B\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728",(0,l.jsx)(n.code,{children:"webpack.config.js"}),"\u6587\u4EF6\u4E2D\uFF0C\u5C06",(0,l.jsx)(n.code,{children:"mode"}),"\u8BBE\u7F6E\u4E3A",(0,l.jsx)(n.code,{children:"production"}),"\uFF0C\u8FD9\u4F1A\u542F\u7528Webpack\u7684\u4F18\u5316\u529F\u80FD\uFF0C\u5305\u62ECtree shaking\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  mode: 'production'\n  // \u5176\u4ED6\u914D\u7F6E...\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u4F7F\u7528\u4E86ES6\u6A21\u5757\u5316\u8BED\u6CD5\uFF08\u4F7F\u7528",(0,l.jsx)(n.code,{children:"import"}),"\u548C",(0,l.jsx)(n.code,{children:"export"}),"\uFF09\uFF0C\u4EE5\u4FBFWebpack\u80FD\u591F\u6B63\u786E\u5730\u8FDB\u884C\u9759\u6001\u4EE3\u7801\u5206\u6790\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u5E93\u4E2D\u6CA1\u6709\u526F\u4F5C\u7528\u3002Webpack\u4F1A\u5047\u8BBE\u6CA1\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\u53EF\u4EE5\u5B89\u5168\u5730\u79FB\u9664\u3002\u5982\u679C\u4F60\u7684\u4EE3\u7801\u786E\u5B9E\u6709\u526F\u4F5C\u7528\uFF0C\u53EF\u4EE5\u5728webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684",(0,l.jsx)(n.code,{children:"optimization"}),"\u9009\u9879\u4E2D\u8BBE\u7F6E",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u4E3A",(0,l.jsx)(n.code,{children:"false"}),"\u6765\u544A\u8BC9Webpack\u53EF\u4EE5\u5B89\u5168\u5730\u8FDB\u884Ctree shaking\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  mode: 'production',\n  optimization: {\n    sideEffects: false\n  }\n  // \u5176\u4ED6\u914D\u7F6E...\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E86\u89E3\u4E00\u4E0B\u526F\u4F5C\u7528"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u8BA1\u7B97\u673A\u79D1\u5B66\u4E2D\uFF0C\u526F\u4F5C\u7528\u662F\u6307\u51FD\u6570\u6216\u4EE3\u7801\u7684\u6267\u884C\u5BF9\u9664\u4E86\u8FD4\u56DE\u4E00\u4E2A\u503C\u4E4B\u5916\u7684\u7A0B\u5E8F\u72B6\u6001\u4EA7\u751F\u4E86\u53EF\u89C2\u5BDF\u7684\u53D8\u5316\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u526F\u4F5C\u7528\u662F\u6307\u5BF9\u5916\u90E8\u73AF\u5883\u4EA7\u751F\u4E86\u5F71\u54CD\u6216\u4EA7\u751F\u4E86\u53EF\u89C2\u5BDF\u7684\u884C\u4E3A\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E9B\u5E38\u89C1\u7684\u526F\u4F5C\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4FEE\u6539\u5168\u5C40\u53D8\u91CF\u6216\u5916\u90E8\u72B6\u6001\uFF1A\u51FD\u6570\u4FEE\u6539\u4E86\u5168\u5C40\u53D8\u91CF\u6216\u5916\u90E8\u72B6\u6001\uFF0C\u4F8B\u5982\u4FEE\u6539\u4E86\u4E00\u4E2A\u5171\u4EAB\u7684\u6570\u7EC4\u3001\u5BF9\u8C61\u6216\u6587\u4EF6\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42\uFF1A\u51FD\u6570\u901A\u8FC7\u7F51\u7EDC\u53D1\u9001\u4E86\u4E00\u4E2AHTTP\u8BF7\u6C42\uFF0C\u8FD9\u4F1A\u89E6\u53D1\u7F51\u7EDC\u4EA4\u4E92\u5E76\u4EA7\u751F\u526F\u4F5C\u7528\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4FEE\u6539\u51FD\u6570\u53C2\u6570\uFF1A\u51FD\u6570\u4FEE\u6539\u4E86\u4F20\u5165\u7684\u53C2\u6570\u503C\uFF0C\u8FD9\u4F1A\u5F71\u54CD\u51FD\u6570\u5916\u90E8\u7684\u53D8\u91CF\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u63A7\u5236\u53F0\u6253\u5370\uFF1A\u51FD\u6570\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u4E86",(0,l.jsx)(n.code,{children:"console.log()"}),"\u6216\u5176\u4ED6\u6253\u5370\u8BED\u53E5\uFF0C\u8FD9\u4F1A\u5728\u63A7\u5236\u53F0\u4E2D\u4EA7\u751F\u53EF\u89C2\u5BDF\u5230\u7684\u8F93\u51FA\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F02\u6B65\u64CD\u4F5C\uFF1A\u51FD\u6570\u4E2D\u5305\u542B\u4E86\u5F02\u6B65\u64CD\u4F5C\uFF0C\u4F8B\u5982\u5B9A\u65F6\u5668\u3001Promise\u6216\u901A\u8FC7\u56DE\u8C03\u51FD\u6570\u5B9E\u73B0\u7684\u5F02\u6B65\u64CD\u4F5C\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u4F55\u7533\u660E\u4EE3\u7801\u662F\u6709\u526F\u4F5C\u7528"}),"\n",(0,l.jsx)(n.p,{children:"\u67D0\u4E00\u4E9B\u4EE3\u7801\u662F\u662F\u9700\u8981\u7981\u6B62\u88AB\u6E05\u7406\u6389\uFF0C \u8FD9\u4E2A\u65F6\u5019\u8BE5\u5982\u4F55\u5904\u7406\u5462\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"\u6709\u51E0\u4E2A\u529E\u6CD5\uFF1A"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u65B9\u6CD5\u4E00\uFF1A\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6307\u5B9A\u526F\u4F5C\u7528"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728Webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u9009\u9879\u6765\u6307\u5B9A\u54EA\u4E9B\u6587\u4EF6\u6216\u6A21\u5757\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u4E0D\u5141\u8BB8\u6E05\u7406\u3002",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u63A5\u53D7\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u3001\u4E00\u4E2A\u6587\u4EF6\u540D\u6216\u4E00\u4E2A\u6570\u7EC4\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    usedExports: true\n  },\n  mode: 'production',\n  sideEffects: ['./src/some-module.js']\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u6570\u7EC4\u4E2D\u7684",(0,l.jsx)(n.code,{children:"./src/some-module.js"}),"\u6587\u4EF6\u5C06\u4F1A\u88AB\u6807\u8BB0\u4E3A\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u4E0D\u4F1A\u88AB\u6E05\u7406\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8BF7\u6CE8\u610F\uFF0C\u4E3A\u4E86\u4F7F",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u9009\u9879\u751F\u6548\uFF0C\u4F60\u9700\u8981\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u542F\u7528",(0,l.jsx)(n.code,{children:"optimization.usedExports"}),"\u9009\u9879\uFF0C\u5E76\u5C06",(0,l.jsx)(n.code,{children:"mode"}),"\u8BBE\u7F6E\u4E3A",(0,l.jsx)(n.code,{children:"production"}),"\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u65B9\u6CD5\u4E8C\uFF1Apackage.json \u4E2D\u914D\u7F6E sideEffects \u5C5E\u6027"})}),"\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u5728",(0,l.jsx)(n.code,{children:"package.json"}),"\u6587\u4EF6\u4E2D\u4F7F\u7528",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u6765\u7533\u660E\u54EA\u4E9B\u6587\u4EF6\u6216\u6A21\u5757\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u4E0D\u5141\u8BB8\u88AB\u6E05\u7406\u3002"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5982\u679C\u5C06",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u8BBE\u7F6E\u4E3A\u5E03\u5C14\u503C",(0,l.jsx)(n.code,{children:"false"}),"\uFF0C\u8868\u793A\u6240\u6709\u5BFC\u5165\u7684\u6587\u4EF6\u90FD\u88AB\u8BA4\u4E3A\u6CA1\u6709\u526F\u4F5C\u7528\uFF0C\u53EF\u4EE5\u88ABtree shaking\u6E05\u7406\u3002\u8FD9\u5728\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u662F\u9ED8\u8BA4\u7684\u884C\u4E3A\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "name": "my-package",\n "version": "1.0.0",\n "sideEffects": false\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\u5982\u679C\u8BBE\u7F6E\u4E3A\u5E03\u5C14\u503C",(0,l.jsx)(n.code,{children:"true"}),"\uFF0C\u8868\u793A\u6240\u6709\u5BFC\u5165\u7684\u6587\u4EF6\u90FD\u88AB\u8BA4\u4E3A\u6709\u526F\u4F5C\u7528\uFF0C\u4E0D\u4F1A\u88ABtree shaking\u6E05\u7406\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "name": "my-package",\n "version": "1.0.0",\n "sideEffects": true\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\u5982\u679C\u5C06",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u8BBE\u7F6E\u4E3A\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E2A\u5143\u7D20\u53EF\u4EE5\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u6216\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u8868\u793A\u5177\u6709\u526F\u4F5C\u7528\u7684\u6587\u4EF6\u6216\u6A21\u5757\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "name": "my-package",\n "version": "1.0.0",\n "sideEffects": [\n "./src/some-module.js",\n "/\\.css$/"\n ]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u8FF0\u793A\u4F8B\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"./src/some-module.js"}),"\u6587\u4EF6\u548C\u6240\u6709\u4EE5",(0,l.jsx)(n.code,{children:".css"}),"\u7ED3\u5C3E\u7684\u6587\u4EF6\u90FD\u88AB\u8BA4\u4E3A\u6709\u526F\u4F5C\u7528\uFF0C\u4E0D\u4F1A\u88ABtree shaking\u6E05\u7406\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679C\u6211\u67D0\u4E00\u4E2A\u6587\u4EF6\u914D\u7F6E\u4E86 sideEffects \u7533\u660E\u8BE5\u6587\u4EF6\u6709\u526F\u4F5C\u7528\uFF0C \u4F46\u662F\u6211\u53C8\u60F3\u6E05\u7406\u5176\u4E2D\u7684\u67D0\u4E2A\u51FD\u6570"}),"\n",(0,l.jsxs)(n.p,{children:["\u9B54\u6CD5\u4E2D\u7684\u9B54\u6CD5\u6CE8\u91CA: ",(0,l.jsx)(n.code,{children:"/*#__PURE__*/"})]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u4E0A\u9762\u7684\u77E5\u8BC6\uFF0C \u6211\u4EEC\u77E5\u9053\u4E86\uFF0C \u5982\u679C\u662F\u6709\u5982\u679C\u88AB sideEffects \u7533\u660E\u4E86\u526F\u4F5C\u7528\u7684\u6587\u4EF6\uFF0C \u662F\u4E0D\u4F1A\u88AB tree shaking \u6E05\u7406\u6389\u7684\uFF0C\u4F46\u662F\u4E5F\u6709\u4F8B\u5916\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/*#__PURE__*/"}),"\u8FD9\u4E2A\u6CE8\u91CA\u7684\u4F5C\u7528\u662F\u544A\u8BC9Webpack\u6216Babel\u7B49\u6784\u5EFA\u5DE5\u5177\uFF0C\u8FD9\u4E00\u884C\u4EE3\u7801\u662F\u7EAF\u7CB9\u7684\uFF0C\u6CA1\u6709\u526F\u4F5C\u7528\uFF0C\u5E76\u4E14\u53EF\u4EE5\u5B89\u5168\u5730\u8FDB\u884Ctree shaking\uFF08\u6447\u6811\u4F18\u5316\uFF09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5BF9\u4E8E\u4E00\u4E9B\u5E93\u6216\u6846\u67B6\uFF0C\u53EF\u80FD\u4F1A\u6709\u4E00\u4E9B\u51FD\u6570\u6216\u7C7B\u88AB\u5BFC\u51FA\uFF0C\u4F46\u5B9E\u9645\u4E0A\u5F88\u5C11\u88AB\u4F7F\u7528\uFF0C\u4E3A\u4E86\u8BA9\u6784\u5EFA\u5DE5\u5177\u77E5\u9053\u8FD9\u4E9B\u4EE3\u7801\u53EF\u4EE5\u88AB\u5220\u9664\uFF0C\u53EF\u4EE5\u5728\u5BFC\u51FA\u8BED\u53E5\u4E0A\u6DFB\u52A0",(0,l.jsx)(n.code,{children:"/*#__PURE__*/"}),"\u6CE8\u91CA\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u5047\u8BBE ",(0,l.jsx)(n.code,{children:"src/myModule.js"})," \u6587\u4EF6\u6709\u4E0B\u9762\u7684\u4EE3\u7801\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"export /* #__PURE__ */ function add (a, b) {\n  return a + b\n}\n\nexport function subtract (a, b) {\n  return a - b\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E14 webpack \u5DF2\u7ECF\u5C06 ",(0,l.jsx)(n.code,{children:"src/myModule.js"})," \u7533\u660E\u4E3A\u4E86\u6709\u526F\u4F5C\u7528\u6587\u4EF6"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\n  optimization: {\n    sideEffects: ['./src/myModule.js']\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u867D\u7136\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"sideEffects"})," \u914D\u7F6E\u7533\u660E\u4E86 ",(0,l.jsx)(n.code,{children:"./src/myModule.js"})," \u6587\u4EF6\u662F\u6709\u526F\u4F5C\u7528\u7684\uFF0C\u4F46\u662F\u7531\u4E8E ",(0,l.jsx)(n.code,{children:"add"})," \u65B9\u6CD5\u524D\u9762\u6709 ",(0,l.jsx)(n.code,{children:"/*#__PURE__*/"})," \u6CE8\u91CA\u6807\u8BB0\uFF0C\u610F\u5473\u7740\u8FD9\u4E2A\u65B9\u6CD5\u88AB\u6807\u8BB0\u4E3A\u7EAF\u51FD\u6570\uFF0C\u8BE5\u65B9\u6CD5\u662F\u6CA1\u6709\u526F\u4F5C\u7528\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56E0\u6B64\u6700\u7EC8\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"/*#__PURE__*/"})," \u6CE8\u91CA\u6807\u8BB0\u7684 ",(0,l.jsx)(n.code,{children:"add"})," \u65B9\u6CD5\u4F9D\u7136\u53EF\u4EE5\u88AB Webpack \u7684 Tree Shaking \u6E05\u7406\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"commonjs \u6A21\u5757\u5C31\u771F\u7684\u4E0D\u80FD\u88AB tree shaking \u4E86\uFF1F"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4E0B\u9762\u8FD9\u6BB5\u6765\u81EA\u4E8E webpack \u5B98\u7F51\n\u53C2\u8003\u6587\u6863\uFF1A ",(0,l.jsx)(n.a,{href:"https://webpack.docschina.org/blog/2020-10-10-webpack-5-release/#commonjs-tree-shaking",children:"\u8D44\u6599"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u66FE\u7ECF\u4E0D\u8FDB\u884C\u5BF9 CommonJs \u5BFC\u51FA\u548C require() \u8C03\u7528\u65F6\u7684\u5BFC\u51FA\u4F7F\u7528\u5206\u6790\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Webpack 5 \u589E\u52A0\u4E86\u5BF9\u4E00\u4E9B CommonJs \u6784\u9020\u7684\u652F\u6301\uFF0C\u5141\u8BB8\u6D88\u9664\u672A\u4F7F\u7528\u7684 CommonJs \u5BFC\u51FA\uFF0C\u5E76\u4ECE require() \u8C03\u7528\u4E2D\u8DDF\u8E2A\u5F15\u7528\u7684\u5BFC\u51FA\u540D\u79F0\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u652F\u6301\u4EE5\u4E0B\u6784\u9020\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"exports|this|module.exports.xxx = ..."})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'exports|this|module.exports = require("...") (reexport)'})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'exports|this|module.exports.xxx = require("...").xxx (reexport)'})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'Object.defineProperty(exports|this|module.exports, "xxx", ...)'})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'require("abc").xxx'})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'require("abc").xxx()'})}),"\n",(0,l.jsx)(n.li,{children:"\u4ECE ESM \u5BFC\u5165"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"require()"})," \u4E00\u4E2A ESM \u6A21\u5757"]}),"\n",(0,l.jsx)(n.li,{children:"\u88AB\u6807\u8BB0\u7684\u5BFC\u51FA\u7C7B\u578B (\u5BF9\u975E\u4E25\u683C ESM \u5BFC\u5165\u505A\u7279\u6B8A\u5904\u7406):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'Object.defineProperty(exports|this|module.exports, "__esModule", { value: true|!0 })'})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"exports|this|module.exports.__esModule = true|!0"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5F53\u68C0\u6D4B\u5230\u4E0D\u53EF\u5206\u6790\u7684\u4EE3\u7801\u65F6\uFF0Cwebpack \u4F1A\u653E\u5F03\uFF0C\u5E76\u4E14\u5B8C\u5168\u4E0D\u8DDF\u8E2A\u8FD9\u4E9B\u6A21\u5757\u7684\u5BFC\u51FA\u4FE1\u606F\uFF08\u51FA\u4E8E\u6027\u80FD\u8003\u8651\uFF09\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u7EC8\u6781\u5FC5\u6740\u95EE\uFF1Awebpack tree-shaking \u5728\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F1A\u5931\u6548"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u52A8\u6001\u5BFC\u5165\uFF1A\u5982\u679C\u4F60\u4F7F\u7528\u4E86\u52A8\u6001\u5BFC\u5165\uFF08\u4F8B\u5982\u4F7F\u7528\u4E86 import() \u6216 require.ensure()\uFF09\uFF0Cwebpack \u65E0\u6CD5\u9759\u6001\u5206\u6790\u6A21\u5757\u7684\u5BFC\u5165\u548C\u5BFC\u51FA\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u672A\u4F7F\u7528 ES6 \u6A21\u5757\u8BED\u6CD5\uFF1Atree-shaking \u53EA\u80FD\u5BF9 ES6 \u6A21\u5757\u8BED\u6CD5\u8FDB\u884C\u4F18\u5316\uFF0C\u5982\u679C\u4F60\u7684\u4EE3\u7801\u4E2D\u6CA1\u6709\u4F7F\u7528 ES6 \u6A21\u5757\u8BED\u6CD5\uFF0Cwebpack \u5C06\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5757\u88AB\u52A8\u6001\u5F15\u7528\u6216\u6761\u4EF6\u5F15\u7528\uFF1A\u5982\u679C\u6A21\u5757\u7684\u5F15\u7528\u65B9\u5F0F\u662F\u52A8\u6001\u7684\uFF08\u4F8B\u5982\u5728\u5FAA\u73AF\u6216\u6761\u4EF6\u8BED\u53E5\u4E2D\u5F15\u7528\uFF09\uFF0C\u6216\u8005\u901A\u8FC7\u5B57\u7B26\u4E32\u62FC\u63A5\u6765\u5F15\u7528\u6A21\u5757\uFF0Cwebpack \u65E0\u6CD5\u786E\u5B9A\u54EA\u4E9B\u6A21\u5757\u4F1A\u88AB\u5F15\u7528\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u4E86\u526F\u4F5C\u7528\u7684\u4EE3\u7801\uFF1A\u5982\u679C\u4F60\u7684\u4EE3\u7801\u4E2D\u5305\u542B\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\uFF08\u4F8B\u5982\u5728\u6A21\u5757\u7684\u9876\u7EA7\u4F5C\u7528\u57DF\u4E2D\u6267\u884C\u4E86\u4E00\u4E9B\u64CD\u4F5C\uFF09\uFF0Cwebpack \u65E0\u6CD5\u786E\u5B9A\u54EA\u4E9B\u4EE3\u7801\u662F\u65E0\u7528\u7684\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C tree-shaking\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u53C2\u8003\u8FD9\u4E2A\u56DE\u7B54\uFF1A",(0,l.jsx)(n.a,{href:"https://github.com/pro-collection/interview-question/issues/523",children:"\u8D44\u6599"})]}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E9B\u53EF\u80FD\u5BFC\u81F4 webpack tree shaking \u5931\u6548\u7684\u60C5\u51B5"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86\u52A8\u6001\u5F15\u5165\uFF08Dynamic Imports\uFF09\u7684\u8BED\u6CD5\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0Cwebpack \u65E0\u6CD5\u786E\u5B9A\u54EA\u4E9B\u4EE3\u7801\u4F1A\u88AB\u4F7F\u7528\uFF0C\u56E0\u6B64\u4E0D\u4F1A\u8FDB\u884C tree shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u4F7F\u7528\u4E86\u51FD\u6570\u5F0F\u7F16\u7A0B\u7684\u65B9\u5F0F\uFF0C\u6BD4\u5982\u4F7F\u7528\u4E86 map\u3001filter\u3001reduce \u7B49\u9AD8\u9636\u51FD\u6570\uFF0C\u800C\u8FD9\u4E9B\u51FD\u6570\u5F88\u96BE\u901A\u8FC7\u9759\u6001\u5206\u6790\u786E\u5B9A\u4EE3\u7801\u7684\u6267\u884C\u8DEF\u5F84\uFF0C\u6240\u4EE5\u53EF\u80FD\u4F1A\u5BFC\u81F4 tree shaking \u5931\u6548\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86 webpack \u65E0\u6CD5\u8BC6\u522B\u7684\u6A21\u5757\u7CFB\u7EDF\uFF0C\u6BD4\u5982\u4F7F\u7528\u4E86 AMD \u6216\u8005 CommonJS \u7684\u8BED\u6CD5\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B webpack \u4E5F\u65E0\u6CD5\u8FDB\u884C tree shaking\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u4F7F\u7528\u4E86 side effect\uFF0C\u6BD4\u5982\u6539\u53D8\u5168\u5C40\u53D8\u91CF\u6216\u8005\u51FD\u6570\u7684\u53C2\u6570\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B webpack \u4E5F\u65E0\u6CD5\u8FDB\u884C tree shaking\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u51FD\u6570\u5F0F\u7F16\u7A0B\u7684\u65B9\u5F0F filter \u4E3A\u4F55\u4F1A\u5BFC\u81F4\u65E0\u6CD5 tree shaking"}),"\n",(0,l.jsx)(n.p,{children:"\u51FD\u6570\u5F0F\u7F16\u7A0B\u4E2D\u5E38\u5E38\u4F7F\u7528\u9AD8\u9636\u51FD\u6570\u6765\u7EC4\u5408\u51FD\u6570\uFF0C\u8FD9\u79CD\u7EC4\u5408\u65B9\u5F0F\u5E38\u5E38\u9700\u8981\u4F7F\u7528\u4F20\u9012\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u7684\u65B9\u5F0F\uFF0C\u4F8B\u5982 map\u3001filter \u7B49\u9AD8\u9636\u51FD\u6570\u3002\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u53C2\u6570\u4F20\u9012\u7684\u662F\u4E00\u4E2A\u51FD\u6570\u8868\u8FBE\u5F0F\u6216\u8005\u51FD\u6570\u58F0\u660E\uFF0C\u90A3\u4E48\u65E0\u6CD5\u8FDB\u884C treeshaking\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E3E\u4E2A\u4F8B\u5B50\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// \u4EE3\u7801\u4E2D\u5B9A\u4E49\u4E86\u4E00\u4E2A sum \u51FD\u6570\n// \u8C03\u7528\u4E86 lodash \u5E93\u7684 filter \u51FD\u6570\uFF0C\u4F20\u9012\u4E00\u4E2A\u533F\u540D\u51FD\u6570\u8868\u8FBE\u5F0F\u4F5C\u4E3A\u53C2\u6570\nimport { filter } from 'lodash'\n\nfunction sum (a, b) {\n  return a + b\n}\n\nconst arr = [1, 2, 3, 4, 5]\nconst result = filter(arr, item => {\n  if (item > 10) return sum(item, 1)\n  else return item\n})\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u4F7F\u7528\u4E86 lodash \u5E93\u7684 filter \u51FD\u6570\uFF0C\u5E76\u4E14\u4F20\u9012\u4E86\u4E00\u4E2A\u533F\u540D\u51FD\u6570\u8868\u8FBE\u5F0F\u4F5C\u4E3A\u53C2\u6570\u3002\u7531\u4E8E\u51FD\u6570\u8868\u8FBE\u5F0F\u65E0\u6CD5\u88AB\u9759\u6001\u5206\u6790\uFF0C\u4E0D\u77E5\u9053 sum \u662F\u5426\u4F1A\u88AB\u8C03\u7528\uFF0C\u56E0\u6B64\u65E0\u6CD5\u8FDB\u884C treeshaking\uFF0C\u6700\u7EC8\u5BFC\u81F4\u6574\u4E2A sum \u51FD\u6570\u4E5F\u88AB\u6253\u5305\u8FDB\u4E86\u6700\u7EC8\u7684\u4EE3\u7801\u4E2D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E3A\u4EC0\u4E48 commonjs \u6A21\u5757\u5316\u4F1A\u5BFC\u81F4\u65E0\u6CD5 tree shaking"}),"\n",(0,l.jsxs)(n.p,{children:["CommonJS \u6A21\u5757\u5316\u8BED\u6CD5\u662F Node.js \u4E2D\u7684\u6A21\u5757\u5316\u89C4\u8303\uFF0C\u5176\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"require()"})," \u5BFC\u5165\u6A21\u5757\uFF0C\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"module.exports"})," \u6216 ",(0,l.jsx)(n.code,{children:"exports"})," \u5BFC\u51FA\u6A21\u5757\u3002\u5B83\u91C7\u7528\u7684\u662F\u52A8\u6001\u5BFC\u5165\uFF08require()\uFF09\u548C\u540C\u6B65\u52A0\u8F7D\u7684\u65B9\u5F0F\uFF0C\u8FD9\u79CD\u5BFC\u5165\u65B9\u5F0F\u65E0\u6CD5\u5728\u7F16\u8BD1\u65F6\u786E\u5B9A\u6240\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u56E0\u6B64\u5728 Webpack \u8FDB\u884C Tree Shaking \u65F6\uFF0C\u8FD9\u79CD\u5BFC\u5165\u65B9\u5F0F\u7684\u6A21\u5757\u4F1A\u88AB\u8BA4\u4E3A\u65E0\u6CD5\u88AB\u9759\u6001\u5206\u6790\uFF0C\u56E0\u800C\u4F1A\u88AB\u6392\u9664\u6389\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u76F8\u53CD\uFF0CES6 \u6A21\u5757\u5316\u8BED\u6CD5\u91C7\u7528\u7684\u662F\u9759\u6001\u5BFC\u5165\u7684\u65B9\u5F0F\uFF0C\u4F8B\u5982 ",(0,l.jsx)(n.code,{children:"import foo from './foo.js'"}),"\uFF0C\u53EF\u4EE5\u5728\u7F16\u8BD1\u65F6\u5206\u6790\u51FA\u6240\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u56E0\u6B64\u652F\u6301 Tree Shaking\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56E0\u6B64\uFF0C\u5982\u679C\u8981\u4F7F\u7528 Tree Shaking\uFF0C\u5EFA\u8BAE\u91C7\u7528 ES6 \u6A21\u5757\u5316\u8BED\u6CD5\u3002\u5982\u679C\u5FC5\u987B\u4F7F\u7528 CommonJS \u6A21\u5757\u5316\u89C4\u8303\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u4F7F\u7528\u52A8\u6001\u5BFC\u5165",(0,l.jsx)(n.code,{children:"\uFF08import()\uFF09"}),"\u8BED\u6CD5\uFF0C\u6216\u8005\u91C7\u7528\u5176\u4ED6\u5DE5\u5177\u6216\u624B\u52A8\u5B9E\u73B0 Tree Shaking\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"side effect \u662F\u4EC0\u4E48\uFF0C\u4E3A\u4F55\u4F1A\u5BFC\u81F4\u65E0\u6CD5 tree shaking"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u7F16\u5199 JavaScript \u4EE3\u7801\u65F6\uFF0C\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u9664\u4E86\u8FD4\u56DE\u503C\u5916\uFF0C\u8FD8\u5BF9\u5916\u90E8\u7684\u53D8\u91CF\u4EA7\u751F\u4E86\u5176\u4ED6\u7684\u5F71\u54CD\uFF0C\u6BD4\u5982\u4FEE\u6539\u4E86\u5168\u5C40\u53D8\u91CF\u3001\u8BFB\u5199\u4E86\u6587\u4EF6\u7B49\u64CD\u4F5C\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u51FD\u6570\u5C31\u88AB\u79F0\u4E3A\u6709\u201C\u526F\u4F5C\u7528\u201D\uFF08side effect\uFF09\u3002\u56E0\u4E3A\u8FD9\u79CD\u51FD\u6570\u5E76\u4E0D\u662F\u7EAF\u51FD\u6570\uFF0C\u5B83\u53EF\u80FD\u4F1A\u5F71\u54CD\u5176\u4ED6\u90E8\u5206\u7684\u4EE3\u7801\u6267\u884C\u7ED3\u679C\uFF0C\u4E0D\u4FBF\u4E8E\u4F18\u5316\u548C\u8C03\u8BD5\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 Tree Shaking \u7684\u8FC7\u7A0B\u4E2D\uFF0Cwebpack \u5C06\u6A21\u5757\u6253\u5305\u6210\u5355\u72EC\u7684 JavaScript \u6587\u4EF6\uFF0C\u5B83\u4F1A\u4ECE\u6A21\u5757\u4E2D\u627E\u51FA\u54EA\u4E9B\u4EE3\u7801\u6CA1\u6709\u88AB\u4F7F\u7528\u5230\uFF0C\u5E76\u5220\u9664\u8FD9\u4E9B\u4EE3\u7801\u3002\u4F46\u662F\uFF0C\u5982\u679C\u6A21\u5757\u4E2D\u5B58\u5728\u5E26\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\uFF0C\u8FD9\u4E9B\u4EE3\u7801\u867D\u7136\u6CA1\u6709\u88AB\u4F7F\u7528\u5230\uFF0C\u4F46\u5B83\u4EEC\u4ECD\u7136\u4F1A\u88AB\u4FDD\u7559\u4E0B\u6765\uFF0C\u56E0\u4E3A\u8FD9\u4E9B\u4EE3\u7801\u53EF\u80FD\u4F1A\u5BF9\u5176\u4ED6\u90E8\u5206\u7684\u4EE3\u7801\u4EA7\u751F\u5F71\u54CD\uFF0C\u56E0\u6B64\u4E0D\u80FD\u7B80\u5355\u5730\u5220\u9664\u3002\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u5E26\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\u4F1A\u5BFC\u81F4\u65E0\u6CD5 Tree Shaking \u7684\u539F\u56E0\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-babel",children:"babel \u7684\u7406\u89E3\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Babel \u662F\u4E00\u4E2A\u975E\u5E38\u6D41\u884C\u7684 JavaScript \u7F16\u8BD1\u5668\uFF0C\u7528\u4E8E\u5C06\u6700\u65B0\u7248\u672C\u7684 ECMAScript \u4EE3\u7801\u8F6C\u6362\u4E3A\u5411\u540E\u517C\u5BB9\u7684 JavaScript \u4EE3\u7801\uFF0C\u4EE5\u4FBF\u5728\u65E7\u7248\u6D4F\u89C8\u5668\u6216\u73AF\u5883\u4E2D\u8FD0\u884C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u5BF9 Babel \u7684\u7406\u89E3\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8BED\u6CD5\u8F6C\u6362\uFF1ABabel \u53EF\u4EE5\u5C06\u4F7F\u7528\u4E86\u6700\u65B0 ECMAScript \u6807\u51C6\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u88AB\u5E7F\u6CDB\u652F\u6301\u7684\u65E7\u7248 JavaScript \u4EE3\u7801\u3002\u4F8B\u5982\uFF0C\u5C06\u4F7F\u7528\u4E86\u7BAD\u5934\u51FD\u6570\u3001\u89E3\u6784\u8D4B\u503C\u7B49\u8BED\u6CD5\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u4F7F\u7528 function \u5173\u952E\u5B57\u548C\u4F20\u7EDF\u8D4B\u503C\u7684\u7B49\u6548\u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Polyfill\uFF1ABabel \u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0 Polyfill \u6765\u652F\u6301\u65B0\u7684\u5168\u5C40\u51FD\u6570\u3001\u65B9\u6CD5\u548C\u5BF9\u8C61\uFF0C\u4EE5\u786E\u4FDD\u4EE3\u7801\u5728\u65E7\u7248\u672C\u7684\u6D4F\u89C8\u5668\u4E2D\u6B63\u5E38\u8FD0\u884C\u3002\u901A\u8FC7\u4F7F\u7528 Polyfill\uFF0CBabel \u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u6A21\u62DF\u7F3A\u5931\u7684\u7279\u6027\uFF0C\u4F7F\u65E7\u7248\u6D4F\u89C8\u5668\u80FD\u591F\u8FD0\u884C\u4F7F\u7528\u4E86\u8FD9\u4E9B\u7279\u6027\u7684\u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u4EF6\u7CFB\u7EDF\uFF1ABabel \u7684\u6838\u5FC3\u529F\u80FD\u53EF\u4EE5\u901A\u8FC7\u63D2\u4EF6\u8FDB\u884C\u6269\u5C55\u548C\u5B9A\u5236\u3002Babel \u63D0\u4F9B\u4E86\u4F17\u591A\u7684\u63D2\u4EF6\uFF0C\u7528\u4E8E\u5B9E\u73B0\u4E0D\u540C\u7684\u8F6C\u6362\u548C\u529F\u80FD\u3002\u5F00\u53D1\u8005\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u9700\u6C42\u9009\u62E9\u548C\u914D\u7F6E\u76F8\u5E94\u7684\u63D2\u4EF6\uFF0C\u4EE5\u4FBF\u5C06\u4EE3\u7801\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u76EE\u6807\u73AF\u5883\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'\u9884\u8BBE\uFF08Presets\uFF09\uFF1ABabel \u63D0\u4F9B\u4E86\u9884\u8BBE\u7684\u6982\u5FF5\uFF0C\u53EF\u4EE5\u4E00\u6B21\u6027\u5730\u914D\u7F6E\u4E00\u7EC4\u63D2\u4EF6\uFF0C\u4EE5\u5B9E\u73B0\u7279\u5B9A\u7684\u8F6C\u6362\u76EE\u6807\u3002\u9884\u8BBE\u662F\u4E00\u7EC4\u63D2\u4EF6\u7684\u96C6\u5408\uFF0C\u53EF\u4EE5\u6839\u636E\u5E94\u7528\u7A0B\u5E8F\u7684\u9700\u8981\u8FDB\u884C\u9009\u62E9\u548C\u914D\u7F6E\u3002\u5E38\u89C1\u7684\u9884\u8BBE\u5305\u62EC "@babel/preset-env"\uFF08\u6839\u636E\u76EE\u6807\u73AF\u5883\u81EA\u52A8\u9009\u62E9\u8F6C\u6362\u89C4\u5219\uFF09\u548C "@babel/preset-react"\uFF08\u7528\u4E8E\u5904\u7406 React \u76F8\u5173\u7684\u4EE3\u7801\uFF09\u3002'}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4E0E\u6784\u5EFA\u5DE5\u5177\u7684\u96C6\u6210\uFF1ABabel \u53EF\u4EE5\u4E0E\u6784\u5EFA\u5DE5\u5177\uFF08\u5982 webpack\u3001Rollup \u7B49\uFF09\u65E0\u7F1D\u96C6\u6210\uFF0C\u4F5C\u4E3A\u5176\u8F6C\u6362\u4EE3\u7801\u7684\u4E00\u90E8\u5206\u3002\u901A\u8FC7\u914D\u7F6E\u6784\u5EFA\u5DE5\u5177\uFF0C\u53EF\u4EE5\u8BA9 Babel \u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u81EA\u52A8\u5904\u7406\u6E90\u4EE3\u7801\uFF0C\u5C06\u5176\u8F6C\u6362\u4E3A\u76EE\u6807\u4EE3\u7801\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u4E4B\uFF0CBabel \u662F\u4E00\u4E2A\u529F\u80FD\u5F3A\u5927\u7684 JavaScript \u7F16\u8BD1\u5668\uFF0C\u53EF\u4EE5\u5C06\u4F7F\u7528\u6700\u65B0 ECMAScript \u6807\u51C6\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u5411\u540E\u517C\u5BB9\u7684 JavaScript \u4EE3\u7801\uFF0C\u4ECE\u800C\u5728\u65E7\u7248\u6D4F\u89C8\u5668\u6216\u73AF\u5883\u4E2D\u8FD0\u884C\u3002\u901A\u8FC7\u63D2\u4EF6\u548C\u9884\u8BBE\u7684\u914D\u7F6E\uFF0CBabel \u63D0\u4F9B\u4E86\u9AD8\u5EA6\u7684\u7075\u6D3B\u6027\uFF0C\u4F7F\u5F00\u53D1\u8005\u80FD\u591F\u6839\u636E\u9879\u76EE\u9700\u6C42\u5B9A\u5236\u8F6C\u6362\u89C4\u5219\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u8FFD\u95EE\uFF1A\u4E3A\u4F55\u8981\u4F7F\u7528 babel"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 Babel \u7684\u4E3B\u8981\u539F\u56E0\u662F\u4E3A\u4E86\u89E3\u51B3 JavaScript \u4EE3\u7801\u7684\u517C\u5BB9\u6027\u95EE\u9898\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u4F7F\u7528 Babel \u7684\u4E3B\u8981\u7406\u7531\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u517C\u5BB9\u65E7\u7248\u6D4F\u89C8\u5668\uFF1A\u4E0D\u540C\u7684\u6D4F\u89C8\u5668\u5BF9 JavaScript \u7684\u652F\u6301\u7A0B\u5EA6\u4E0D\u540C\uFF0C\u7279\u522B\u662F\u65E7\u7248\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u652F\u6301\u6700\u65B0\u7684 ECMAScript \u6807\u51C6\u3002\u901A\u8FC7\u4F7F\u7528 Babel\uFF0C\u53EF\u4EE5\u5C06\u4F7F\u7528\u4E86\u6700\u65B0\u8BED\u6CD5\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u7B49\u6548\u7684\u65E7\u7248 JavaScript \u8BED\u6CD5\uFF0C\u4F7F\u4EE3\u7801\u80FD\u591F\u5728\u65E7\u7248\u6D4F\u89C8\u5668\u4E2D\u6B63\u5E38\u8FD0\u884C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u652F\u6301\u65B0\u7279\u6027\uFF1AJavaScript \u4E0D\u65AD\u6F14\u8FDB\uFF0C\u6BCF\u5E74\u90FD\u4F1A\u53D1\u5E03\u65B0\u7684 ECMAScript \u6807\u51C6\uFF0C\u5F15\u5165\u4E86\u5F88\u591A\u6709\u7528\u7684\u7279\u6027\u548C\u8BED\u6CD5\u7CD6\u3002\u4F7F\u7528 Babel \u53EF\u4EE5\u63D0\u524D\u4F7F\u7528\u8FD9\u4E9B\u65B0\u7279\u6027\uFF0C\u800C\u4E0D\u7528\u7B49\u5F85\u6D4F\u89C8\u5668\u7684\u652F\u6301\u3002Babel \u53EF\u4EE5\u5C06\u8FD9\u4E9B\u65B0\u7279\u6027\u8F6C\u6362\u4E3A\u65E7\u7248 JavaScript \u8BED\u6CD5\uFF0C\u4EE5\u4FBF\u5728\u5F53\u524D\u7684\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\u4F7F\u7528\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6A21\u5757\u5316\u652F\u6301\uFF1ABabel \u53EF\u4EE5\u8F6C\u6362\u6A21\u5757\u5316\u5BFC\u5165\u548C\u5BFC\u51FA\u7684\u8BED\u6CD5\uFF0C\u4F7F\u5F97\u5F00\u53D1\u8005\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528\u6A21\u5757\u5316\u7684\u65B9\u5F0F\u7EC4\u7EC7\u548C\u7BA1\u7406\u4EE3\u7801\u3002\u8FD9\u6837\u53EF\u4EE5\u63D0\u9AD8\u4EE3\u7801\u7684\u53EF\u7EF4\u62A4\u6027\u548C\u91CD\u7528\u6027\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Babel \u662F\u4E00\u4E2A JavaScript \u7F16\u8BD1\u5668\uFF0C\u4E3B\u8981\u7528\u4E8E\u5C06 ES6 \u53CA\u4EE5\u4E0A\u7248\u672C\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u5411\u540E\u517C\u5BB9\u7684 JavaScript \u8BED\u6CD5\uFF0C\u4EE5\u4FBF\u5728\u5F53\u524D\u548C\u65E7\u7248\u6D4F\u89C8\u5668\u6216\u73AF\u5883\u4E2D\u6267\u884C\u3002\u6838\u5FC3\u7684 Babel \u5E93\u4E3B\u8981\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"@babel/core"}),":\n\u8FD9\u662F Babel \u7F16\u8BD1\u5668\u7684\u6838\u5FC3\u5305\uFF0C\u63D0\u4F9B\u4E86 Babel \u7684\u4E3B\u8981\u8F6C\u6362\u5F15\u64CE\u3002\u5B83\u5305\u542B\u4E86\u89E3\u6790\u3001\u8F6C\u6362\u548C\u751F\u6210\u4EE3\u7801\u7684\u4E3B\u8981\u529F\u80FD\u3002\u51E0\u4E4E\u6240\u6709\u7684 Babel \u64CD\u4F5C\u90FD\u9700\u8981\u8FD9\u4E2A\u6A21\u5757\u4F5C\u4E3A\u57FA\u7840\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"@babel/cli"}),":\n\u8FD9\u662F Babel \u7684\u547D\u4EE4\u884C\u63A5\u53E3\uFF0C\u901A\u8FC7\u5B83\u53EF\u4EE5\u5728\u7EC8\u7AEF\u6216\u547D\u4EE4\u63D0\u793A\u7B26\u4E2D\u8FD0\u884C Babel\u3002\u5B83\u5141\u8BB8\u4F60\u6267\u884C\u8F6C\u7F16\u8BD1\u64CD\u4F5C\uFF0C\u5982\u5C06 ES6 \u4EE3\u7801\u8F6C\u6362\u4E3A ES5\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"@babel/preset-env"}),":\n\u8FD9\u662F\u4E00\u4E2A\u667A\u80FD\u9884\u8BBE\uFF0C\u5141\u8BB8\u4F60\u4F7F\u7528\u6700\u65B0\u7684 JavaScript\uFF0C\u800C\u4E0D\u5FC5\u7BA1\u7406\u8BED\u6CD5\u8F6C\u6362\u3002",(0,l.jsx)(n.code,{children:"@babel/preset-env"}),"\u4F1A\u6839\u636E\u4F60\u7684\u76EE\u6807\u73AF\u5883\uFF08\u6BD4\u5982\u7279\u5B9A\u7248\u672C\u7684\u6D4F\u89C8\u5668\u6216 Node.js\uFF09\uFF0C\u81EA\u52A8\u51B3\u5B9A\u4F7F\u7528\u54EA\u4E9B Babel \u63D2\u4EF6\u548C polyfills\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"@babel/polyfill"})," (\u73B0\u5728\u5DF2\u7ECF\u88AB\u5E9F\u5F03\uFF0C\u63A8\u8350\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"core-js"})," \u548C ",(0,l.jsx)(n.code,{children:"regenerator-runtime"}),"):\n\u65E9\u671F Babel \u7248\u672C\u4E2D\u7528\u4E8E\u6A21\u62DF\u5B8C\u6574\u7684 ES2015+\u73AF\u5883\u7684\u5305\u3002\u5B83\u7684\u76EE\u7684\u662F\u5728\u5168\u5C40\u8303\u56F4\u5185\u6DFB\u52A0\u586B\u5145\u4EE5\u6A21\u62DF\u8F83\u65B0\u7684\u73AF\u5883\u3002\u4ECE Babel 7.4.0 \u5F00\u59CB\uFF0C\u5EFA\u8BAE\u76F4\u63A5\u5305\u62EC ",(0,l.jsx)(n.code,{children:"core-js"})," \u548C ",(0,l.jsx)(n.code,{children:"regenerator-runtime"}),"\uFF0C\u56E0\u4E3A\u8FD9\u63D0\u4F9B\u4E86\u66F4\u597D\u7684\u6A21\u5757\u5316\u548C\u6309\u9700\u52A0\u8F7D\u529F\u80FD\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"babel-loader"}),":\n\u8FD9\u662F Babel \u7684\u4E00\u4E2A webpack \u63D2\u4EF6\uFF0C\u53EF\u4EE5\u5C06 Babel \u96C6\u6210\u5230 webpack \u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C\u4F7F\u5F97\u4F60\u53EF\u4EE5\u4F7F\u7528 webpack \u6765\u5904\u7406\u548C\u6253\u5305\u4F7F\u7528\u4E86\u65B0\u7248 JavaScript \u8BED\u6CD5\u7684\u6587\u4EF6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"@babel/plugin-transform-runtime"}),":\n\u8FD9\u4E2A\u63D2\u4EF6\u7528\u4E8E\u590D\u7528 Babel \u6CE8\u5165\u7684\u8F85\u52A9\u4EE3\u7801\uFF0C\u4EE5\u8282\u7701\u4EE3\u7801\u5927\u5C0F\uFF0C\u5E76\u80FD\u591F\u5728\u4E0D\u6C61\u67D3\u5168\u5C40\u73AF\u5883\u7684\u60C5\u51B5\u4E0B\u4F7F\u7528\u65B0\u8BED\u8A00\u7279\u6027\u7684 polyfills\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9664\u4E86\u8FD9\u4E9B\u6838\u5FC3\u5E93\u5916\uFF0C\u8FD8\u6709\u8BB8\u591A\u53EF\u7528\u7684 Babel \u63D2\u4EF6\uFF0C\u4EE5\u652F\u6301\u5404\u79CD JavaScript \u8BED\u6CD5\u548C\u7279\u6027\uFF08\u6BD4\u5982\u88C5\u9970\u5668\u3001\u7C7B\u5C5E\u6027\u7B49\uFF09\u3002\u8FD9\u4E9B\u63D2\u4EF6\u53EF\u4EE5\u6309\u9700\u5F15\u5165\uFF0C\u914D\u7F6E\u5728 Babel \u7684\u914D\u7F6E\u6587\u4EF6\uFF08\u901A\u5E38\u662F",(0,l.jsx)(n.code,{children:".babelrc"}),"\u6216",(0,l.jsx)(n.code,{children:"babel.config.js"}),"\uFF09\u4E2D\u3002\u8FD9\u4E9B\u63D2\u4EF6\u7684\u547D\u540D\u901A\u5E38\u9075\u5FAA ",(0,l.jsx)(n.code,{children:"@babel/plugin-"})," \u7684\u683C\u5F0F\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"babel-runtime"})," \u662F\u4E00\u4E2A\u5305\u542B ",(0,l.jsx)(n.code,{children:"babel"})," \u6A21\u5757\u5316\u8FD0\u884C\u65F6\u52A9\u624B\u7684\u5E93\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel"})," \u8FDB\u884C\u4EE3\u7801\u8F6C\u6362\u65F6\uFF0C\u6709\u65F6\u4F1A\u6CE8\u5165\u4E00\u4E9B\u5728\u591A\u4E2A\u6587\u4EF6\u4E2D\u76F8\u540C\u4E14\u53EF\u80FD\u88AB\u91CD\u590D\u4F7F\u7528\u7684\u4EE3\u7801\u3002\u4F8B\u5982\uFF0C\u4F7F\u7528\u7C7B\u8F6C\u6362\uFF08\u65E0\u677E\u6563\u6A21\u5F0F\uFF09\u65F6\uFF0C\u6BCF\u4E2A\u5305\u542B\u7C7B\u7684\u6587\u4EF6\u90FD\u4F1A\u91CD\u590D\u51FA\u73B0\u7C7B\u4F3C ",(0,l.jsx)(n.code,{children:"_classcallcheck"})," \u8FD9\u6837\u7684\u51FD\u6570\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"babel-runtime"})," \u7684\u4E3B\u8981\u4F5C\u7528\u5C31\u662F\u5C06\u8FD9\u4E9B\u53EF\u80FD\u88AB\u91CD\u7528\u7684\u4EE3\u7801\u62BD\u53D6\u6210\u5355\u72EC\u7684\u6A21\u5757\uFF0C\u4EE5\u907F\u514D\u5728\u6BCF\u4E2A\u6587\u4EF6\u4E2D\u91CD\u590D\u51FA\u73B0\u76F8\u540C\u7684\u4EE3\u7801\u3002\u5B83\u901A\u8FC7\u6A21\u5757\u5BFC\u5165\u7684\u65B9\u5F0F\u5F15\u5165\u8FD9\u4E9B\u529F\u80FD\uFF0C\u4ECE\u800C\u907F\u514D\u4E86\u5BF9\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u4FEE\u6539\u6216\u6C61\u67D3\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5177\u4F53\u6765\u8BF4\uFF0C",(0,l.jsx)(n.code,{children:"babel-runtime"})," \u5305\u542B\u4E86\u8BF8\u5982 ",(0,l.jsx)(n.code,{children:"core-js"}),"\uFF08\u63D0\u4F9B JavaScript \u5185\u7F6E\u5E93\u7684\u57AB\u7247\uFF0C\u5982 ",(0,l.jsx)(n.code,{children:"array"}),"\u3001",(0,l.jsx)(n.code,{children:"json"}),"\u3001",(0,l.jsx)(n.code,{children:"math"}),"\u3001",(0,l.jsx)(n.code,{children:"promise"}),"\u3001",(0,l.jsx)(n.code,{children:"symbol"})," \u7B49\uFF09\u3001",(0,l.jsx)(n.code,{children:"regenerator-runtime"}),"\uFF08\u5B9E\u73B0\u4E86 ",(0,l.jsx)(n.code,{children:"generator/yield"}),"\u3001",(0,l.jsx)(n.code,{children:"async/await"}),"\uFF09\u4EE5\u53CA\u4E00\u4E9B\u8BED\u6CD5\u8F6C\u6362\u7684\u8F85\u52A9\u51FD\u6570\uFF08\u5982 ",(0,l.jsx)(n.code,{children:"es5"})," \u4E0E ",(0,l.jsx)(n.code,{children:"es6"})," \u7684\u7EE7\u627F\u8F6C\u6362\u7B49\uFF09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel-runtime"})," \u901A\u5E38\u9700\u8981\u914D\u5408 ",(0,l.jsx)(n.code,{children:"babel-plugin-transform-runtime"})," \u63D2\u4EF6\u4E00\u8D77\u4F7F\u7528\u3002",(0,l.jsx)(n.code,{children:"babel-plugin-transform-runtime"})," \u63D2\u4EF6\u4F1A\u8FDB\u884C\u4E00\u4E9B\u5904\u7406\uFF0C\u4F8B\u5982\u81EA\u52A8\u5BFC\u5165 ",(0,l.jsx)(n.code,{children:"babel-runtime/core-js"}),"\uFF0C\u5E76\u5C06\u5168\u5C40\u9759\u6001\u65B9\u6CD5\u3001\u5168\u5C40\u5185\u7F6E\u5BF9\u8C61\u6620\u5C04\u5230\u5BF9\u5E94\u7684\u6A21\u5757\uFF1B\u5C06\u5185\u8054\u7684\u5DE5\u5177\u51FD\u6570\u79FB\u9664\uFF0C\u6539\u6210\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"babel-runtime/helpers"})," \u6A21\u5757\u8FDB\u884C\u5BFC\u5165\uFF1B\u5982\u679C\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"async/generator"})," \u51FD\u6570\uFF0C\u5219\u81EA\u52A8\u5BFC\u5165 ",(0,l.jsx)(n.code,{children:"babel-runtime/regenerator"})," \u6A21\u5757\u7B49\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\uFF0C\u5728\u4EE3\u7801\u4E2D\u5982\u679C\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u7684\u529F\u80FD\uFF0C\u53EA\u9700\u4ECE ",(0,l.jsx)(n.code,{children:"babel-runtime"})," \u76F8\u5E94\u7684\u6A21\u5757\u4E2D\u5BFC\u5165\u5373\u53EF\uFF0C\u800C\u4E0D\u662F\u76F4\u63A5\u4F7F\u7528\u5168\u5C40\u7684\u5BF9\u8C61\u6216\u51FD\u6570\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u5982\u679C\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86 ",(0,l.jsx)(n.code,{children:"promise"}),"\uFF0C\u53EF\u4EE5\u8FD9\u6837\u5BFC\u5165\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import promise from 'babel-runtime/core-js/promise'\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u603B\u7684\u6765\u8BF4\uFF0C",(0,l.jsx)(n.code,{children:"babel-runtime"})," \u66F4\u50CF\u662F\u4E00\u79CD\u6309\u9700\u52A0\u8F7D\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u9002\u7528\u4E8E\u5F00\u53D1\u5E93\u3001\u5DE5\u5177\u7B49\u573A\u666F\uFF0C\u53EF\u907F\u514D\u5BF9\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6C61\u67D3\uFF0C\u540C\u65F6\u51CF\u5C11\u91CD\u590D\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"babel-loader",children:"babel-loader \u6765\u7F16\u8BD1 tsx \u6587\u4EF6\uFF0C \u5E94\u8BE5\u5982\u4F55\u914D\u7F6E\u5462\uFF1F"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u60F3\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel-loader"})," \u6765\u7F16\u8BD1 TypeScript \u6587\u4EF6\uFF08",(0,l.jsx)(n.code,{children:".tsx"}),"\uFF09\uFF0C\u4F60\u9700\u8981\u5728 ",(0,l.jsx)(n.code,{children:"babel.config.js"})," \u548C ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u4E24\u4E2A\u6587\u4EF6\u4E2D\u8FDB\u884C\u76F8\u5E94\u7684\u914D\u7F6E\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u5728 ",(0,l.jsx)(n.code,{children:"babel.config.js"})," \u6587\u4EF6\u4E2D\uFF0C\u4F60\u9700\u8981\u6DFB\u52A0 ",(0,l.jsx)(n.code,{children:"@babel/preset-typescript"})," \u9884\u8BBE\uFF0C\u4EE5\u4FBF\u517C\u5BB9 TypeScript\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  presets: ['@babel/preset-env', '@babel/preset-react', '@babel/preset-typescript']\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u63A5\u4E0B\u6765\uFF0C\u5728 ",(0,l.jsx)(n.code,{children:"webpack.config.js"})," \u6587\u4EF6\u4E2D\uFF0C\u4F60\u9700\u8981\u5BF9 ",(0,l.jsx)(n.code,{children:".tsx"})," \u6587\u4EF6\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel-loader"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E\u9879\n  module: {\n    rules: [\n      // ...\u5176\u4ED6\u89C4\u5219\n      {\n        test: /\\.(ts|tsx)$/,\n        exclude: /node_modules/,\n        use: 'babel-loader'\n      }\n    ]\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\uFF0C\u5F53 webpack \u6267\u884C\u6784\u5EFA\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"babel-loader"})," \u5C06\u4F1A\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.config.js"})," \u4E2D\u914D\u7F6E\u7684\u9884\u8BBE\u6765\u7F16\u8BD1 ",(0,l.jsx)(n.code,{children:".tsx"})," \u6587\u4EF6\u3002\u540C\u65F6\uFF0C\u9664\u4E86 TypeScript \u6587\u4EF6\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F7F\u7528\u8BE5\u914D\u7F6E\u6765\u7F16\u8BD1 JavaScript \u6587\u4EF6\uFF08",(0,l.jsx)(n.code,{children:".js"}),"\uFF09\u548C React JSX \u6587\u4EF6\uFF08",(0,l.jsx)(n.code,{children:".jsx"}),"\uFF09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8FFD\u95EE"}),"\n",(0,l.jsx)(n.code,{children:"'@babel/preset-env', '@babel/preset-typescript', '@babel/preset-react'"})," \u8FD9\u4E09\u4E2A\u63D2\u4EF6\u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF1F"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"@babel/preset-env"}),"\uFF1A\u5B83\u662F Babel \u7684\u4E00\u4E2A\u9884\u8BBE\uFF0C\u7528\u4E8E\u6839\u636E\u76EE\u6807\u73AF\u5883\uFF08\u6D4F\u89C8\u5668\u3001Node.js \u7B49\uFF09\u81EA\u52A8\u786E\u5B9A\u9700\u8981\u8F6C\u8BD1\u7684 JavaScript \u7279\u6027\uFF0C\u5E76\u5C06\u5176\u8F6C\u6362\u4E3A\u76EE\u6807\u73AF\u5883\u6240\u652F\u6301\u7684\u4EE3\u7801\u3002\u5B83\u5C06\u6839\u636E\u4F60\u914D\u7F6E\u7684\u76EE\u6807\u73AF\u5883\u548C\u6D4F\u89C8\u5668\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u667A\u80FD\u5730\u9009\u62E9\u9700\u8981\u8F6C\u8BD1\u7684\u7279\u6027\uFF0C\u4EE5\u51CF\u5C0F\u8F6C\u8BD1\u540E\u7684\u4EE3\u7801\u4F53\u79EF\u3002\u5B83\u4E5F\u5305\u542B\u4E86\u4E00\u4E9B\u63D2\u4EF6\uFF0C\u4F8B\u5982\u8F6C\u6362\u7BAD\u5934\u51FD\u6570\u3001\u89E3\u6784\u8D4B\u503C\u3001\u6A21\u677F\u5B57\u7B26\u4E32\u7B49\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"@babel/preset-typescript"}),"\uFF1A\u5B83\u662F Babel \u7684\u4E00\u4E2A\u9884\u8BBE\uFF0C\u7528\u4E8E\u5C06 TypeScript \u4EE3\u7801\u8F6C\u8BD1\u4E3A JavaScript \u4EE3\u7801\uFF0C\u4EE5\u4FBF\u5728\u4E0D\u652F\u6301 TypeScript \u7684\u73AF\u5883\u4E2D\u8FD0\u884C\u3002\u5B83\u5305\u542B\u4E86\u4E00\u4E9B\u63D2\u4EF6\uFF0C\u4F8B\u5982\u8F6C\u6362 TypeScript \u7684\u7C7B\u578B\u6CE8\u89E3\u3001\u7C7B\u6210\u5458\u4FEE\u9970\u7B26\u3001\u6CDB\u578B\u7C7B\u578B\u7B49\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"@babel/preset-react"}),"\uFF1A\u5B83\u662F Babel \u7684\u4E00\u4E2A\u9884\u8BBE\uFF0C\u7528\u4E8E\u5C06 React \u7684 JSX \u8BED\u6CD5\u8F6C\u8BD1\u4E3A\u666E\u901A\u7684 JavaScript \u4EE3\u7801\uFF0C\u4EE5\u4FBF\u5728\u4E0D\u652F\u6301 JSX \u7684\u73AF\u5883\u4E2D\u8FD0\u884C\u3002\u5B83\u4E5F\u5305\u542B\u4E86\u4E00\u4E9B\u63D2\u4EF6\uFF0C\u4F8B\u5982\u8F6C\u6362 JSX \u8BED\u6CD5\u3001\u5904\u7406 React \u7684\u5185\u7F6E\u7EC4\u4EF6\u7B49\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"p1-vue-cli",children:"vue-cli \u90FD\u505A\u4E86\u54EA\u4E9B\u4E8B\u513F\uFF0C\u6709\u54EA\u4E9B\u529F\u80FD\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Vue CLI \u662F\u4E00\u4E2A\u57FA\u4E8E Vue.js \u7684\u547D\u4EE4\u884C\u5DE5\u5177\uFF0C\u7528\u4E8E\u5FEB\u901F\u642D\u5EFA\u3001\u5F00\u53D1\u548C\u6784\u5EFA Vue.js \u9879\u76EE\u3002\u5B83\u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u7684\u529F\u80FD\u6765\u7B80\u5316 Vue.js \u9879\u76EE\u7684\u5F00\u53D1\u548C\u90E8\u7F72\u6D41\u7A0B\uFF0C\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u9879\u76EE\u811A\u624B\u67B6\uFF1AVue CLI \u53EF\u4EE5\u901A\u8FC7\u7B80\u5355\u7684\u547D\u4EE4\u884C\u4EA4\u4E92\u65B9\u5F0F\u5FEB\u901F\u751F\u6210\u4E00\u4E2A\u65B0\u7684 Vue.js \u9879\u76EE\u7684\u57FA\u7840\u7ED3\u6784\uFF0C\u5305\u62EC\u76EE\u5F55\u7ED3\u6784\u3001\u914D\u7F6E\u6587\u4EF6\u3001\u793A\u4F8B\u4EE3\u7801\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F00\u53D1\u670D\u52A1\u5668\uFF1AVue CLI \u63D0\u4F9B\u4E86\u4E00\u4E2A\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u7528\u4E8E\u5728\u672C\u5730\u8FD0\u884C\u9879\u76EE\uFF0C\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5B9E\u65F6\u9884\u89C8\u548C\u8C03\u8BD5\u5E94\u7528\u7A0B\u5E8F\u3002\u5B83\u652F\u6301\u70ED\u6A21\u5757\u66FF\u6362\uFF08HMR\uFF09\uFF0C\u53EF\u4EE5\u5B9E\u65F6\u66F4\u65B0\u9875\u9762\u5185\u5BB9\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u96C6\u6210\u6784\u5EFA\u5DE5\u5177\uFF1AVue CLI \u96C6\u6210\u4E86 Webpack\uFF0C\u53EF\u4EE5\u81EA\u52A8\u914D\u7F6E\u548C\u7BA1\u7406\u9879\u76EE\u7684\u6784\u5EFA\u8FC7\u7A0B\u3002\u5B83\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u53EF\u4EE5\u8FDB\u884C\u5B9A\u5236\uFF0C\u4F8B\u5982\u8BBE\u7F6E\u6253\u5305\u8F93\u51FA\u8DEF\u5F84\u3001\u4F18\u5316\u4EE3\u7801\u3001\u538B\u7F29\u8D44\u6E90\u7B49\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u4EF6\u7CFB\u7EDF\uFF1AVue CLI \u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684\u63D2\u4EF6\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B89\u88C5\u63D2\u4EF6\u6765\u6269\u5C55\u9879\u76EE\u7684\u529F\u80FD\u3002\u8FD9\u4E9B\u63D2\u4EF6\u53EF\u4EE5\u5E2E\u52A9\u5904\u7406\u6837\u5F0F\u3001\u8DEF\u7531\u3001\u72B6\u6001\u7BA1\u7406\u3001\u56FD\u9645\u5316\u7B49\u65B9\u9762\u7684\u9700\u6C42\uFF0C\u63D0\u4F9B\u66F4\u591A\u7684\u5F00\u53D1\u5DE5\u5177\u548C\u529F\u80FD\u652F\u6301\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6D4B\u8BD5\u96C6\u6210\uFF1AVue CLI \u96C6\u6210\u4E86\u6D4B\u8BD5\u5DE5\u5177\uFF0C\u53EF\u4EE5\u5FEB\u901F\u914D\u7F6E\u548C\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5\u548C\u7AEF\u5230\u7AEF\u6D4B\u8BD5\u3002\u5B83\u652F\u6301\u591A\u79CD\u6D4B\u8BD5\u6846\u67B6\uFF0C\u5982 Jest\u3001Mocha\u3001Cypress \u7B49\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u5F00\u53D1\u4EBA\u5458\u7F16\u5199\u548C\u8FD0\u884C\u5404\u79CD\u7C7B\u578B\u7684\u6D4B\u8BD5\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u9879\u76EE\u90E8\u7F72\uFF1AVue CLI \u63D0\u4F9B\u4E86\u547D\u4EE4\u884C\u63A5\u53E3\uFF0C\u53EF\u4EE5\u65B9\u4FBF\u5730\u5C06\u9879\u76EE\u90E8\u7F72\u5230\u4E0D\u540C\u7684\u73AF\u5883\uFF0C\u5982\u5F00\u53D1\u73AF\u5883\u3001\u6D4B\u8BD5\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u3002\u5B83\u652F\u6301\u751F\u6210\u4F18\u5316\u8FC7\u7684\u9759\u6001\u6587\u4EF6\u3001\u81EA\u52A8\u538B\u7F29\u548C\u7F13\u5B58\u7B49\u529F\u80FD\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u63D0\u4F9B\u4E86\u4E00\u6574\u5957\u5F00\u53D1\u548C\u6784\u5EFA Vue.js \u9879\u76EE\u7684\u529F\u80FD\u548C\u5DE5\u5177\u94FE\uFF0C\u53EF\u4EE5\u5927\u5927\u7B80\u5316\u548C\u52A0\u901F Vue.js \u9879\u76EE\u7684\u5F00\u53D1\u8FC7\u7A0B\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-webpack-browser",children:"\u6D4F\u89C8\u5668\u672C\u8EAB\u662F\u4E0D\u652F\u6301\u6A21\u5757\u5316\u7684, webpack \u662F\u5982\u4F55\u901A\u8FC7\u6587\u4EF6\u6253\u5305\uFF0C\u8BA9\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BFB\u53D6\u5230\u524D\u7AEF\u5404\u4E2A\u6A21\u5757\u7684\u4EE3\u7801\u7684\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:'\u6D4F\u89C8\u5668\u672C\u8EAB\u4E0D\u652F\u6301\u6A21\u5757\u5316\u7684\u7279\u6027\uFF0C\u65E0\u6CD5\u76F4\u63A5\u8BFB\u53D6\u548C\u6267\u884C\u6A21\u5757\u5316\u7684\u4EE3\u7801\u3002Webpack\u901A\u8FC7\u4F7F\u7528\u4E00\u79CD\u79F0\u4E3A"\u6A21\u5757\u5316\u6253\u5305"\u7684\u65B9\u5F0F\uFF0C\u5C06\u6A21\u5757\u5316\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A\u6D4F\u89C8\u5668\u53EF\u4EE5\u6267\u884C\u7684\u5F62\u5F0F\u3002'}),"\n",(0,l.jsx)(n.p,{children:'Webpack\u4F7F\u7528\u4E86\u4E00\u4E2A\u79F0\u4E3A"\u6A21\u5757\u7CFB\u7EDF"\u7684\u673A\u5236\uFF0C\u901A\u8FC7\u5BF9\u6A21\u5757\u7684\u4F9D\u8D56\u5173\u7CFB\u8FDB\u884C\u5206\u6790\uFF0C\u5C06\u6240\u6709\u4F9D\u8D56\u7684\u6A21\u5757\u6253\u5305\u4E3A\u4E00\u4E2A\u6216\u591A\u4E2A\u5305\u542B\u6240\u6709\u4F9D\u8D56\u5173\u7CFB\u7684\u6587\u4EF6\u3002\u8FD9\u4E9B\u6253\u5305\u540E\u7684\u6587\u4EF6\u88AB\u79F0\u4E3A\u201C\u6253\u5305\u4EA7\u7269\u201D\u6216\u201Cbundle\u201D\u3002'}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\uFF0CWebpack\u4F1A\u6839\u636E\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u5165\u53E3\u70B9\uFF08entry point\uFF09\u6765\u786E\u5B9A\u5E94\u7528\u7A0B\u5E8F\u7684\u8D77\u59CB\u6A21\u5757\u3002\u7136\u540E\uFF0C\u5B83\u5C06\u4ECE\u8BE5\u6A21\u5757\u5F00\u59CB\u9012\u5F52\u5730\u89E3\u6790\u6240\u6709\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5305\u62EC\u5176\u4ED6\u6A21\u5757\u6216\u6587\u4EF6\u3002Webpack\u901A\u8FC7\u8BC6\u522B\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5C06\u5B83\u4EEC\u5408\u5E76\u5230\u4E00\u4E2A\u6216\u591A\u4E2A\u6253\u5305\u4EA7\u7269\u4E2D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u8FD8\u4F1A\u5BF9\u6253\u5305\u4EA7\u7269\u8FDB\u884C\u4E00\u7CFB\u5217\u7684\u4F18\u5316\uFF0C\u4F8B\u5982\u4EE3\u7801\u538B\u7F29\u3001\u62C6\u5206\u548C\u6309\u9700\u52A0\u8F7D\u7B49\uFF0C\u4EE5\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u548C\u52A0\u8F7D\u901F\u5EA6\u3002"}),"\n",(0,l.jsx)(n.p,{children:'\u5F53\u6D4F\u89C8\u5668\u52A0\u8F7D\u6253\u5305\u4EA7\u7269\u65F6\uFF0C\u5B83\u4F1A\u6267\u884C\u5176\u4E2D\u5305\u542B\u7684\u4EE3\u7801\uFF0C\u5E76\u901A\u8FC7\u6A21\u5757\u7CFB\u7EDF\u6765\u89E3\u51B3\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u3002Webpack\u4E3A\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E86\u4E00\u4E2A\u79F0\u4E3A"\u8FD0\u884C\u65F6"\u7684\u6587\u4EF6\uFF0C\u5B83\u662FWebpack\u6253\u5305\u4EA7\u7269\u7684\u4E00\u90E8\u5206\uFF0C\u8D1F\u8D23\u5904\u7406\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5E76\u63D0\u4F9B\u52A0\u8F7D\u548C\u6267\u884C\u6A21\u5757\u7684\u529F\u80FD\u3002'}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7Webpack\u7684\u6253\u5305\u8FC7\u7A0B\uFF0C\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BFB\u53D6\u548C\u89E3\u6790\u6253\u5305\u4EA7\u7269\u4E2D\u7684\u6A21\u5757\u5316\u4EE3\u7801\uFF0C\u5E76\u987A\u5229\u6267\u884C\u5E94\u7528\u7A0B\u5E8F\u7684\u903B\u8F91\u3002\u8FD9\u6837\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u5728\u7F16\u5199\u4EE3\u7801\u65F6\u4F7F\u7528\u6A21\u5757\u5316\u7684\u8BED\u6CD5\uFF0C\u800C\u65E0\u9700\u62C5\u5FC3\u6D4F\u89C8\u5668\u7684\u517C\u5BB9\u6027\u95EE\u9898\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-sideEffects",children:"sideEffects \u5C5E\u6027\u7684\u4F5C\u7528\u662F\u5565"}),"\n",(0,l.jsx)(n.p,{children:"sideEffects \u4F5C\u7528"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"sideEffects"}),"\u662F",(0,l.jsx)(n.code,{children:"package.json"}),"\u6587\u4EF6\u4E2D\u7684\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u5B83\u7528\u4E8E\u6307\u5B9A\u4E00\u4E2A\u6A21\u5757\u662F\u5426\u5177\u6709\u526F\u4F5C\u7528\u3002\u526F\u4F5C\u7528\u662F\u6307\u6A21\u5757\u5728\u52A0\u8F7D\u65F6\u4F1A\u6267\u884C\u4E00\u4E9B\u7279\u5B9A\u7684\u64CD\u4F5C\uFF0C\u800C\u4E0D\u4EC5\u4EC5\u662F\u5BFC\u51FA\u4E00\u4E2A\u51FD\u6570\u6216\u5BF9\u8C61\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u53EF\u4EE5\u6709\u4EE5\u4E0B\u51E0\u79CD\u53D6\u503C\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"true"}),"\uFF1A\u8868\u793A\u6A21\u5757\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u5373\u6A21\u5757\u52A0\u8F7D\u65F6\u4F1A\u6267\u884C\u4E00\u4E9B\u64CD\u4F5C\u3002\u8FD9\u662F\u9ED8\u8BA4\u503C\uFF0C\u5982\u679C\u6CA1\u6709\u5728",(0,l.jsx)(n.code,{children:"package.json"}),"\u4E2D\u660E\u786E\u6307\u5B9A",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\uFF0C\u5219\u5047\u8BBE\u4E3A",(0,l.jsx)(n.code,{children:"true"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"false"}),"\uFF1A\u8868\u793A\u6A21\u5757\u6CA1\u6709\u526F\u4F5C\u7528\uFF0C\u5373\u6A21\u5757\u52A0\u8F7D\u65F6\u4E0D\u4F1A\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\u3002\u8FD9\u610F\u5473\u7740\u8BE5\u6A21\u5757\u53EA\u5BFC\u51FA\u51FD\u6570\u3001\u5BF9\u8C61\u6216\u5176\u4ED6\u9759\u6001\u5185\u5BB9\uFF0C\u5E76\u4E14\u4E0D\u4F9D\u8D56\u4E8E\u5176\u4ED6\u6A21\u5757\u7684\u526F\u4F5C\u7528\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u6570\u7EC4\uFF1A\u53EF\u4EE5\u5C06\u6A21\u5757\u7684\u5177\u4F53\u6587\u4EF6\u8DEF\u5F84\u6216\u6587\u4EF6\u5339\u914D\u6A21\u5F0F\uFF08\u4F7F\u7528glob\u6A21\u5F0F\uFF09\u5217\u5728\u6570\u7EC4\u4E2D\uFF0C\u4EE5\u6307\u5B9A\u54EA\u4E9B\u6587\u4EF6\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u54EA\u4E9B\u6587\u4EF6\u6CA1\u6709\u526F\u4F5C\u7528\u3002\u4F8B\u5982\uFF0C",(0,l.jsx)(n.code,{children:'["./src/*.js", "!./src/utils/*.js"]'}),"\u8868\u793A",(0,l.jsx)(n.code,{children:"src"}),"\u76EE\u5F55\u4E0B\u7684\u6240\u6709",(0,l.jsx)(n.code,{children:".js"}),"\u6587\u4EF6\u90FD\u5177\u6709\u526F\u4F5C\u7528\uFF0C\u4F46\u662F",(0,l.jsx)(n.code,{children:"src/utils"}),"\u76EE\u5F55\u4E0B\u7684",(0,l.jsx)(n.code,{children:".js"}),"\u6587\u4EF6\u6CA1\u6709\u526F\u4F5C\u7528\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u53EF\u4EE5\u5E2E\u52A9\u6784\u5EFA\u5DE5\u5177\uFF08\u5982Webpack\uFF09\u8FDB\u884C\u4F18\u5316\u3002\u5982\u679C\u6A21\u5757\u6CA1\u6709\u526F\u4F5C\u7528\uFF0C\u6784\u5EFA\u5DE5\u5177\u53EF\u4EE5\u8FDB\u884C\u66F4\u597D\u7684\u6447\u6811\u4F18\u5316\uFF08tree shaking\uFF09\uFF0C\u5373\u53EA\u4FDD\u7559\u9879\u76EE\u6240\u9700\u7684\u4EE3\u7801\uFF0C\u800C\u5C06\u672A\u4F7F\u7528\u7684\u4EE3\u7801\u6D88\u9664\uFF0C\u4ECE\u800C\u51CF\u5C0F\u6700\u7EC8\u6253\u5305\u6587\u4EF6\u7684\u5927\u5C0F\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF1A\u5728\u4F7F\u7528",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u65F6\uFF0C\u9700\u8981\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u786E\u5B9E\u6CA1\u6709\u526F\u4F5C\u7528\uFF0C\u5426\u5219\u53EF\u80FD\u4F1A\u5BFC\u81F4\u610F\u5916\u7684\u884C\u4E3A\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"sideEffects \u662F\u5982\u4F55\u8F85\u52A9 webpack \u8FDB\u884C\u4F18\u5316\u7684\uFF1F"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u53EF\u4EE5\u5E2E\u52A9Webpack\u8FDB\u884C\u6447\u6811\u4F18\u5316\uFF08Tree Shaking\uFF09\uFF0C\u4ECE\u800C\u51CF\u5C0F\u6700\u7EC8\u6253\u5305\u6587\u4EF6\u7684\u5927\u5C0F\u3002\u6447\u6811\u4F18\u5316\u662F\u6307\u53EA\u4FDD\u7559\u9879\u76EE\u6240\u9700\u7684\u4EE3\u7801\uFF0C\u800C\u5C06\u672A\u4F7F\u7528\u7684\u4EE3\u7801\u6D88\u9664\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5F53Webpack\u6253\u5305\u65F6\uFF0C\u5B83\u4F1A\u901A\u8FC7\u9759\u6001\u5206\u6790\u6765\u786E\u5B9A\u54EA\u4E9B\u5BFC\u5165\u7684\u6A21\u5757\u5B9E\u9645\u4E0A\u88AB\u4F7F\u7528\u4E86\uFF0C\u7136\u540E\u53EA\u4FDD\u7559\u8FD9\u4E9B\u88AB\u4F7F\u7528\u7684\u4EE3\u7801\uFF0C\u5E76\u5C06\u672A\u4F7F\u7528\u7684\u4EE3\u7801\u4ECE\u6700\u7EC8\u7684\u6253\u5305\u6587\u4EF6\u4E2D\u5220\u9664\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0CWebpack\u4F1A\u68C0\u67E5\u6A21\u5757\u7684",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\u3002\u5982\u679C\u4E00\u4E2A\u6A21\u5757\u5177\u6709",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\uFF0C\u5E76\u4E14\u8BBE\u7F6E\u4E3A",(0,l.jsx)(n.code,{children:"false"}),"\uFF0CWebpack\u4F1A\u8BA4\u4E3A\u8BE5\u6A21\u5757\u6CA1\u6709\u526F\u4F5C\u7528\u3002Webpack\u4F1A\u5728\u6447\u6811\u4F18\u5316\u8FC7\u7A0B\u4E2D\u5C06\u672A\u4F7F\u7528\u7684\u5BFC\u51FA\u4ECE\u8BE5\u6A21\u5757\u4E2D\u5220\u9664\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u4F1A\u5F71\u54CD\u9879\u76EE\u7684\u529F\u80FD\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u800C\uFF0C\u5982\u679C\u4E00\u4E2A\u6A21\u5757\u5177\u6709",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\uFF0C\u5E76\u4E14\u8BBE\u7F6E\u4E3A",(0,l.jsx)(n.code,{children:"true"}),"\u6216\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0CWebpack\u4F1A\u8BA4\u4E3A\u8BE5\u6A21\u5757\u5177\u6709\u526F\u4F5C\u7528\u3002\u5728\u6447\u6811\u4F18\u5316\u8FC7\u7A0B\u4E2D\uFF0CWebpack\u4F1A\u4FDD\u7559\u8BE5\u6A21\u5757\u7684\u6240\u6709\u5BFC\u51FA\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u80FD\u786E\u5B9A\u54EA\u4E9B\u4EE3\u7801\u662F\u526F\u4F5C\u7528\u7684\u3002\u8FD9\u6837\u53EF\u4EE5\u786E\u4FDD\u9879\u76EE\u4E2D\u9700\u8981\u7684\u526F\u4F5C\u7528\u4EE3\u7801\u4E0D\u4F1A\u88AB\u8BEF\u5220\u9664\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56E0\u6B64\uFF0C\u901A\u8FC7\u6B63\u786E\u4F7F\u7528",(0,l.jsx)(n.code,{children:"sideEffects"}),"\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u5E2E\u52A9Webpack\u66F4\u597D\u5730\u4F18\u5316\u6253\u5305\u6587\u4EF6\uFF0C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u4EE3\u7801\uFF0C\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-require-load",children:"webpack \u5982\u4F55\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u7684\u6A21\u5757"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u4F55\u914D\u7F6E webpack \u6309\u9700\u52A0\u8F7D"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u914D\u7F6Ewebpack\u9879\u76EE\u6A21\u5757\u6309\u9700\u52A0\u8F7D\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528webpack\u7684\u4EE3\u7801\u5206\u5272\uFF08code splitting\uFF09\u529F\u80FD\u548C\u52A8\u6001\u5BFC\u5165\uFF08dynamic import\uFF09\u8BED\u6CD5\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u4E9B\u914D\u7F6E\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728webpack\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u8BBE\u7F6E",(0,l.jsx)(n.code,{children:"output"}),"\u9009\u9879\u4E2D\u7684",(0,l.jsx)(n.code,{children:"chunkFilename"}),"\u5C5E\u6027\uFF0C\u7528\u4E8E\u6307\u5B9A\u6309\u9700\u52A0\u8F7D\u6A21\u5757\u7684\u8F93\u51FA\u6587\u4EF6\u540D\u3002\u4F8B\u5982\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const config = {\n  output: {\n    filename: 'bundle.js',\n    chunkFilename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist')\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u5728\u5E94\u7528\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u52A0\u8F7D\u9700\u8981\u6309\u9700\u52A0\u8F7D\u7684\u6A21\u5757\u3002\u4F8B\u5982\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import(/* webpackChunkName: \"moduleName\" */ './module')\n  .then(module => {\n    // \u4F7F\u7528\u52A0\u8F7D\u7684\u6A21\u5757\n  })\n  .catch(error => {\n    // \u5904\u7406\u52A0\u8F7D\u9519\u8BEF\n    console.error(error)\n  })\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF1A\u5728\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:'/* webpackChunkName: "moduleName" */'}),"\u662F\u53EF\u9009\u7684\uFF0C\u7528\u4E8E\u6307\u5B9A\u751F\u6210\u7684\u8F93\u51FA\u6587\u4EF6\u7684\u540D\u79F0\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8FD0\u884Cwebpack\u6784\u5EFA\uFF0C\u5B83\u5C06\u6839\u636E\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u5C06\u6A21\u5757\u62C6\u5206\u4E3A\u5355\u72EC\u7684\u6587\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5F53\u9700\u8981\u6309\u9700\u52A0\u8F7D\u6A21\u5757\u65F6\uFF0Cwebpack\u5C06\u81EA\u52A8\u5F02\u6B65\u52A0\u8F7D\u5E76\u5C06\u6A21\u5757\u6DFB\u52A0\u5230\u9875\u9762\u4E2D\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"webpack \u914D\u7F6E\u6309\u9700\u52A0\u8F7D \u548C react lazy \u6709\u4EC0\u4E48\u5173\u7CFB"}),"\n",(0,l.jsxs)(n.p,{children:["Webpack\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u548CReact\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u662F\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u7684\u4E24\u4E2A\u4E0D\u540C\u65B9\u9762\uFF0C\u5B83\u4EEC\u53EF\u4EE5\u4E00\u8D77\u4F7F\u7528\u6765\u4F18\u5316React\u5E94\u7528\u7684\u6027\u80FD\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"Webpack\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u662F\u901A\u8FC7\u4EE3\u7801\u5206\u5272\uFF08code splitting\uFF09\u7684\u65B9\u5F0F\uFF0C\u5C06\u5E94\u7528\u7A0B\u5E8F\u7684\u4EE3\u7801\u5206\u5272\u6210\u591A\u4E2A\u5C0F\u5757\uFF0C\u5E76\u5728\u9700\u8981\u65F6\u6309\u9700\u52A0\u8F7D\u8FD9\u4E9B\u5757\u3002\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C0F\u521D\u59CB\u52A0\u8F7D\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u63D0\u9AD8\u9875\u9762\u52A0\u8F7D\u901F\u5EA6\u3002Webpack\u63D0\u4F9B\u4E86\u4E00\u4E9B\u914D\u7F6E\u9009\u9879\u548C\u52A8\u6001\u5BFC\u5165\u8BED\u6CD5\u6765\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u800CReact\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u662FReact 16.6\u7248\u672C\u5F15\u5165\u7684\u65B0\u7279\u6027\uFF0C\u7528\u4E8E\u5B9E\u73B0\u7EC4\u4EF6\u7684\u6309\u9700\u52A0\u8F7D\u3002\u901A\u8FC7\u4F7F\u7528",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\uFF0C\u4F60\u53EF\u4EE5\u5C06\u7EC4\u4EF6\u7684\u52A0\u8F7D\u5EF6\u8FDF\u5230\u5B83\u4EEC\u5B9E\u9645\u9700\u8981\u88AB\u6E32\u67D3\u5230\u9875\u9762\u4E0A\u7684\u65F6\u5019\u3002\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C0F\u521D\u59CB\u52A0\u8F7D\u7684\u7EC4\u4EF6\u6570\u91CF\uFF0C\u5E76\u4E14\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7ED3\u5408Webpack\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u548CReact\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\uFF0C\u5728React\u5E94\u7528\u4E2D\u4F60\u53EF\u4EE5\u6309\u9700\u52A0\u8F7D\u7EC4\u4EF6\uFF0C\u5E76\u4E14Webpack\u4F1A\u81EA\u52A8\u5C06\u8FD9\u4E9B\u7EC4\u4EF6\u62C6\u5206\u4E3A\u5355\u72EC\u7684\u6587\u4EF6\u8FDB\u884C\u6309\u9700\u52A0\u8F7D\u3002\u8FD9\u6837\u53EF\u4EE5\u5B9E\u73B0\u5728\u9700\u8981\u65F6\u52A8\u6001\u52A0\u8F7D\u7EC4\u4EF6\uFF0C\u4EE5\u53CA\u51CF\u5C0F\u521D\u59CB\u52A0\u8F7D\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u6027\u80FD\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0B\u9762\u662F\u4E00\u4E2A\u793A\u4F8B\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u4F7F\u7528Webpack\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u548CReact\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import React, { lazy, Suspense } from 'react'\n\nconst LazyComponent = lazy(() => import('./LazyComponent'))\n\nfunction App () {\n  return (\n <div>\n <Suspense fallback={<div>Loading...</div>}>\n <LazyComponent />\n </Suspense>\n </div>\n  )\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u7528\u4E8E\u6309\u9700\u52A0\u8F7D",(0,l.jsx)(n.code,{children:"./LazyComponent"}),"\u7EC4\u4EF6\u3002",(0,l.jsx)(n.code,{children:"Suspense"}),"\u7EC4\u4EF6\u7528\u4E8E\u5728\u7EC4\u4EF6\u52A0\u8F7D\u65F6\u63D0\u4F9B\u4E00\u4E2A\u52A0\u8F7D\u4E2D\u7684\u63D0\u793A\uFF08fallback\uFF09\u3002\u5F53",(0,l.jsx)(n.code,{children:"LazyComponent"}),"\u7EC4\u4EF6\u9700\u8981\u6E32\u67D3\u65F6\uFF0CWebpack\u5C06\u4F1A\u6309\u9700\u52A0\u8F7D",(0,l.jsx)(n.code,{children:"./LazyComponent"}),"\u7EC4\u4EF6\u7684\u4EE3\u7801\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F7F\u7528Webpack\u914D\u7F6E\u6309\u9700\u52A0\u8F7D\u548CReact\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u53EF\u4EE5\u6709\u6548\u5730\u4F18\u5316React\u5E94\u7528\u7684\u6027\u80FD\uFF0C\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u52A0\u8F7D\u901F\u5EA6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u652F\u6301 React lazy\uFF0C webpack \u8FD8\u9700\u8981\u914D\u7F6E\u4EC0\u4E48\u5417\uFF1F"}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3A\u4E86\u652F\u6301React\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\uFF0C\u8FD8\u9700\u8981\u5728Webpack\u914D\u7F6E\u4E2D\u6DFB\u52A0\u4E00\u4E9B\u989D\u5916\u7684\u914D\u7F6E\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\uFF0C\u4F60\u9700\u8981\u786E\u4FDD\u4F60\u7684Webpack\u914D\u7F6E\u4E2D\u542F\u7528\u4E86\u4EE3\u7801\u5206\u5272\uFF08code splitting\uFF09\u529F\u80FD\u3002\u8FD9\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack.config.js\n\nmodule.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E\n  optimization: {\n    splitChunks: {\n      chunks: 'all'\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E2A\u914D\u7F6E\u4F1A\u544A\u8BC9Webpack\u5728\u751F\u6210\u4EE3\u7801\u5757\u65F6\u5C06\u516C\u5171\u7684\u4F9D\u8D56\u6A21\u5757\u63D0\u53D6\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D\uFF0C\u4EE5\u5B9E\u73B0\u4EE3\u7801\u7684\u5171\u4EAB\u548C\u6309\u9700\u52A0\u8F7D\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540E\uFF0C\u4F60\u9700\u8981\u4F7F\u7528",(0,l.jsx)(n.code,{children:"@babel/preset-react"}),"\u9884\u8BBE\u914D\u7F6EBabel\uFF0C\u4EE5\u652F\u6301React\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u3002\u4F60\u53EF\u4EE5\u5728",(0,l.jsx)(n.code,{children:".babelrc"}),"\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "presets": [\n "@babel/preset-react"\n ]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u6700\u540E\uFF0C\u786E\u4FDD\u4F60\u7684React\u4EE3\u7801\u4F7F\u7528\u4E86",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u8FDB\u884C\u7EC4\u4EF6\u7684\u6309\u9700\u52A0\u8F7D\uFF0C\u5982\u524D\u9762\u7684\u793A\u4F8B\u6240\u793A\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import React, { lazy, Suspense } from 'react'\n\nconst LazyComponent = lazy(() => import('./LazyComponent'))\n\nfunction App () {\n  return (\n <div>\n <Suspense fallback={<div>Loading...</div>}>\n <LazyComponent />\n </Suspense>\n </div>\n  )\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u4EE5\u4E0A\u6B65\u9AA4\u914D\u7F6EWebpack\uFF0C\u4F60\u5C31\u53EF\u4EE5\u4F7F\u7528React\u7684",(0,l.jsx)(n.code,{children:"lazy"}),"\u51FD\u6570\u5B9E\u73B0\u7EC4\u4EF6\u7684\u6309\u9700\u52A0\u8F7D\u4E86\u3002Webpack\u4F1A\u81EA\u52A8\u5C06\u6309\u9700\u52A0\u8F7D\u7684\u7EC4\u4EF6\u62C6\u5206\u4E3A\u5355\u72EC\u7684\u6587\u4EF6\uFF0C\u5E76\u5728\u9700\u8981\u65F6\u8FDB\u884C\u52A0\u8F7D\u3002\u8FD9\u6837\u53EF\u4EE5\u63D0\u9AD8React\u5E94\u7528\u7684\u6027\u80FD\u548C\u52A0\u8F7D\u901F\u5EA6\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"p0-module-federation",children:"webpack5 Module Federation"}),"\n",(0,l.jsx)(n.p,{children:"Webpack 5 \u7684 Module Federation \u662F\u4E00\u9879\u529F\u80FD\u5F3A\u5927\u7684\u529F\u80FD\uFF0C\u5B83\u5141\u8BB8\u5C06 JavaScript \u5E94\u7528\u7A0B\u5E8F\u62C6\u5206\u6210\u72EC\u7ACB\u7684\u6A21\u5757\uFF0C\u5E76\u5728\u4E0D\u540C\u7684 Webpack \u6784\u5EFA\u4E2D\u5171\u4EAB\u8FD9\u4E9B\u6A21\u5757\u3002\u5B83\u89E3\u51B3\u4E86\u591A\u4E2A\u72EC\u7ACB\u5E94\u7528\u7A0B\u5E8F\u4E4B\u95F4\u5171\u4EAB\u4EE3\u7801\u7684\u95EE\u9898\uFF0C\u4F7F\u5F97\u5B9E\u73B0\u5FAE\u524D\u7AEF\u67B6\u6784\u53D8\u5F97\u66F4\u52A0\u5BB9\u6613\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Module Federation \u53EF\u4EE5\u5C06\u4E00\u4E2A\u5E94\u7528\u7A0B\u5E8F\u62C6\u5206\u6210\u591A\u4E2A\u72EC\u7ACB\u7684\u5B50\u5E94\u7528\uFF0C\u6BCF\u4E2A\u5B50\u5E94\u7528\u90FD\u53EF\u4EE5\u88AB\u72EC\u7ACB\u5F00\u53D1\u3001\u90E8\u7F72\u548C\u8FD0\u884C\u3002\u6BCF\u4E2A\u5B50\u5E94\u7528\u90FD\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6307\u5B9A\u9700\u8981\u5171\u4EAB\u7684\u6A21\u5757\uFF0C\u7136\u540E\u5C06\u8FD9\u4E9B\u5171\u4EAB\u6A21\u5757\u4EE5\u52A8\u6001\u65B9\u5F0F\u52A0\u8F7D\u5230\u5176\u4ED6\u5B50\u5E94\u7528\u4E2D\u4F7F\u7528\uFF0C\u800C\u65E0\u9700\u5C06\u8FD9\u4E9B\u6A21\u5757\u6253\u5305\u8FDB\u6BCF\u4E2A\u5B50\u5E94\u7528\u7684\u6784\u5EFA\u6587\u4EF6\u4E2D\u3002"}),"\n",(0,l.jsx)(n.p,{children:'Module Federation \u7684\u6838\u5FC3\u6982\u5FF5\u662F "\u5BB9\u5668"\uFF08Container\uFF09\u548C "\u8FDC\u7A0B"\uFF08Remote\uFF09\u3002\u5BB9\u5668\u662F\u4E00\u4E2A\u4E3B\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5B83\u53EF\u4EE5\u52A0\u8F7D\u548C\u6E32\u67D3\u5176\u4ED6\u5B50\u5E94\u7528\u7A0B\u5E8F\uFF0C\u800C\u8FDC\u7A0B\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u5B50\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u4E9B\u6A21\u5757\u4F9B\u5176\u4ED6\u5B50\u5E94\u7528\u7A0B\u5E8F\u4F7F\u7528\u3002'}),"\n",(0,l.jsx)(n.p,{children:"Module Federation \u63D0\u4F9B\u4E86\u4E00\u79CD\u7B80\u5355\u7684\u65B9\u5F0F\u6765\u5B9A\u4E49\u8FDC\u7A0B\u6A21\u5757\uFF0C\u5E76\u5728\u5BB9\u5668\u4E2D\u5F15\u7528\u8FD9\u4E9B\u8FDC\u7A0B\u6A21\u5757\u3002\u5BB9\u5668\u53EF\u4EE5\u4ECE\u8FDC\u7A0B\u52A0\u8F7D\u6A21\u5757\uFF0C\u5E76\u901A\u8FC7\u914D\u7F6E\u5C06\u8FD9\u4E9B\u6A21\u5757\u66B4\u9732\u7ED9\u5176\u4ED6\u5B50\u5E94\u7528\u7A0B\u5E8F\u3002\u8FD9\u6837\uFF0C\u5B50\u5E94\u7528\u7A0B\u5E8F\u53EF\u4EE5\u901A\u8FC7\u8FDC\u7A0B\u52A0\u8F7D\u548C\u4F7F\u7528\u5BB9\u5668\u4E2D\u7684\u6A21\u5757\uFF0C\u5B9E\u73B0\u4E86\u6A21\u5757\u7684\u5171\u4EAB\u548C\u52A8\u6001\u52A0\u8F7D\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Module Federation \u5728\u5B9E\u73B0\u5FAE\u524D\u7AEF\u67B6\u6784\u65F6\u975E\u5E38\u6709\u7528\uFF0C\u53EF\u4EE5\u5C06\u591A\u4E2A\u72EC\u7ACB\u5F00\u53D1\u7684\u5B50\u5E94\u7528\u7A0B\u5E8F\u7EC4\u5408\u6210\u4E00\u4E2A\u6574\u4F53\uFF0C\u5E76\u5B9E\u73B0\u5171\u4EAB\u6A21\u5757\u548C\u8D44\u6E90\u7684\u7075\u6D3B\u7BA1\u7406\u3002\u5B83\u63D0\u4F9B\u4E86\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\uFF0C\u8BA9\u591A\u4E2A\u56E2\u961F\u53EF\u4EE5\u72EC\u7ACB\u5F00\u53D1\u548C\u90E8\u7F72\u81EA\u5DF1\u7684\u5B50\u5E94\u7528\u7A0B\u5E8F\uFF0C\u540C\u65F6\u53C8\u80FD\u591F\u5171\u4EAB\u4EE3\u7801\u548C\u8D44\u6E90\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u548C\u6574\u4F53\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Webpack 5 \u7684 Module Federation \u662F\u4E00\u9879\u7528\u4E8E\u5B9E\u73B0\u5FAE\u524D\u7AEF\u67B6\u6784\u7684\u529F\u80FD\uFF0C\u5B83\u53EF\u4EE5\u5C06 JavaScript \u5E94\u7528\u7A0B\u5E8F\u62C6\u5206\u6210\u72EC\u7ACB\u7684\u5B50\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5E76\u901A\u8FC7\u52A8\u6001\u52A0\u8F7D\u548C\u5171\u4EAB\u6A21\u5757\u7684\u65B9\u5F0F\u5B9E\u73B0\u5B50\u5E94\u7528\u7A0B\u5E8F\u4E4B\u95F4\u7684\u4EA4\u4E92\u548C\u5171\u4EAB\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u8303"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF0C\u6F14\u793A\u5982\u4F55\u5728 Webpack 5 \u4E2D\u4F7F\u7528 Module Federation\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5047\u8BBE\u6211\u4EEC\u6709\u4E24\u4E2A\u72EC\u7ACB\u7684\u5E94\u7528\u7A0B\u5E8F\uFF1AApp1 \u548C App2\u3002\u6211\u4EEC\u5C06\u4F7F\u7528 Module Federation \u5C06 App2 \u7684\u6A21\u5757\u5171\u4EAB\u7ED9 App1\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\uFF0C\u6211\u4EEC\u9700\u8981\u5728 App2 \u7684 Webpack \u914D\u7F6E\u4E2D\u542F\u7528 Module Federation\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack.config.js (App2)\n\nconst { ModuleFederationPlugin } = require('webpack')\n\nmodule.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E\n  plugins: [\n    new ModuleFederationPlugin({\n      name: 'app2',\n      filename: 'remoteEntry.js',\n      exposes: {\n        './Button': './src/Button' // \u66B4\u9732 App2 \u7684 Button \u6A21\u5757\n      }\n    })\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u9700\u8981\u5728 App1 \u7684 Webpack \u914D\u7F6E\u4E2D\u914D\u7F6E\u8FDC\u7A0B\u52A0\u8F7D App2 \u7684\u6A21\u5757\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack.config.js (App1)\n\nconst { ModuleFederationPlugin } = require('webpack')\n\nmodule.exports = {\n  // ...\u5176\u4ED6\u914D\u7F6E\n  plugins: [\n    new ModuleFederationPlugin({\n      name: 'app1',\n      remotes: {\n        app2: 'app2@http://localhost:3002/remoteEntry.js' // \u8FDC\u7A0B\u52A0\u8F7D App2 \u7684\u6A21\u5757\n      }\n    })\n  ]\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5728 App1 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u50CF\u4F7F\u7528\u672C\u5730\u6A21\u5757\u4E00\u6837\u4F7F\u7528 App2 \u7684\u6A21\u5757\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// App1\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App2Button from 'app2/Button' // \u8FDC\u7A0B\u52A0\u8F7D App2 \u7684 Button \u6A21\u5757\n\nReactDOM.render(<App2Button />, document.getElementById('root'))\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7 Module Federation \u5C06 App2 \u7684 Button \u6A21\u5757\u66B4\u9732\u7ED9\u4E86 App1\uFF0C\u7136\u540E\u5728 App1 \u4E2D\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7 ",(0,l.jsx)(n.code,{children:"import"})," \u8BED\u53E5\u5F15\u5165\u5E76\u4F7F\u7528\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0CApp1 \u9700\u8981\u5728 ",(0,l.jsx)(n.code,{children:"remotes"})," \u914D\u7F6E\u4E2D\u6307\u5B9A\u8FDC\u7A0B\u52A0\u8F7D\u7684\u6A21\u5757\uFF0C\u5176\u4E2D ",(0,l.jsx)(n.code,{children:"app2"})," \u662F\u4E00\u4E2A\u8FDC\u7A0B\u6A21\u5757\u7684\u540D\u79F0\uFF0C\u800C ",(0,l.jsx)(n.code,{children:"http://localhost:3002/remoteEntry.js"})," \u662F App2 \u6784\u5EFA\u8F93\u51FA\u7684\u8FDC\u7A0B\u5165\u53E3\u6587\u4EF6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u53EA\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF0C\u5B9E\u9645\u4F7F\u7528\u4E2D\u53EF\u80FD\u6D89\u53CA\u66F4\u590D\u6742\u7684\u914D\u7F6E\u548C\u573A\u666F\u3002\u4F46\u901A\u8FC7\u4EE5\u4E0A\u914D\u7F6E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u5728\u4E0D\u540C\u5E94\u7528\u7A0B\u5E8F\u4E4B\u95F4\u5171\u4EAB\u6A21\u5757\uFF0C\u5E76\u901A\u8FC7\u52A8\u6001\u52A0\u8F7D\u7684\u65B9\u5F0F\u4F7F\u7528\u8FDC\u7A0B\u6A21\u5757\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-babel",children:"babel \u7684\u5DE5\u4F5C\u6D41\u7A0B\u662F\u5982\u4F55\u7684\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"Babel \u662F\u4E00\u4E2A JavaScript \u7F16\u8BD1\u5668\uFF0C\u5B83\u7684\u4E3B\u8981\u529F\u80FD\u662F\u5C06\u65B0\u7248\u672C\u7684 JavaScript \u4EE3\u7801\u8F6C\u6362\u6210\u5411\u540E\u517C\u5BB9\u7684\u4EE3\u7801\u3002Babel \u7684\u5DE5\u4F5C\u6D41\u7A0B\u53EF\u4EE5\u7B80\u5355\u6982\u62EC\u4E3A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u89E3\u6790\uFF1A\u5C06 JavaScript \u4EE3\u7801\u89E3\u6790\u6210 AST\uFF08\u62BD\u8C61\u8BED\u6CD5\u6811\uFF09\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8F6C\u6362\uFF1A\u5BF9 AST \u8FDB\u884C\u904D\u5386\uFF0C\u8FDB\u884C\u4EE3\u7801\u8F6C\u6362\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u751F\u6210\uFF1A\u5C06\u8F6C\u6362\u540E\u7684 AST \u751F\u6210 JavaScript \u4EE3\u7801\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5177\u4F53\u6765\u8BF4\uFF0CBabel \u7684\u5DE5\u4F5C\u6D41\u7A0B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Babel \u4F7F\u7528 babylon \u89E3\u6790\u5668\u5C06 JavaScript \u4EE3\u7801\u89E3\u6790\u6210 AST\uFF0Cbabylon \u662F\u4E00\u4E2A\u57FA\u4E8E AST \u7684 JavaScript \u89E3\u6790\u5668\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Babel \u4F7F\u7528 babel-traverse \u904D\u5386\u5668\u5BF9 AST \u8FDB\u884C\u904D\u5386\uFF0C\u627E\u5230\u9700\u8981\u8F6C\u6362\u7684\u8282\u70B9\uFF0C\u8FDB\u884C\u8F6C\u6362\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Babel \u4F7F\u7528 babel-core \u8F6C\u6362\u5668\u5C06 AST \u8F6C\u6362\u6210 JavaScript \u4EE3\u7801\u3002babel-core \u662F babel \u7684\u6838\u5FC3\u6A21\u5757\uFF0C\u5B83\u5305\u542B\u4E86\u6240\u6709\u7684\u8F6C\u6362\u5668\u548C\u63D2\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Babel \u4F7F\u7528 babel-generator \u751F\u6210\u5668\u5C06\u8F6C\u6362\u540E\u7684 AST \u751F\u6210 JavaScript \u4EE3\u7801\u3002babel-generator \u662F\u4E00\u4E2A\u5C06 AST \u8F6C\u6362\u6210 JavaScript \u4EE3\u7801\u7684\u5DE5\u5177\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u6574\u4E2A\u6D41\u7A0B\u4E2D\uFF0CBabel \u8FD8\u4F1A\u4F7F\u7528 babel-preset-env\u3001babel-plugin-transform-runtime\u3001babel-polyfill \u7B49\u63D2\u4EF6\u548C\u5DE5\u5177\u6765\u5B8C\u6210\u66F4\u52A0\u590D\u6742\u7684\u4EFB\u52A1\uFF0C\u5982\u5C06 ES6 \u6A21\u5757\u8F6C\u6362\u6210 CommonJS \u6A21\u5757\uFF0C\u4F7F\u7528 Polyfill \u6765\u5B9E\u73B0\u4E00\u4E9B\u65B0\u7684 API \u7B49\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0CBabel \u7684\u8F6C\u6362\u8FC7\u7A0B\u662F\u6709\u635F\u7684\uFF0C\u8F6C\u6362\u540E\u7684\u4EE3\u7801\u4E0D\u4E00\u5B9A\u4E0E\u539F\u59CB\u4EE3\u7801\u5B8C\u5168\u76F8\u540C\uFF0C\u4E5F\u53EF\u80FD\u5B58\u5728\u6027\u80FD\u95EE\u9898\u3002\u56E0\u6B64\uFF0C\u5728\u4F7F\u7528 Babel \u8FDB\u884C\u8F6C\u6362\u65F6\uFF0C\u9700\u8981\u8C28\u614E\u9009\u62E9\u8F6C\u6362\u7684\u89C4\u5219\u548C\u63D2\u4EF6\uFF0C\u4EE5\u786E\u4FDD\u8F6C\u6362\u540E\u7684\u4EE3\u7801\u6B63\u786E\u3001\u9AD8\u6548\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-bable-plugin",children:"babel \u63D2\u4EF6"}),"\n",(0,l.jsx)(n.p,{children:"\u7F16\u5199\u4E00\u4E2A babel \u63D2\u4EF6\u7684\u57FA\u672C\u6B65\u9AA4"}),"\n",(0,l.jsx)(n.p,{children:"\u7F16\u5199\u4E00\u4E2A Babel \u63D2\u4EF6\u53EF\u4EE5\u8BA9\u4F60\u81EA\u5B9A\u4E49\u8F6C\u6362\u3001\u5206\u6790\u6216\u64CD\u4F5C JavaScript \u4EE3\u7801\u3002\u4E0B\u9762\u662F\u7F16\u5199 Babel \u63D2\u4EF6\u7684\u57FA\u672C\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5B89\u88C5 Babel\uFF1A\u9996\u5148\uFF0C\u786E\u4FDD\u4F60\u5DF2\u7ECF\u5B89\u88C5\u4E86 Babel \u7684\u76F8\u5173\u5DE5\u5177\u548C\u4F9D\u8D56\u3002\u53EF\u4EE5\u4F7F\u7528 npm \u6216 yarn \u5B89\u88C5 ",(0,l.jsx)(n.code,{children:"@babel/core"}),"\u3001",(0,l.jsx)(n.code,{children:"@babel/preset-env"})," \u548C ",(0,l.jsx)(n.code,{children:"@babel/plugin-syntax-plugin-name"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA\u63D2\u4EF6\u6587\u4EF6\uFF1A\u5728\u9879\u76EE\u4E2D\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 JavaScript \u6587\u4EF6\uFF0C\u7528\u4E8E\u7F16\u5199\u81EA\u5B9A\u4E49\u63D2\u4EF6\u7684\u4EE3\u7801\u3002\u547D\u540D\u7EA6\u5B9A\u662F\u4EE5 ",(0,l.jsx)(n.code,{children:"babel-plugin-"})," \u5F00\u5934\uFF0C\u4F8B\u5982 ",(0,l.jsx)(n.code,{children:"babel-plugin-custom-plugin.js"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5BFC\u51FA\u63D2\u4EF6\u51FD\u6570\uFF1A\u5728\u63D2\u4EF6\u6587\u4EF6\u4E2D\uFF0C\u5BFC\u51FA\u4E00\u4E2A\u51FD\u6570\u4F5C\u4E3A\u4F60\u7684\u63D2\u4EF6\u3002\u8FD9\u4E2A\u51FD\u6570\u5C06\u63A5\u6536\u4E00\u4E2A Babel \u7684 ",(0,l.jsx)(n.code,{children:"babel"})," \u5BF9\u8C61\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5305\u542B\u4E86\u4E00\u4E9B Babel \u7684\u5DE5\u5177\u65B9\u6CD5\uFF0C\u5982 ",(0,l.jsx)(n.code,{children:"types"})," \u548C ",(0,l.jsx)(n.code,{children:"template"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = function (babel) {\n  // \u63D2\u4EF6\u4EE3\u7801\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:["\u5B9E\u73B0\u63D2\u4EF6\u903B\u8F91\uFF1A\u5728\u63D2\u4EF6\u51FD\u6570\u5185\u90E8\uFF0C\u5B9E\u73B0\u4F60\u7684\u63D2\u4EF6\u903B\u8F91\u3002\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.types"})," \u5BF9\u8C61\u63D0\u4F9B\u7684\u65B9\u6CD5\u6765\u64CD\u4F5C\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08AST\uFF09\u8282\u70B9\uFF0C\u4F8B\u5982 ",(0,l.jsx)(n.code,{children:"babel.types.VariableDeclaration"}),"\u3001",(0,l.jsx)(n.code,{children:"babel.types.CallExpression"})," \u7B49\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = function (babel) {\n  const { types: t } = babel\n\n  return {\n    visitor: {\n      Identifier (path) {\n        // \u5BF9\u6BCF\u4E2A Identifier \u8282\u70B9\u8FDB\u884C\u5904\u7406\n        const name = path.node.name\n        path.node.name = name.toUpperCase()\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:["\u5BFC\u51FA\u63D2\u4EF6\u914D\u7F6E\uFF1A\u4E3A\u4E86\u8BA9 Babel \u53EF\u4EE5\u8BC6\u522B\u4F60\u7684\u63D2\u4EF6\uFF0C\u9700\u8981\u5728\u63D2\u4EF6\u51FD\u6570\u4E2D\u8FD4\u56DE\u4E00\u4E2A\u914D\u7F6E\u5BF9\u8C61\uFF0C\u5176\u4E2D ",(0,l.jsx)(n.code,{children:"visitor"})," \u5C5E\u6027\u6307\u5B9A\u4E86\u4F60\u7684\u63D2\u4EF6\u8981\u5904\u7406\u7684 AST \u8282\u70B9\u7C7B\u578B\u548C\u5BF9\u5E94\u7684\u5904\u7406\u51FD\u6570\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"module.exports = function (babel) {\n  const { types: t } = babel\n\n  return {\n    visitor: {\n      // ...\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E Babel\uFF1A\u5728\u9879\u76EE\u7684 ",(0,l.jsx)(n.code,{children:".babelrc"})," \u6216 ",(0,l.jsx)(n.code,{children:"babel.config.js"})," \u6587\u4EF6\u4E2D\uFF0C\u5C06\u4F60\u7684\u63D2\u4EF6\u6DFB\u52A0\u5230 Babel \u7684\u63D2\u4EF6\u5217\u8868\u4E2D\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "plugins": ["babel-plugin-custom-plugin"]\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528\u63D2\u4EF6\uFF1A\u8FD0\u884C Babel\uFF0C\u5B83\u5C06\u6839\u636E\u4F60\u7684\u914D\u7F6E\u548C\u4EE3\u7801\u4E2D\u7684\u8BED\u6CD5\uFF0C\u5E94\u7528\u63D2\u4EF6\u5E76\u5BF9\u4EE3\u7801\u8FDB\u884C\u8F6C\u6362\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4EE5\u4E0A\u662F\u7F16\u5199 Babel \u63D2\u4EF6\u7684\u57FA\u672C\u6B65\u9AA4\uFF0C\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u9700\u6C42\u548C\u573A\u666F\uFF0C\u5B9E\u73B0\u5404\u79CD\u81EA\u5B9A\u4E49\u7684\u8F6C\u6362\u3001\u5206\u6790\u548C\u64CD\u4F5C\u903B\u8F91\u3002"}),"\n",(0,l.jsx)(n.p,{children:"babel \u7F16\u5199\u63D2\u4EF6\u7684\u65F6\u5019\u6709\u54EA\u4E9B\u6838\u5FC3\u65B9\u6CD5"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u7F16\u5199 Babel \u63D2\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u6838\u5FC3\u65B9\u6CD5\u6765\u64CD\u4F5C\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08AST\uFF09\u8282\u70B9\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"types"})," \u5BF9\u8C61\uFF1A Babel \u7684 ",(0,l.jsx)(n.code,{children:"types"})," \u5BF9\u8C61\u662F\u4F60\u5728\u63D2\u4EF6\u4E2D\u6700\u5E38\u7528\u7684\u5DE5\u5177\u4E4B\u4E00\u3002\u5B83\u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u7528\u4E8E\u521B\u5EFA\u3001\u8BBF\u95EE\u548C\u64CD\u4F5C AST \u8282\u70B9\u7684\u65B9\u6CD5\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.identifier(name)"}),": \u521B\u5EFA\u4E00\u4E2A\u6807\u8BC6\u7B26\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u53D8\u91CF\u6216\u51FD\u6570\u7684\u540D\u79F0\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.stringLiteral(value)"}),": \u521B\u5EFA\u4E00\u4E2A\u5B57\u7B26\u4E32\u5B57\u9762\u91CF\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u5B57\u7B26\u4E32\u503C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.numericLiteral(value)"}),": \u521B\u5EFA\u4E00\u4E2A\u6570\u503C\u5B57\u9762\u91CF\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u6570\u5B57\u503C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.booleanLiteral(value)"}),": \u521B\u5EFA\u4E00\u4E2A\u5E03\u5C14\u5B57\u9762\u91CF\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u5E03\u5C14\u503C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.objectExpression(properties)"}),": \u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u8868\u8FBE\u5F0F\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u5BF9\u8C61\u5B57\u9762\u91CF\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.arrayExpression(elements)"}),": \u521B\u5EFA\u4E00\u4E2A\u6570\u7EC4\u8868\u8FBE\u5F0F\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u6570\u7EC4\u5B57\u9762\u91CF\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.callExpression(callee, arguments)"}),": \u521B\u5EFA\u4E00\u4E2A\u51FD\u6570\u8C03\u7528\u8868\u8FBE\u5F0F\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u51FD\u6570\u7684\u8C03\u7528\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"types.memberExpression(object, property)"}),": \u521B\u5EFA\u4E00\u4E2A\u6210\u5458\u8868\u8FBE\u5F0F\u8282\u70B9\uFF0C\u8868\u793A\u4E00\u4E2A\u5BF9\u8C61\u7684\u6210\u5458\u8BBF\u95EE\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E9B\u65B9\u6CD5\u53EF\u4EE5\u5E2E\u52A9\u4F60\u6784\u5EFA\u65B0\u7684 AST \u8282\u70B9\u6216\u8BBF\u95EE\u73B0\u6709\u7684 AST \u8282\u70B9\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"path"})," \u5BF9\u8C61\uFF1A Babel \u7684 ",(0,l.jsx)(n.code,{children:"path"})," \u5BF9\u8C61\u4EE3\u8868 AST \u4E2D\u7684\u4E00\u4E2A\u8DEF\u5F84\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8BE5\u5BF9\u8C61\u8BBF\u95EE\u548C\u64CD\u4F5C AST \u8282\u70B9\u3002\u5728\u63D2\u4EF6\u7684\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u4F60\u5C06\u4F1A\u7ECF\u5E38\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"path"})," \u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.node"}),": \u8BBF\u95EE\u5F53\u524D\u8DEF\u5F84\u5BF9\u5E94\u7684\u8282\u70B9\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.parent"}),": \u8BBF\u95EE\u5F53\u524D\u8DEF\u5F84\u7684\u7236\u8DEF\u5F84\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.scope"}),": \u8BBF\u95EE\u5F53\u524D\u8DEF\u5F84\u7684\u4F5C\u7528\u57DF\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.traverse(visitor)"}),": \u904D\u5386\u5F53\u524D\u8DEF\u5F84\u7684\u5B50\u8DEF\u5F84\uFF0C\u4F7F\u7528\u6307\u5B9A\u7684\u8BBF\u95EE\u8005\u51FD\u6570\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.replaceWith(node)"}),": \u66FF\u6362\u5F53\u524D\u8DEF\u5F84\u7684\u8282\u70B9\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"path.remove()"}),": \u79FB\u9664\u5F53\u524D\u8DEF\u5F84\u7684\u8282\u70B9\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E9B\u65B9\u6CD5\u53EF\u4EE5\u5E2E\u52A9\u4F60\u5728\u904D\u5386 AST \u6811\u65F6\u5BF9\u8282\u70B9\u8FDB\u884C\u4FEE\u6539\u3001\u66FF\u6362\u6216\u5220\u9664\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"traverse"})," \u65B9\u6CD5\uFF1A ",(0,l.jsx)(n.code,{children:"babel-traverse"})," \u662F Babel \u63D0\u4F9B\u7684\u4E00\u4E2A\u72EC\u7ACB\u7684\u6A21\u5757\uFF0C\u7528\u4E8E\u904D\u5386\u548C\u64CD\u4F5C AST\u3002\u5728\u63D2\u4EF6\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"traverse"})," \u65B9\u6CD5\u6765\u904D\u5386 AST \u6811\u5E76\u5E94\u7528\u4F60\u7684\u63D2\u4EF6\u903B\u8F91\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"traverse(ast, visitor)"}),": \u4F7F\u7528\u6307\u5B9A\u7684\u8BBF\u95EE\u8005\u51FD\u6570\u904D\u5386\u7ED9\u5B9A\u7684 AST \u6811\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"visitor"})," \u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5176\u4E2D\u5305\u542B\u4E86\u5904\u7406\u4E0D\u540C\u7C7B\u578B\u8282\u70B9\u7684\u65B9\u6CD5\u3002\u901A\u8FC7\u5728 ",(0,l.jsx)(n.code,{children:"visitor"})," \u5BF9\u8C61\u4E2D\u5B9A\u4E49\u76F8\u5E94\u7C7B\u578B\u8282\u70B9\u7684\u5904\u7406\u51FD\u6570\uFF0C\u4F60\u53EF\u4EE5\u5728\u904D\u5386\u8FC7\u7A0B\u4E2D\u9488\u5BF9\u7279\u5B9A\u7C7B\u578B\u7684\u8282\u70B9\u6267\u884C\u4F60\u7684\u63D2\u4EF6\u903B\u8F91\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"babel.template"})," \u65B9\u6CD5\uFF1A ",(0,l.jsx)(n.code,{children:"babel-template"})," \u662F Babel \u63D0\u4F9B\u7684\u4E00\u4E2A\u72EC\u7ACB\u6A21\u5757\uFF0C\u7528\u4E8E\u6839\u636E\u5B57\u7B26\u4E32\u6A21\u677F\u751F\u6210 AST \u8282\u70B9\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.template"})," \u65B9\u6CD5\u6765\u521B\u5EFA\u5305\u542B\u7279\u5B9A\u6A21\u677F\u7ED3\u6784\u7684 AST \u8282\u70B9\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"babel.template(code, options)"}),": \u6839\u636E\u6307\u5B9A\u7684\u4EE3\u7801\u6A21\u677F\u751F\u6210 AST \u8282\u70B9\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"code"})," \u53C2\u6570\u662F\u4E00\u4E2A\u5305\u542B\u8981\u751F\u6210\u7684\u4EE3\u7801\u6A21\u677F\u7684\u5B57\u7B26\u4E32\uFF0C\u800C ",(0,l.jsx)(n.code,{children:"options"})," \u53C2\u6570\u53EF\u4EE5\u6307\u5B9A\u4E00\u4E9B\u914D\u7F6E\u9009\u9879\uFF0C\u5982 ",(0,l.jsx)(n.code,{children:"preserveComments"})," \u6765\u4FDD\u7559\u6CE8\u91CA\u3002\u8BE5\u65B9\u6CD5\u5C06\u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\uFF0C\u8C03\u7528\u8BE5\u51FD\u6570\u5E76\u4F20\u5165\u66FF\u6362\u6A21\u677F\u4E2D\u7684\u53D8\u91CF\u503C\uFF0C\u5373\u53EF\u751F\u6210\u5BF9\u5E94\u7684 AST \u8282\u70B9\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.template"})," \u65B9\u6CD5\uFF0C\u4F60\u53EF\u4EE5\u66F4\u65B9\u4FBF\u5730\u521B\u5EFA\u590D\u6742\u7684 AST \u8282\u70B9\u7ED3\u6784\uFF0C\u5C24\u5176\u5728\u9700\u8981\u751F\u6210\u5927\u91CF\u76F8\u4F3C\u7ED3\u6784\u7684\u8282\u70B9\u65F6\u975E\u5E38\u6709\u7528\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"babel.transform"})," \u65B9\u6CD5\uFF1A ",(0,l.jsx)(n.code,{children:"babel-transform"})," \u662F Babel \u63D0\u4F9B\u7684\u4E00\u4E2A\u72EC\u7ACB\u6A21\u5757\uFF0C\u7528\u4E8E\u5C06 JavaScript \u4EE3\u7801\u8F6C\u6362\u4E3A AST \u6216\u5C06 AST \u8F6C\u6362\u56DE JavaScript \u4EE3\u7801\u3002\u5728\u7F16\u5199\u63D2\u4EF6\u65F6\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.transform"})," \u65B9\u6CD5\u6765\u8FDB\u884C\u4EE3\u7801\u8F6C\u6362\u64CD\u4F5C\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"babel.transform(code, options)"}),": \u5C06\u6307\u5B9A\u7684\u4EE3\u7801\u8F6C\u6362\u4E3A AST \u6216\u5C06 AST \u8F6C\u6362\u56DE\u4EE3\u7801\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"code"})," \u53C2\u6570\u662F\u4E00\u4E2A\u5305\u542B\u8981\u8F6C\u6362\u7684 JavaScript \u4EE3\u7801\u7684\u5B57\u7B26\u4E32\uFF0C\u800C ",(0,l.jsx)(n.code,{children:"options"})," \u53C2\u6570\u53EF\u4EE5\u6307\u5B9A\u4E00\u4E9B\u914D\u7F6E\u9009\u9879\uFF0C\u5982 ",(0,l.jsx)(n.code,{children:"plugins"})," \u6765\u6307\u5B9A\u8981\u5E94\u7528\u7684\u63D2\u4EF6\u3002\u8BE5\u65B9\u6CD5\u5C06\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B ",(0,l.jsx)(n.code,{children:"ast"})," \u548C ",(0,l.jsx)(n.code,{children:"code"})," \u5C5E\u6027\u7684\u5BF9\u8C61\uFF0C",(0,l.jsx)(n.code,{children:"ast"})," \u5C5E\u6027\u8868\u793A\u751F\u6210\u7684 AST \u6811\uFF0C",(0,l.jsx)(n.code,{children:"code"})," \u5C5E\u6027\u8868\u793A\u8F6C\u6362\u540E\u7684\u4EE3\u7801\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"babel.transform"})," \u65B9\u6CD5\uFF0C\u4F60\u53EF\u4EE5\u5728\u63D2\u4EF6\u5185\u90E8\u5BF9\u4EE3\u7801\u8FDB\u884C\u8F6C\u6362\u548C\u5904\u7406\uFF0C\u5C06\u4EE3\u7801\u8F6C\u6362\u4E3A AST \u8FDB\u884C\u4FEE\u6539\uFF0C\u7136\u540E\u518D\u5C06\u4FEE\u6539\u540E\u7684 AST \u8F6C\u6362\u56DE\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u7F16\u5199\u4E00\u4E2A\u53BB\u9664\u4EE3\u7801\u91CC\u9762 console.log \u7684 babel \u63D2\u4EF6"}),"\n",(0,l.jsxs)(n.p,{children:["\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684 Babel \u63D2\u4EF6\u793A\u4F8B\uFF0C\u7528\u4E8E\u53BB\u9664\u4EE3\u7801\u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"console.log"})," \u8BED\u53E5\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// babel-plugin-remove-console.js\n\nmodule.exports = function ({ types: t }) {\n  return {\n    visitor: {\n      // \u5904\u7406\u51FD\u6570\u8C03\u7528\u8868\u8FBE\u5F0F\n      CallExpression (path) {\n        const { callee } = path.node\n\n        // \u5982\u679C\u51FD\u6570\u8C03\u7528\u7684\u540D\u79F0\u662F console.log\n        if (\n          t.isMemberExpression(callee) &&\n t.isIdentifier(callee.object, { name: 'console' }) &&\n t.isIdentifier(callee.property, { name: 'log' })\n        ) {\n          // \u79FB\u9664\u8BE5\u51FD\u6570\u8C03\u7528\n          path.remove()\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8BE5\u63D2\u4EF6\u4F1A\u904D\u5386\u4EE3\u7801\u4E2D\u7684\u51FD\u6570\u8C03\u7528\u8868\u8FBE\u5F0F\uFF0C\u5982\u679C\u53D1\u73B0\u662F ",(0,l.jsx)(n.code,{children:"console.log"}),"\uFF0C\u5219\u4F1A\u79FB\u9664\u8BE5\u51FD\u6570\u8C03\u7528\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8981\u4F7F\u7528\u8BE5\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u5B89\u88C5\u5E76\u914D\u7F6E\u5B83\u3002\u4F8B\u5982\uFF0C\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:".babelrc"})," \u6587\u4EF6\uFF0C\u5E76\u5C06\u8BE5\u63D2\u4EF6\u6DFB\u52A0\u5230 Babel \u7684\u63D2\u4EF6\u5217\u8868\u4E2D\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "plugins": ["./path/to/babel-plugin-remove-console.js"]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540E\u8FD0\u884C Babel \u547D\u4EE4\u6216\u6784\u5EFA\u5DE5\u5177\uFF0C\u5B83\u5C06\u5E94\u7528\u8BE5\u63D2\u4EF6\uFF0C\u5E76\u4ECE\u4EE3\u7801\u4E2D\u53BB\u9664\u6240\u6709\u7684 ",(0,l.jsx)(n.code,{children:"console.log"})," \u8BED\u53E5\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8BF7\u6CE8\u610F\uFF0C\u8FD9\u53EA\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\u63D2\u4EF6\uFF0C\u4EC5\u9002\u7528\u4E8E\u6F14\u793A\u76EE\u7684\u3002\u5728\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u4F60\u53EF\u80FD\u9700\u8981\u66F4\u590D\u6742\u7684\u903B\u8F91\u6765\u5904\u7406\u4E0D\u540C\u7684\u60C5\u51B5\u548C\u8981\u6C42\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p2-babel-polyfill",children:"Babel Polyfill \u4E86\u89E3\u591A\u5C11"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5173\u952E\u8BCD"}),"\uFF1ABabel Polyfill \u539F\u7406\u3001Babel Polyfill \u4F5C\u7528\u3001Babel Polyfill \u4F7F\u7528\u3001Babel Polyfill \u6309\u9700\u52A0\u8F7D"]}),"\n",(0,l.jsx)(n.p,{children:"Babel Polyfill \u4F5C\u7528\u662F\u5565"}),"\n",(0,l.jsx)(n.p,{children:"Babel Polyfill \u7684\u4F5C\u7528\u662F\u5728\u65E7\u7248\u672C\u6D4F\u89C8\u5668\u4E2D\u63D0\u4F9B\u5BF9\u65B0\u7684JavaScript\u7279\u6027\u548CAPI\u7684\u652F\u6301\u3002\u5F53\u4F7F\u7528Babel\u8FDB\u884C\u4EE3\u7801\u8F6C\u6362\u65F6\uFF0C\u5B83\u53EA\u4F1A\u8F6C\u6362\u8BED\u6CD5\uFF0C\u800C\u4E0D\u4F1A\u8F6C\u6362\u65B0\u7684API\u548C\u5168\u5C40\u5BF9\u8C61\uFF08\u5982Promise\u3001Map\u3001Set\u7B49\uFF09\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u65E7\u7248\u672C\u7684\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u652F\u6301\u8FD9\u4E9B\u65B0\u7684API\u548C\u5168\u5C40\u5BF9\u8C61\uFF0C\u56E0\u6B64\u5728\u8FD0\u884C\u4F7F\u7528\u8FD9\u4E9B\u7279\u6027\u7684\u4EE3\u7801\u65F6\u4F1A\u629B\u51FA\u9519\u8BEF\u3002\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u53EF\u4EE5\u4F7F\u7528Babel Polyfill\u6765\u586B\u5145\u7F3A\u5931\u7684\u529F\u80FD\uFF0C\u4EE5\u786E\u4FDD\u4EE3\u7801\u5728\u65E7\u7248\u672C\u6D4F\u89C8\u5668\u4E2D\u6B63\u5E38\u8FD0\u884C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Babel Polyfill\u901A\u8FC7\u4FEE\u6539\u5168\u5C40\u5BF9\u8C61\u548C\u539F\u578B\u94FE\uFF0C\u6DFB\u52A0\u7F3A\u5931\u7684\u65B9\u6CD5\u548C\u5C5E\u6027\uFF0C\u4F7F\u5F97\u4EE3\u7801\u80FD\u591F\u5728\u4E0D\u652F\u6301\u8FD9\u4E9B\u529F\u80FD\u7684\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u3002\u5B83\u4F1A\u68C0\u6D4B\u5F53\u524D\u73AF\u5883\u7684\u7279\u6027\u652F\u6301\u60C5\u51B5\uFF0C\u5E76\u6839\u636E\u9700\u8981\u81EA\u52A8\u52A0\u8F7D\u6240\u9700\u7684Polyfill\u4EE3\u7801\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528Babel Polyfill\u53EF\u4EE5\u8BA9\u5F00\u53D1\u4EBA\u5458\u5728\u7F16\u5199\u4EE3\u7801\u65F6\u4E0D\u5FC5\u8FC7\u591A\u8003\u8651\u6D4F\u89C8\u5668\u7684\u517C\u5BB9\u6027\uFF0C\u800C\u4E13\u6CE8\u4E8E\u4F7F\u7528\u6700\u65B0\u7684JavaScript\u7279\u6027\u548CAPI\u3002\u5B83\u63D0\u4F9B\u4E86\u4E00\u79CD\u7B80\u5355\u65B9\u4FBF\u7684\u65B9\u5F0F\u6765\u586B\u5145\u6D4F\u89C8\u5668\u7684\u529F\u80FD\u5DEE\u5F02\uFF0C\u786E\u4FDD\u4EE3\u7801\u5728\u5404\u79CD\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\u5177\u6709\u4E00\u81F4\u7684\u884C\u4E3A\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u4F55\u4F7F\u7528"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u4F7F\u7528 Babel Polyfill\uFF0C\u9700\u8981\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u8FDB\u884C\u8BBE\u7F6E\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5B89\u88C5\u4F9D\u8D56\uFF1A\u9996\u5148\uFF0C\u786E\u4FDD\u4F60\u7684\u9879\u76EE\u5DF2\u7ECF\u5B89\u88C5\u4E86 Babel \u76F8\u5173\u7684\u4F9D\u8D56\u5305\u3002\u8FD9\u5305\u62EC ",(0,l.jsx)(n.code,{children:"@babel/core"}),"\u3001",(0,l.jsx)(n.code,{children:"@babel/preset-env"})," \u548C ",(0,l.jsx)(n.code,{children:"@babel/polyfill"}),"\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 npm \u6216\u8005 yarn \u8FDB\u884C\u5B89\u88C5\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"npm install --save-dev @babel/core @babel/preset-env @babel/polyfill\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E Babel\uFF1A\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:".babelrc"})," \u6587\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "presets": ["@babel/preset-env"]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u6837\u7684\u914D\u7F6E\u5C06\u544A\u8BC9 Babel \u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"@babel/preset-env"})," \u9884\u8BBE\u6765\u8FDB\u884C\u8F6C\u6362\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"\u5BFC\u5165 Polyfill\uFF1A\u5728\u4F60\u7684\u5165\u53E3\u6587\u4EF6\uFF08\u901A\u5E38\u662F\u9879\u76EE\u7684\u4E3B JavaScript \u6587\u4EF6\uFF09\u4E2D\u5BFC\u5165 Babel Polyfill\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 import \u8BED\u53E5\u6216\u8005 require \u6765\u5BFC\u5165 Polyfill\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 import\uFF08\u9002\u7528\u4E8E ES6 \u6A21\u5757\uFF09\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import '@babel/polyfill'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 require\uFF08\u9002\u7528\u4E8E CommonJS \u6A21\u5757\uFF09\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"require('@babel/polyfill')\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5BFC\u5165 Polyfill \u7684\u4F4D\u7F6E\u5F88\u91CD\u8981\uFF0C\u901A\u5E38\u5E94\u8BE5\u5728\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u4EE3\u7801\u4E4B\u524D\u5BFC\u5165\uFF0C\u4EE5\u786E\u4FDD Polyfill \u5728\u5E94\u7528\u7A0B\u5E8F\u4EE3\u7801\u4E4B\u524D\u88AB\u52A0\u8F7D\u548C\u6267\u884C\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E\u76EE\u6807\u6D4F\u89C8\u5668\uFF1A\u4E3A\u4E86\u8BA9 Babel Polyfill \u6839\u636E\u76EE\u6807\u6D4F\u89C8\u5668\u8FDB\u884C\u7279\u6027\u586B\u5145\uFF0C\u4F60\u53EF\u4EE5\u5728 ",(0,l.jsx)(n.code,{children:".babelrc"})," \u6587\u4EF6\u4E2D\u7684 ",(0,l.jsx)(n.code,{children:"@babel/preset-env"})," \u914D\u7F6E\u4E2D\u6307\u5B9A\u76EE\u6807\u6D4F\u89C8\u5668\u7684\u9009\u9879\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u5728\u914D\u7F6E\u4E2D\u6DFB\u52A0 ",(0,l.jsx)(n.code,{children:"targets"})," \u5C5E\u6027\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "presets": [\n [\n "@babel/preset-env",\n {\n "targets": {\n "browsers": ["last 2 versions", "ie >= 11"]\n }\n }\n ]\n ]\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u6837\uFF0CPolyfill \u5C06\u6839\u636E\u6240\u9009\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u586B\u5145\u76F8\u5E94\u7684\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5B8C\u6210\u4EE5\u4E0A\u6B65\u9AA4\u540E\uFF0CBabel Polyfill \u5C06\u6839\u636E\u914D\u7F6E\u5728\u76EE\u6807\u6D4F\u89C8\u5668\u4E2D\u586B\u5145\u6240\u9700\u7684\u529F\u80FD\uFF0C\u4EE5\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u5728\u65E7\u7248\u672C\u6D4F\u89C8\u5668\u4E2D\u6B63\u5E38\u8FD0\u884C\u3002\u8BF7\u6CE8\u610F\uFF0CPolyfill \u4F1A\u589E\u52A0\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u7684\u5927\u5C0F\uFF0C\u56E0\u6B64\u8BF7\u8003\u8651\u4EC5\u586B\u5145\u6240\u9700\u7684\u529F\u80FD\uFF0C\u4EE5\u51CF\u5C0F\u6587\u4EF6\u5927\u5C0F\u5E76\u4F18\u5316\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6309\u9700\u52A0\u8F7D Polyfill"}),"\n",(0,l.jsx)(n.p,{children:"Babel Polyfill \u9ED8\u8BA4\u4F1A\u586B\u5145\u6240\u6709\u7F3A\u5931\u7684\u529F\u80FD\uFF0C\u4F46\u5982\u679C\u4F60\u53EA\u9700\u8981\u6309\u9700\u52A0\u8F7D\u7279\u5B9A\u529F\u80FD\uFF0C\u53EF\u4EE5\u4F7F\u7528 core-js \u5E93\u7684\u6309\u9700\u52A0\u8F7D\u7279\u6027\u3002\u4E0B\u9762\u662F\u6309\u9700\u52A0\u8F7D Babel Polyfill \u7684\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5B89\u88C5\u4F9D\u8D56\uFF1A\u786E\u4FDD\u4F60\u7684\u9879\u76EE\u5DF2\u7ECF\u5B89\u88C5\u4E86\u5FC5\u8981\u7684\u4F9D\u8D56\u3002\u9664\u4E86\u4E4B\u524D\u63D0\u5230\u7684 Babel \u76F8\u5173\u4F9D\u8D56\u5916\uFF0C\u4F60\u8FD8\u9700\u8981\u5B89\u88C5 ",(0,l.jsx)(n.code,{children:"core-js"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"npm install --save-dev @babel/core @babel/preset-env core-js\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E Babel\uFF1A\u5728 ",(0,l.jsx)(n.code,{children:".babelrc"})," \u6587\u4EF6\u4E2D\uFF0C\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n "presets": [\n [\n "@babel/preset-env",\n {\n "useBuiltIns": "usage",\n "corejs": 3\n }\n ]\n ]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"useBuiltIns"})," \u9009\u9879\u8BBE\u7F6E\u4E3A ",(0,l.jsx)(n.code,{children:'"usage"'})," \u8868\u793A\u6309\u9700\u52A0\u8F7D\u7279\u6027\uFF0C\u800C ",(0,l.jsx)(n.code,{children:'"corejs": 3'})," \u6307\u5B9A\u4E86\u4F7F\u7528\u7684 ",(0,l.jsx)(n.code,{children:"core-js"})," \u7248\u672C\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\u5BFC\u5165 Polyfill\uFF1A\u5728\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u529F\u80FD\u7684\u6587\u4EF6\u4E2D\uFF0C\u6309\u9700\u5BFC\u5165\u6240\u9700\u7684 Polyfill\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u9700\u8981\u586B\u5145 ",(0,l.jsx)(n.code,{children:"Promise"})," \u548C ",(0,l.jsx)(n.code,{children:"Array.prototype.includes"}),"\uFF0C\u4F60\u53EF\u4EE5\u6309\u5982\u4E0B\u65B9\u5F0F\u5BFC\u5165\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import 'core-js/features/promise'\nimport 'core-js/features/array/includes'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u6837\u53EA\u4F1A\u52A0\u8F7D\u548C\u586B\u5145\u6240\u9700\u7684\u529F\u80FD\uFF0C\u800C\u4E0D\u4F1A\u52A0\u8F7D\u6574\u4E2A Polyfill \u5E93\u3002\u4F60\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u7684\u529F\u80FD\u9700\u6C42\u8FDB\u884C\u6309\u9700\u5BFC\u5165\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u8BF7\u6CE8\u610F\uFF0C\u4F7F\u7528\u6309\u9700\u52A0\u8F7D\u7684\u65B9\u5F0F\u53EF\u4EE5\u51CF\u5C0F\u5E94\u7528\u7A0B\u5E8F\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u4E14\u53EA\u586B\u5145\u9700\u8981\u7684\u529F\u80FD\uFF0C\u4F46\u9700\u8981\u786E\u4FDD\u5728\u4F7F\u7528\u76F8\u5173\u529F\u80FD\u4E4B\u524D\u5DF2\u7ECF\u5BFC\u5165\u4E86\u76F8\u5E94\u7684 Polyfill\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p1-hotreload",children:"webpack\u70ED\u66F4\u65B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Hot Module Replacement"}),"\uFF0C\u7B80\u79F0",(0,l.jsx)(n.code,{children:"HMR"}),"\uFF0C\u65E0\u9700\u5B8C\u5168\u5237\u65B0\u6574\u4E2A\u9875\u9762\u7684\u540C\u65F6\uFF0C\u66F4\u65B0\u6A21\u5757\u3002",(0,l.jsx)(n.code,{children:"HMR"}),"\u7684\u597D\u5904\uFF0C\u5728\u65E5\u5E38\u5F00\u53D1\u5DE5\u4F5C\u4E2D\u4F53\u4F1A\u9887\u6DF1\uFF1A",(0,l.jsx)(n.strong,{children:"\u8282\u7701\u5B9D\u8D35\u7684\u5F00\u53D1\u65F6\u95F4\u3001\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5237\u65B0\u6211\u4EEC\u4E00\u822C\u5206\u4E3A\u4E24\u79CD\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4E00\u79CD\u662F\u9875\u9762\u5237\u65B0\uFF0C\u4E0D\u4FDD\u7559\u9875\u9762\u72B6\u6001\uFF0C\u5C31\u662F\u7B80\u5355\u7C97\u66B4\uFF0C\u76F4\u63A5",(0,l.jsx)(n.code,{children:"window.location.reload()"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53E6\u4E00\u79CD\u662F\u57FA\u4E8E",(0,l.jsx)(n.code,{children:"WDS (Webpack-dev-server)"}),"\u7684\u6A21\u5757\u70ED\u66FF\u6362\uFF0C\u53EA\u9700\u8981\u5C40\u90E8\u5237\u65B0\u9875\u9762\u4E0A\u53D1\u751F\u53D8\u5316\u7684\u6A21\u5757\uFF0C\u540C\u65F6\u53EF\u4EE5\u4FDD\u7559\u5F53\u524D\u7684\u9875\u9762\u72B6\u6001\uFF0C\u6BD4\u5982\u590D\u9009\u6846\u7684\u9009\u4E2D\u72B6\u6001\u3001\u8F93\u5165\u6846\u7684\u8F93\u5165\u7B49\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"HMR"}),"\u4F5C\u4E3A\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"Webpack"}),"\u5185\u7F6E\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u6216",(0,l.jsx)(n.code,{children:"--hot"}),"\u5F00\u542F\u3002\u90A3\u4E48\uFF0C",(0,l.jsx)(n.code,{children:"HMR"}),"\u5230\u5E95\u662F\u600E\u4E48\u5B9E\u73B0\u70ED\u66F4\u65B0\u7684\u5462\uFF1F\u4E0B\u9762\u8BA9\u6211\u4EEC\u6765\u4E86\u89E3\u4E00\u4E0B\u5427\uFF01"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"webpack-dev-server \u542F\u52A8\u672C\u5730\u670D\u52A1"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u4EEC\u6839\u636E",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u7684",(0,l.jsx)(n.code,{children:"package.json"}),"\u4E2D\u7684",(0,l.jsx)(n.code,{children:"bin"}),"\u547D\u4EE4\uFF0C\u53EF\u4EE5\u627E\u5230\u547D\u4EE4\u7684\u5165\u53E3\u6587\u4EF6",(0,l.jsx)(n.code,{children:"bin/webpack-dev-server.js"}),"\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-pgsql",children:"// node_modules/webpack-dev-server/bin/webpack-dev-server.js\n\n// \u751F\u6210webpack\u7F16\u8BD1\u4E3B\u5F15\u64CE compiler\nlet compiler = webpack(config);\n\n// \u542F\u52A8\u672C\u5730\u670D\u52A1\nlet server = new Server(compiler, options, log);\nserver.listen(options.port, options.host, (err) => {\n if (err) {throw err};\n});\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u672C\u5730\u670D\u52A1\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// node_modules/webpack-dev-server/lib/Server.js\nclass Server {\n constructor() {\n this.setupApp();\n this.createServer();\n }\n\n setupApp() {\n // \u4F9D\u8D56\u4E86express\n  this.app = new express();\n }\n\n createServer() {\n this.listeningApp = http.createServer(this.app);\n }\n listen(port, hostname, fn) {\n return this.listeningApp.listen(port, hostname, (err) => {\n // \u542F\u52A8express\u670D\u52A1\u540E\uFF0C\u542F\u52A8websocket\u670D\u52A1\n this.createSocketServer();\n }\n }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8FD9\u4E00\u5C0F\u8282\u4EE3\u7801\u4E3B\u8981\u505A\u4E86\u4E09\u4EF6\u4E8B\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u542F\u52A8",(0,l.jsx)(n.code,{children:"webpack"}),"\uFF0C\u751F\u6210",(0,l.jsx)(n.code,{children:"compiler"}),"\u5B9E\u4F8B\u3002",(0,l.jsx)(n.code,{children:"compiler"}),"\u4E0A\u6709\u5F88\u591A\u65B9\u6CD5\uFF0C\u6BD4\u5982\u53EF\u4EE5\u542F\u52A8 ",(0,l.jsx)(n.code,{children:"webpack"})," \u6240\u6709",(0,l.jsx)(n.strong,{children:"\u7F16\u8BD1"}),"\u5DE5\u4F5C\uFF0C\u4EE5\u53CA",(0,l.jsx)(n.strong,{children:"\u76D1\u542C"}),"\u672C\u5730\u6587\u4EF6\u7684\u53D8\u5316\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u4F7F\u7528",(0,l.jsx)(n.code,{children:"express"}),"\u6846\u67B6\u542F\u52A8\u672C\u5730",(0,l.jsx)(n.code,{children:"server"}),"\uFF0C\u8BA9\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BF7\u6C42\u672C\u5730\u7684",(0,l.jsx)(n.strong,{children:"\u9759\u6001\u8D44\u6E90"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u672C\u5730",(0,l.jsx)(n.code,{children:"server"}),"\u542F\u52A8\u4E4B\u540E\uFF0C\u518D\u53BB\u542F\u52A8",(0,l.jsx)(n.code,{children:"websocket"}),"\u670D\u52A1\uFF0C\u5982\u679C\u4E0D\u4E86\u89E3",(0,l.jsx)(n.code,{children:"websocket"}),"\uFF0C\u5EFA\u8BAE\u7B80\u5355\u4E86\u89E3\u4E00\u4E0B",(0,l.jsx)(n.a,{href:"https://link.juejin.cn?target=https%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2017%2F05%2Fwebsocket.html",title:"https://www.ruanyifeng.com/blog/2017/05/websocket.html",children:"websocket\u901F\u6210"}),"\u3002\u901A\u8FC7",(0,l.jsx)(n.code,{children:"websocket"}),"\uFF0C\u53EF\u4EE5\u5EFA\u7ACB\u672C\u5730\u670D\u52A1\u548C\u6D4F\u89C8\u5668\u7684\u53CC\u5411\u901A\u4FE1\u3002\u8FD9\u6837\u5C31\u53EF\u4EE5\u5B9E\u73B0\u5F53\u672C\u5730\u6587\u4EF6\u53D1\u751F\u53D8\u5316\uFF0C\u7ACB\u9A6C\u544A\u77E5\u6D4F\u89C8\u5668\u53EF\u4EE5\u70ED\u66F4\u65B0\u4EE3\u7801\u5566\uFF01"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0A\u8FF0\u4EE3\u7801\u4E3B\u8981\u5E72\u4E86\u4E09\u4EF6\u4E8B\uFF0C\u4F46\u662F\u6E90\u7801\u5728\u542F\u52A8\u670D\u52A1\u524D\u53C8\u505A\u4E86\u5F88\u591A\u4E8B\uFF0C\u63A5\u4E0B\u6765\u4FBF\u770B\u770B",(0,l.jsx)(n.code,{children:"webpack-dev-server/lib/Server.js"}),"\u8FD8\u505A\u4E86\u54EA\u4E9B\u4E8B\uFF1F"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u4FEE\u6539webpack.config.js\u7684entry\u914D\u7F6E"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u542F\u52A8\u672C\u5730\u670D\u52A1\u524D\uFF0C\u8C03\u7528\u4E86",(0,l.jsx)(n.code,{children:"updateCompiler(this.compiler)"}),"\u65B9\u6CD5\u3002\u8FD9\u4E2A\u65B9\u6CD5\u4E2D\u6709 2 \u6BB5\u5173\u952E\u6027\u4EE3\u7801\u3002\u4E00\u4E2A\u662F\u83B7\u53D6",(0,l.jsx)(n.code,{children:"websocket"}),"\u5BA2\u6237\u7AEF\u4EE3\u7801\u8DEF\u5F84\uFF0C\u53E6\u4E00\u4E2A\u662F\u6839\u636E\u914D\u7F6E\u83B7\u53D6",(0,l.jsx)(n.code,{children:"webpack"}),"\u70ED\u66F4\u65B0\u4EE3\u7801\u8DEF\u5F84\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// \u83B7\u53D6websocket\u5BA2\u6237\u7AEF\u4EE3\u7801\nconst clientEntry = `${require.resolve(\n '../../client/'\n)}?${domain}${sockHost}${sockPath}${sockPort}`\n\n// \u6839\u636E\u914D\u7F6E\u83B7\u53D6\u70ED\u66F4\u65B0\u4EE3\u7801\nlet hotEntry\nif (options.hotOnly) {\n  hotEntry = require.resolve('webpack/hot/only-dev-server')\n} else if (options.hot) {\n  hotEntry = require.resolve('webpack/hot/dev-server')\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4FEE\u6539\u540E\u7684",(0,l.jsx)(n.code,{children:"webpack"}),"\u5165\u53E3\u914D\u7F6E\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-awk",children:"// \u4FEE\u6539\u540E\u7684entry\u5165\u53E3\n{ entry:\n { index:\n [\n // \u4E0A\u9762\u83B7\u53D6\u7684clientEntry\n 'xxx/node_modules/webpack-dev-server/client/index.js?http://localhost:8080',\n // \u4E0A\u9762\u83B7\u53D6\u7684hotEntry\n 'xxx/node_modules/webpack/hot/dev-server.js',\n // \u5F00\u53D1\u914D\u7F6E\u7684\u5165\u53E3\n './src/index.js'\n  ],\n },\n} \n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3A\u4EC0\u4E48\u8981\u65B0\u589E\u4E86 2 \u4E2A\u6587\u4EF6\uFF1F\u5728\u5165\u53E3\u9ED8\u9ED8\u589E\u52A0\u4E86 2 \u4E2A\u6587\u4EF6\uFF0C\u90A3\u5C31\u610F\u5473\u4F1A\u4E00\u540C\u6253\u5305\u5230",(0,l.jsx)(n.code,{children:"bundle"}),"\u6587\u4EF6\u4E2D\u53BB\uFF0C\u4E5F\u5C31\u662F\u7EBF\u4E0A\u8FD0\u884C\u65F6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\uFF081\uFF09webpack-dev-server/client/index.js"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u8FD9\u4E2A\u6587\u4EF6\u7528\u4E8E",(0,l.jsx)(n.code,{children:"websocket"}),"\u7684\uFF0C\u56E0\u4E3A",(0,l.jsx)(n.code,{children:"websoket"}),"\u662F\u53CC\u5411\u901A\u4FE1\uFF0C\u5982\u679C\u4E0D\u4E86\u89E3",(0,l.jsx)(n.code,{children:"websocket"}),"\uFF0C\u5EFA\u8BAE\u7B80\u5355\u4E86\u89E3\u4E00\u4E0B",(0,l.jsx)(n.a,{href:"https://link.juejin.cn?target=https%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2017%2F05%2Fwebsocket.html",title:"https://www.ruanyifeng.com/blog/2017/05/websocket.html",children:"websocket\u901F\u6210"}),"\u3002\u6211\u4EEC\u5728\u7B2C 1 \u6B65 ",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u521D\u59CB\u5316 \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u542F\u52A8\u7684\u662F\u672C\u5730\u670D\u52A1\u7AEF\u7684",(0,l.jsx)(n.code,{children:"websocket"}),"\u3002\u90A3\u5BA2\u6237\u7AEF\u4E5F\u5C31\u662F\u6211\u4EEC\u7684\u6D4F\u89C8\u5668\uFF0C\u6D4F\u89C8\u5668\u8FD8\u6CA1\u6709\u548C\u670D\u52A1\u7AEF\u901A\u4FE1\u7684\u4EE3\u7801\u5462\uFF1F\u603B\u4E0D\u80FD\u8BA9\u5F00\u53D1\u8005\u53BB\u5199\u5427hhhhhh\u3002\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u628A",(0,l.jsx)(n.code,{children:"websocket"}),"\u5BA2\u6237\u7AEF\u901A\u4FE1\u4EE3\u7801\u5077\u5077\u585E\u5230\u6211\u4EEC\u7684\u4EE3\u7801\u4E2D\u3002\u5BA2\u6237\u7AEF\u5177\u4F53\u7684\u4EE3\u7801\u540E\u9762\u4F1A\u5728\u5408\u9002\u7684\u65F6\u673A\u7EC6\u8BB2\u54E6\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\uFF082\uFF09webpack/hot/dev-server.js"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u6587\u4EF6\u4E3B\u8981\u662F\u7528\u4E8E\u68C0\u67E5\u66F4\u65B0\u903B\u8F91\u7684\uFF0C\u8FD9\u91CC\u5927\u5BB6\u77E5\u9053\u5C31\u597D\uFF0C\u4EE3\u7801\u540E\u9762\u4F1A\u5728\u5408\u9002\u7684\u65F6\u673A\uFF08",(0,l.jsx)(n.strong,{children:"\u7B2C5\u6B65"}),"\uFF09\u7EC6\u8BB2\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"\u76D1\u542Cwebpack\u7F16\u8BD1\u7ED3\u675F"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4FEE\u6539\u597D\u5165\u53E3\u914D\u7F6E\u540E\uFF0C\u53C8\u8C03\u7528\u4E86",(0,l.jsx)(n.code,{children:"setupHooks"}),"\u65B9\u6CD5\u3002\u8FD9\u4E2A\u65B9\u6CD5\u662F\u7528\u6765\u6CE8\u518C\u76D1\u542C\u4E8B\u4EF6\u7684\uFF0C\u76D1\u542C\u6BCF\u6B21",(0,l.jsx)(n.code,{children:"webpack"}),"\u7F16\u8BD1\u5B8C\u6210\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// node_modules/webpack-dev-server/lib/Server.js\n// \u7ED1\u5B9A\u76D1\u542C\u4E8B\u4EF6\nsetupHooks() {\n const {done} = compiler.hooks;\n // \u76D1\u542Cwebpack\u7684done\u94A9\u5B50\uFF0Ctapable\u63D0\u4F9B\u7684\u76D1\u542C\u65B9\u6CD5\n done.tap('webpack-dev-server', (stats) => {\n this._sendStats(this.sockets, this.getStats(stats));\n this._stats = stats;\n });\n};\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5F53\u76D1\u542C\u5230\u4E00\u6B21",(0,l.jsx)(n.code,{children:"webpack"}),"\u7F16\u8BD1\u7ED3\u675F\uFF0C\u5C31\u4F1A\u8C03\u7528",(0,l.jsx)(n.code,{children:"_sendStats"}),"\u65B9\u6CD5\u901A\u8FC7",(0,l.jsx)(n.code,{children:"websocket"}),"\u7ED9\u6D4F\u89C8\u5668\u53D1\u9001\u901A\u77E5\uFF0C",(0,l.jsx)(n.code,{children:"ok"}),"\u548C",(0,l.jsx)(n.code,{children:"hash"}),"\u4E8B\u4EF6\uFF0C\u8FD9\u6837\u6D4F\u89C8\u5668\u5C31\u53EF\u4EE5\u62FF\u5230\u6700\u65B0\u7684",(0,l.jsx)(n.code,{children:"hash"}),"\u503C\u4E86\uFF0C\u505A\u68C0\u67E5\u66F4\u65B0\u903B\u8F91\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-reasonml",children:"// \u901A\u8FC7websoket\u7ED9\u5BA2\u6237\u7AEF\u53D1\u6D88\u606F\n_sendStats() {\n this.sockWrite(sockets, 'hash', stats.hash);\n this.sockWrite(sockets, 'ok');\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"webpack\u76D1\u542C\u6587\u4EF6\u53D8\u5316"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6BCF\u6B21\u4FEE\u6539\u4EE3\u7801\uFF0C\u5C31\u4F1A\u89E6\u53D1\u7F16\u8BD1\u3002\u8BF4\u660E\u6211\u4EEC\u8FD8\u9700\u8981\u76D1\u542C\u672C\u5730\u4EE3\u7801\u7684\u53D8\u5316\uFF0C\u4E3B\u8981\u662F\u901A\u8FC7",(0,l.jsx)(n.code,{children:"setupDevMiddleware"}),"\u65B9\u6CD5\u5B9E\u73B0\u7684\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u65B9\u6CD5\u4E3B\u8981\u6267\u884C\u4E86",(0,l.jsx)(n.code,{children:"webpack-dev-middleware"}),"\u5E93\u3002\u5F88\u591A\u4EBA\u5206\u4E0D\u6E05",(0,l.jsx)(n.code,{children:"webpack-dev-middleware"}),"\u548C",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u7684\u533A\u522B\u3002\u5176\u5B9E\u5C31\u662F\u56E0\u4E3A",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u53EA\u8D1F\u8D23\u542F\u52A8\u670D\u52A1\u548C\u524D\u7F6E\u51C6\u5907\u5DE5\u4F5C\uFF0C\u6240\u6709\u6587\u4EF6\u76F8\u5173\u7684\u64CD\u4F5C\u90FD\u62BD\u79BB\u5230",(0,l.jsx)(n.code,{children:"webpack-dev-middleware"}),"\u5E93\u4E86\uFF0C\u4E3B\u8981\u662F\u672C\u5730\u6587\u4EF6\u7684",(0,l.jsx)(n.strong,{children:"\u7F16\u8BD1"}),"\u548C",(0,l.jsx)(n.strong,{children:"\u8F93\u51FA"}),"\u4EE5\u53CA",(0,l.jsx)(n.strong,{children:"\u76D1\u542C"}),"\uFF0C\u65E0\u975E\u5C31\u662F\u804C\u8D23\u7684\u5212\u5206\u66F4\u6E05\u6670\u4E86\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u90A3\u6211\u4EEC\u6765\u770B\u4E0B",(0,l.jsx)(n.code,{children:"webpack-dev-middleware"}),"\u6E90\u7801\u91CC\u505A\u4E86\u4EC0\u4E48\u4E8B:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-awk",children:"// node_modules/webpack-dev-middleware/index.js\ncompiler.watch(options.watchOptions, (err) => {\n if (err) { /*\u9519\u8BEF\u5904\u7406*/ }\n});\n\n// \u901A\u8FC7\u201Cmemory-fs\u201D\u5E93\u5C06\u6253\u5305\u540E\u7684\u6587\u4EF6\u5199\u5165\u5185\u5B58\nsetFs(context, compiler); \n"})}),"\n",(0,l.jsxs)(n.p,{children:["\uFF081\uFF09\u8C03\u7528\u4E86",(0,l.jsx)(n.code,{children:"compiler.watch"}),"\u65B9\u6CD5\uFF0C\u5728\u7B2C 1 \u6B65\u4E2D\u4E5F\u63D0\u5230\u8FC7\uFF0C",(0,l.jsx)(n.code,{children:"compiler"}),"\u7684\u5F3A\u5927\u3002\u8FD9\u4E2A\u65B9\u6CD5\u4E3B\u8981\u5C31\u505A\u4E86 2 \u4EF6\u4E8B\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u9996\u5148\u5BF9\u672C\u5730\u6587\u4EF6\u4EE3\u7801\u8FDB\u884C\u7F16\u8BD1\u6253\u5305\uFF0C\u4E5F\u5C31\u662F",(0,l.jsx)(n.code,{children:"webpack"}),"\u7684\u4E00\u7CFB\u5217\u7F16\u8BD1\u6D41\u7A0B\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u5176\u6B21\u7F16\u8BD1\u7ED3\u675F\u540E\uFF0C\u5F00\u542F\u5BF9\u672C\u5730\u6587\u4EF6\u7684\u76D1\u542C\uFF0C\u5F53\u6587\u4EF6\u53D1\u751F\u53D8\u5316\uFF0C\u91CD\u65B0\u7F16\u8BD1\uFF0C\u7F16\u8BD1\u5B8C\u6210\u4E4B\u540E\u7EE7\u7EED\u76D1\u542C\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E3A\u4EC0\u4E48\u4EE3\u7801\u7684\u6539\u52A8\u4FDD\u5B58\u4F1A\u81EA\u52A8\u7F16\u8BD1\uFF0C\u91CD\u65B0\u6253\u5305\uFF1F\u8FD9\u4E00\u7CFB\u5217\u7684\u91CD\u65B0\u68C0\u6D4B\u7F16\u8BD1\u5C31\u5F52\u529F\u4E8E",(0,l.jsx)(n.code,{children:"compiler.watch"}),"\u8FD9\u4E2A\u65B9\u6CD5\u4E86\u3002\u76D1\u542C\u672C\u5730\u6587\u4EF6\u7684\u53D8\u5316\u4E3B\u8981\u662F\u901A\u8FC7",(0,l.jsx)(n.strong,{children:"\u6587\u4EF6\u7684\u751F\u6210\u65F6\u95F4"}),"\u662F\u5426\u6709\u53D8\u5316\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u7EC6\u8BB2\u4E86\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\uFF082\uFF09\u6267\u884C",(0,l.jsx)(n.code,{children:"setFs"}),"\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E3B\u8981\u76EE\u7684\u5C31\u662F\u5C06\u7F16\u8BD1\u540E\u7684\u6587\u4EF6\u6253\u5305\u5230\u5185\u5B58\u3002\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u5728\u5F00\u53D1\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4F60\u4F1A\u53D1\u73B0",(0,l.jsx)(n.code,{children:"dist"}),"\u76EE\u5F55\u6CA1\u6709\u6253\u5305\u540E\u7684\u4EE3\u7801\uFF0C\u56E0\u4E3A\u90FD\u5728\u5185\u5B58\u4E2D\u3002\u539F\u56E0\u5C31\u5728\u4E8E\u8BBF\u95EE\u5185\u5B58\u4E2D\u7684\u4EE3\u7801\u6BD4\u8BBF\u95EE\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u6587\u4EF6\u66F4\u5FEB\uFF0C\u800C\u4E14\u4E5F\u51CF\u5C11\u4E86\u4EE3\u7801\u5199\u5165\u6587\u4EF6\u7684\u5F00\u9500\uFF0C\u8FD9\u4E00\u5207\u90FD\u5F52\u529F\u4E8E",(0,l.jsx)(n.code,{children:"memory-fs"}),"\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u63A5\u6536\u5230\u70ED\u66F4\u65B0\u7684\u901A\u77E5"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u4EEC\u5DF2\u7ECF\u53EF\u4EE5\u76D1\u542C\u5230\u6587\u4EF6\u7684\u53D8\u5316\u4E86\uFF0C\u5F53\u6587\u4EF6\u53D1\u751F\u53D8\u5316\uFF0C\u5C31\u89E6\u53D1\u91CD\u65B0\u7F16\u8BD1\u3002\u540C\u65F6\u8FD8\u76D1\u542C\u4E86\u6BCF\u6B21\u7F16\u8BD1\u7ED3\u675F\u7684\u4E8B\u4EF6\u3002\u5F53\u76D1\u542C\u5230\u4E00\u6B21",(0,l.jsx)(n.code,{children:"webpack"}),"\u7F16\u8BD1\u7ED3\u675F\uFF0C",(0,l.jsx)(n.code,{children:"_sendStats"}),"\u65B9\u6CD5\u5C31\u901A\u8FC7",(0,l.jsx)(n.code,{children:"websoket"}),"\u7ED9\u6D4F\u89C8\u5668\u53D1\u9001\u901A\u77E5\uFF0C\u68C0\u67E5\u4E0B\u662F\u5426\u9700\u8981\u70ED\u66F4\u65B0\u3002\u4E0B\u9762\u91CD\u70B9\u8BB2\u7684\u5C31\u662F",(0,l.jsx)(n.code,{children:"_sendStats"}),"\u65B9\u6CD5\u4E2D\u7684",(0,l.jsx)(n.code,{children:"ok"}),"\u548C",(0,l.jsx)(n.code,{children:"hash"}),"\u4E8B\u4EF6\u90FD\u505A\u4E86\u4EC0\u4E48\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u90A3\u6D4F\u89C8\u5668\u662F\u5982\u4F55\u63A5\u6536\u5230",(0,l.jsx)(n.code,{children:"websocket"}),"\u7684\u6D88\u606F\u5462\uFF1F\u56DE\u5FC6\u4E0B\u7B2C 2 \u6B65\u9AA4\u589E\u52A0\u7684\u5165\u53E3\u6587\u4EF6\uFF0C\u4E5F\u5C31\u662F",(0,l.jsx)(n.code,{children:"websocket"}),"\u5BA2\u6237\u7AEF\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"'xxx/node_modules/webpack-dev-server/client/index.js?http://localhost:8080'\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u6587\u4EF6\u7684\u4EE3\u7801\u4F1A\u88AB\u6253\u5305\u5230",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u4E2D\uFF0C\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u4E2D\u3002\u6765\u770B\u4E0B\u8FD9\u4E2A\u6587\u4EF6\u7684\u6838\u5FC3\u4EE3\u7801\u5427\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// webpack-dev-server/client/index.js\nconst socket = require('./socket')\nconst onSocketMessage = {\n  hash: function hash (_hash) {\n    // \u66F4\u65B0currentHash\u503C\n    status.currentHash = _hash\n  },\n  ok: function ok () {\n    sendMessage('Ok')\n    // \u8FDB\u884C\u66F4\u65B0\u68C0\u67E5\u7B49\u64CD\u4F5C\n    reloadApp(options, status)\n  }\n}\n// \u8FDE\u63A5\u670D\u52A1\u5730\u5740socketUrl\uFF0C?http://localhost:8080\uFF0C\u672C\u5730\u670D\u52A1\u5730\u5740\nsocket(socketUrl, onSocketMessage)\n\nfunction reloadApp () {\n  if (hot) {\n    log.info('[WDS] App hot update...')\n\n    // hotEmitter\u5176\u5B9E\u5C31\u662FEventEmitter\u7684\u5B9E\u4F8B\n    const hotEmitter = require('webpack/hot/emitter')\n    hotEmitter.emit('webpackHotUpdate', currentHash)\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"socket"}),"\u65B9\u6CD5\u5EFA\u7ACB\u4E86",(0,l.jsx)(n.code,{children:"websocket"}),"\u548C\u670D\u52A1\u7AEF\u7684\u8FDE\u63A5\uFF0C\u5E76\u6CE8\u518C\u4E86 2 \u4E2A\u76D1\u542C\u4E8B\u4EF6\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hash"}),"\u4E8B\u4EF6\uFF0C\u66F4\u65B0\u6700\u65B0\u4E00\u6B21\u6253\u5305\u540E\u7684",(0,l.jsx)(n.code,{children:"hash"}),"\u503C\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ok"}),"\u4E8B\u4EF6\uFF0C\u8FDB\u884C\u70ED\u66F4\u65B0\u68C0\u67E5\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u70ED\u66F4\u65B0\u68C0\u67E5\u4E8B\u4EF6\u662F\u8C03\u7528",(0,l.jsx)(n.code,{children:"reloadApp"}),"\u65B9\u6CD5\u3002\u6BD4\u8F83\u5947\u602A\u7684\u662F\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u53C8\u5229\u7528",(0,l.jsx)(n.code,{children:"node.js"}),"\u7684",(0,l.jsx)(n.code,{children:"EventEmitter"}),"\uFF0C\u53D1\u51FA",(0,l.jsx)(n.code,{children:"webpackHotUpdate"}),"\u6D88\u606F\u3002\u8FD9\u662F\u4E3A\u4EC0\u4E48\uFF1F\u4E3A\u4EC0\u4E48\u4E0D\u76F4\u63A5\u8FDB\u884C\u68C0\u67E5\u66F4\u65B0\u5462\uFF1F"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E2A\u4EBA\u7406\u89E3\u5C31\u662F\u4E3A\u4E86\u66F4\u597D\u7684\u7EF4\u62A4\u4EE3\u7801\uFF0C\u4EE5\u53CA\u804C\u8D23\u5212\u5206\u7684\u66F4\u660E\u786E\u3002",(0,l.jsx)(n.code,{children:"websocket"}),"\u4EC5\u4EC5\u7528\u4E8E\u5BA2\u6237\u7AEF\uFF08\u6D4F\u89C8\u5668\uFF09\u548C\u670D\u52A1\u7AEF\u8FDB\u884C\u901A\u4FE1\u3002\u800C\u771F\u6B63\u505A\u4E8B\u60C5\u7684\u6D3B\u8FD8\u662F\u4EA4\u56DE\u7ED9\u4E86",(0,l.jsx)(n.code,{children:"webpack"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u90A3",(0,l.jsx)(n.code,{children:"webpack"}),"\u600E\u4E48\u505A\u7684\u5462\uFF1F\u518D\u6765\u56DE\u5FC6\u4E0B\u7B2C 2 \u6B65\u3002\u5165\u53E3\u6587\u4EF6\u8FD8\u6709\u4E00\u4E2A\u6587\u4EF6\u6CA1\u6709\u8BB2\u5230\uFF0C\u5C31\u662F\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"'xxx/node_modules/webpack/hot/dev-server.js'\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u6587\u4EF6\u7684\u4EE3\u7801\u540C\u6837\u4F1A\u88AB\u6253\u5305\u5230",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u4E2D\uFF0C\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u4E2D\u3002\u8FD9\u4E2A\u6587\u4EF6\u505A\u4E86\u4EC0\u4E48\u5C31\u663E\u800C\u6613\u89C1\u4E86\u5427\uFF01\u5148\u7784\u4E00\u773C\u4EE3\u7801\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// node_modules/webpack/hot/dev-server.js\nconst check = function check () {\n  module.hot.check(true)\n    .then(function (updatedModules) {\n      // \u5BB9\u9519\uFF0C\u76F4\u63A5\u5237\u65B0\u9875\u9762\n      if (!updatedModules) {\n        window.location.reload()\n        return\n      }\n\n      // \u70ED\u66F4\u65B0\u7ED3\u675F\uFF0C\u6253\u5370\u4FE1\u606F\n      if (upToDate()) {\n        log('info', '[HMR] App is up to date.')\n      }\n    })\n    .catch(function (err) {\n      window.location.reload()\n    })\n}\n\nconst hotEmitter = require('./emitter')\nhotEmitter.on('webpackHotUpdate', function (currentHash) {\n  lastHash = currentHash\n  check()\n})\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u91CC",(0,l.jsx)(n.code,{children:"webpack"}),"\u76D1\u542C\u5230\u4E86",(0,l.jsx)(n.code,{children:"webpackHotUpdate"}),"\u4E8B\u4EF6\uFF0C\u5E76\u83B7\u53D6\u6700\u65B0\u4E86\u6700\u65B0\u7684",(0,l.jsx)(n.code,{children:"hash"}),"\u503C\uFF0C\u7136\u540E\u7EC8\u4E8E\u8FDB\u884C\u68C0\u67E5\u66F4\u65B0\u4E86\u3002\u68C0\u67E5\u66F4\u65B0\u5462\u8C03\u7528\u7684\u662F",(0,l.jsx)(n.code,{children:"module.hot.check"}),"\u65B9\u6CD5\u3002\u90A3\u4E48\u95EE\u9898\u53C8\u6765\u4E86\uFF0C",(0,l.jsx)(n.code,{children:"module.hot.check"}),"\u53C8\u662F\u54EA\u91CC\u5192\u51FA\u6765\u4E86\u7684\uFF01\u7B54\u6848\u662F",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u641E\u5F97\u9B3C\u3002\u8FD9\u91CC\u7559\u4E2A\u7591\u95EE\uFF0C\u7EE7\u7EED\u5F80\u4E0B\u770B\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsx)(n.li,{children:"HotModuleReplacementPlugin"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u524D\u9762\u597D\u50CF\u4E00\u76F4\u662F",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u505A\u7684\u4E8B\uFF0C\u90A3",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u5728\u70ED\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u53C8\u505A\u4E86\u4EC0\u4E48\u4F1F\u5927\u7684\u4E8B\u4E1A\u5462\uFF1F"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u4F60\u53EF\u4EE5\u5BF9\u6BD4\u4E0B\uFF0C\u914D\u7F6E\u70ED\u66F4\u65B0\u548C\u4E0D\u914D\u7F6E\u65F6",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u7684\u533A\u522B\u3002\u5185\u5B58\u4E2D\u770B\u4E0D\u5230\uFF1F\u76F4\u63A5\u6267\u884C",(0,l.jsx)(n.code,{children:"webpack"}),"\u547D\u4EE4\u5C31\u53EF\u4EE5\u770B\u5230\u751F\u6210\u7684",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u6587\u4EF6\u5566\u3002\u4E0D\u8981\u7528",(0,l.jsx)(n.code,{children:"webpack-dev-server"}),"\u542F\u52A8\u5C31\u597D\u4E86\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\uFF081\uFF09\u6CA1\u6709\u914D\u7F6E\u7684\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.img,{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/1/16ec0c9e8fd12349~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:""}),"\n\uFF082\uFF09\u914D\u7F6E\u4E86",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u6216",(0,l.jsx)(n.code,{children:"--hot"}),"\u7684\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.img,{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/1/16ec0c90092fa0ac~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:""}),"\n\u54E6~ \u6211\u4EEC\u53D1\u73B0",(0,l.jsx)(n.code,{children:"moudle"}),"\u65B0\u589E\u4E86\u4E00\u4E2A\u5C5E\u6027\u4E3A",(0,l.jsx)(n.code,{children:"hot"}),"\uFF0C\u518D\u770B",(0,l.jsx)(n.code,{children:"hotCreateModule"}),"\u65B9\u6CD5\u3002 \u8FD9\u4E0D\u5C31\u627E\u5230",(0,l.jsx)(n.code,{children:"module.hot.check"}),"\u662F\u54EA\u91CC\u5192\u51FA\u6765\u7684\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/1/16ec0dc36018973f~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:""})}),"\n",(0,l.jsxs)(n.p,{children:["\u7ECF\u8FC7\u5BF9\u6BD4\u6253\u5305\u540E\u7684\u6587\u4EF6\uFF0C",(0,l.jsx)(n.code,{children:"__webpack_require__"}),"\u4E2D\u7684",(0,l.jsx)(n.code,{children:"moudle"}),"\u4EE5\u53CA\u4EE3\u7801\u884C\u6570\u7684\u4E0D\u540C\u3002\u6211\u4EEC\u90FD\u53EF\u4EE5\u53D1\u73B0",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u539F\u6765\u4E5F\u662F\u9ED8\u9ED8\u7684\u585E\u4E86\u5F88\u591A\u4EE3\u7801\u5230",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u4E2D\u5440\u3002\u8FD9\u548C\u7B2C 2 \u6B65\u9AA4\u5F88\u662F\u76F8\u4F3C\u54E6\uFF01\u4E3A\u4EC0\u4E48\uFF0C\u56E0\u4E3A\u68C0\u67E5\u66F4\u65B0\u662F\u5728\u6D4F\u89C8\u5668\u4E2D\u64CD\u4F5C\u5440\u3002\u8FD9\u4E9B\u4EE3\u7801\u5FC5\u987B\u5728\u8FD0\u884C\u65F6\u7684\u73AF\u5883\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4F60\u4E5F\u53EF\u4EE5\u76F4\u63A5\u770B\u6D4F\u89C8\u5668",(0,l.jsx)(n.code,{children:"Sources"}),"\u4E0B\u7684\u4EE3\u7801\uFF0C\u4F1A\u53D1\u73B0",(0,l.jsx)(n.code,{children:"webpack"}),"\u548C",(0,l.jsx)(n.code,{children:"plugin"}),"\u5077\u5077\u52A0\u7684\u4EE3\u7801\u90FD\u5728\u54E6\u3002\u5728\u8FD9\u91CC\u8C03\u8BD5\u4E5F\u5F88\u65B9\u4FBF\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.img,{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/1/16ec0d4634af2b3c~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:""}),"\n",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u5982\u4F55\u505A\u5230\u7684\uFF1F\u8FD9\u91CC\u6211\u5C31\u4E0D\u8BB2\u4E86\uFF0C\u56E0\u4E3A\u8FD9\u9700\u8981\u4F60\u5BF9",(0,l.jsx)(n.code,{children:"tapable"}),"\u4EE5\u53CA",(0,l.jsx)(n.code,{children:"plugin"}),"\u673A\u5236\u6709\u4E00\u5B9A\u4E86\u89E3\uFF0C\u53EF\u4EE5\u770B\u4E0B\u6211\u5199\u7684\u6587\u7AE0",(0,l.jsx)(n.a,{href:"https://juejin.cn/post/6844904004435050503",children:"Webpack\u63D2\u4EF6\u673A\u5236\u4E4BTapable-\u6E90\u7801\u89E3\u6790"}),"\u3002\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u9009\u62E9\u8DF3\u8FC7\uFF0C\u53EA\u5173\u5FC3\u70ED\u66F4\u65B0\u673A\u5236\u5373\u53EF\uFF0C\u6BD5\u7ADF\u4FE1\u606F\u91CF\u592A\u5927\u3002"]}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsx)(n.li,{children:"moudle.hot.check \u5F00\u59CB\u70ED\u66F4\u65B0"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7\u7B2C 6 \u6B65\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u77E5\u9053",(0,l.jsx)(n.code,{children:"moudle.hot.check"}),"\u65B9\u6CD5\u662F\u5982\u4F55\u6765\u7684\u5566\u3002\u90A3\u90FD\u505A\u4E86\u4EC0\u4E48\uFF1F\u4E4B\u540E\u7684\u6E90\u7801\u90FD\u662F",(0,l.jsx)(n.code,{children:"HotModuleReplacementPlugin"}),"\u585E\u5165\u5230",(0,l.jsx)(n.code,{children:"bundle.js"}),"\u4E2D\u7684\u54E6\uFF0C\u6211\u5C31\u4E0D\u5199\u6587\u4EF6\u8DEF\u5F84\u4E86\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5229\u7528\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684",(0,l.jsx)(n.code,{children:"hash"}),"\u503C\uFF0C\u8C03\u7528",(0,l.jsx)(n.code,{children:"hotDownloadManifest"}),"\u53D1\u9001",(0,l.jsx)(n.code,{children:"xxx/hash.hot-update.json"}),"\u7684",(0,l.jsx)(n.code,{children:"ajax"}),"\u8BF7\u6C42\uFF1B"]}),"\n",(0,l.jsxs)(n.li,{children:["\u8BF7\u6C42\u7ED3\u679C\u83B7\u53D6\u70ED\u66F4\u65B0\u6A21\u5757\uFF0C\u4EE5\u53CA\u4E0B\u6B21\u70ED\u66F4\u65B0\u7684",(0,l.jsx)(n.code,{children:"Hash"})," \u6807\u8BC6\uFF0C\u5E76\u8FDB\u5165\u70ED\u66F4\u65B0\u51C6\u5907\u9636\u6BB5\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-abnf",children:'hotAvailableFilesMap = update.c; // \u9700\u8981\u66F4\u65B0\u7684\u6587\u4EF6\nhotUpdateNewHash = update.h; // \u66F4\u65B0\u4E0B\u6B21\u70ED\u66F4\u65B0hash\u503C\nhotSetStatus("prepare"); // \u8FDB\u5165\u70ED\u66F4\u65B0\u51C6\u5907\u72B6\u6001\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u8C03\u7528",(0,l.jsx)(n.code,{children:"hotDownloadUpdateChunk"}),"\u53D1\u9001",(0,l.jsx)(n.code,{children:"xxx/hash.hot-update.js"})," \u8BF7\u6C42\uFF0C\u901A\u8FC7",(0,l.jsx)(n.code,{children:"JSONP"}),"\u65B9\u5F0F\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"function hotDownloadUpdateChunk (chunkId) {\n  const script = document.createElement('script')\n  script.charset = 'utf-8'\n  script.src = __webpack_require__.p + '' + chunkId + '.' + hotCurrentHash + '.hot-update.js'\n  if (null) script.crossOrigin = null\n  document.head.appendChild(script)\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u51FD\u6570\u4F53\u4E3A\u4EC0\u4E48\u8981\u5355\u72EC\u62FF\u51FA\u6765\uFF0C\u56E0\u4E3A\u8FD9\u91CC\u8981\u89E3\u91CA\u4E0B\u4E3A\u4EC0\u4E48\u4F7F\u7528",(0,l.jsx)(n.code,{children:"JSONP"}),"\u83B7\u53D6\u6700\u65B0\u4EE3\u7801\uFF1F\u4E3B\u8981\u662F\u56E0\u4E3A",(0,l.jsx)(n.code,{children:"JSONP"}),"\u83B7\u53D6\u7684\u4EE3\u7801\u53EF\u4EE5\u76F4\u63A5\u6267\u884C\u3002\u4E3A\u4EC0\u4E48\u8981\u76F4\u63A5\u6267\u884C\uFF1F\u6211\u4EEC\u6765\u56DE\u5FC6\u4E0B",(0,l.jsx)(n.code,{children:"/hash.hot-update.js"}),"\u7684\u4EE3\u7801\u683C\u5F0F\u662F\u600E\u4E48\u6837\u7684\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/1/16ec04316d6ac5e3~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp",alt:""})}),"\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u53D1\u73B0\uFF0C\u65B0\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\u662F\u5728\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"webpackHotUpdate"}),"\u51FD\u6570\u4F53\u5185\u90E8\u7684\u3002\u4E5F\u5C31\u662F\u8981\u7ACB\u5373\u6267\u884C",(0,l.jsx)(n.code,{children:"webpackHotUpdate"}),"\u8FD9\u4E2A\u65B9\u6CD5\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u518D\u770B\u4E0B",(0,l.jsx)(n.code,{children:"webpackHotUpdate"}),"\u8FD9\u4E2A\u65B9\u6CD5\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ada",children:'window["webpackHotUpdate"] = function (chunkId, moreModules) {\n hotAddUpdateChunk(chunkId, moreModules);\n} ;\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hotAddUpdateChunk"}),"\u65B9\u6CD5\u4F1A\u628A\u66F4\u65B0\u7684\u6A21\u5757",(0,l.jsx)(n.code,{children:"moreModules"}),"\u8D4B\u503C\u7ED9\u5168\u5C40\u5168\u91CF",(0,l.jsx)(n.code,{children:"hotUpdate"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hotUpdateDownloaded"}),"\u65B9\u6CD5\u4F1A\u8C03\u7528",(0,l.jsx)(n.code,{children:"hotApply"}),"\u8FDB\u884C\u4EE3\u7801\u7684\u66FF\u6362\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-reasonml",children:"function hotAddUpdateChunk(chunkId, moreModules) {\n // \u66F4\u65B0\u7684\u6A21\u5757moreModules\u8D4B\u503C\u7ED9\u5168\u5C40\u5168\u91CFhotUpdate\n for (var moduleId in moreModules) {\n if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n  hotUpdate[moduleId] = moreModules[moduleId];\n }\n }\n // \u8C03\u7528hotApply\u8FDB\u884C\u6A21\u5757\u7684\u66FF\u6362\n hotUpdateDownloaded();\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"8",children:["\n",(0,l.jsx)(n.li,{children:"hotApply \u70ED\u66F4\u65B0\u6A21\u5757\u66FF\u6362"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u70ED\u66F4\u65B0\u7684\u6838\u5FC3\u903B\u8F91\u5C31\u5728",(0,l.jsx)(n.code,{children:"hotApply"}),"\u65B9\u6CD5\u4E86\u3002 ",(0,l.jsx)(n.code,{children:"hotApply"}),"\u4EE3\u7801\u6709\u5C06\u8FD1 400 \u884C\uFF0C\u8FD8\u662F\u6311\u91CD\u70B9\u8BB2\u4E86\uFF0C\u770B\u54ED\uD83D\uDE2D"]}),"\n",(0,l.jsx)(n.p,{children:"\u2460\u5220\u9664\u8FC7\u671F\u7684\u6A21\u5757\uFF0C\u5C31\u662F\u9700\u8981\u66FF\u6362\u7684\u6A21\u5757"}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7",(0,l.jsx)(n.code,{children:"hotUpdate"}),"\u53EF\u4EE5\u627E\u5230\u65E7\u6A21\u5757"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"var queue = outdatedModules.slice();\nwhile (queue.length > 0) {\n moduleId = queue.pop();\n // \u4ECE\u7F13\u5B58\u4E2D\u5220\u9664\u8FC7\u671F\u7684\u6A21\u5757\n module = installedModules[moduleId];\n // \u5220\u9664\u8FC7\u671F\u7684\u4F9D\u8D56\n delete outdatedDependencies[moduleId];\n\n // \u5B58\u50A8\u4E86\u88AB\u5220\u6389\u7684\u6A21\u5757id\uFF0C\u4FBF\u4E8E\u66F4\u65B0\u4EE3\u7801\n outdatedSelfAcceptedModules.push({\n module: moduleId\n });\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2461\u5C06\u65B0\u7684\u6A21\u5757\u6DFB\u52A0\u5230 modules \u4E2D"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-inform7",children:"appliedUpdate[moduleId] = hotUpdate[moduleId];\nfor (moduleId in appliedUpdate) {\n if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n modules[moduleId] = appliedUpdate[moduleId];\n }\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2462\u901A\u8FC7__webpack_require__\u6267\u884C\u76F8\u5173\u6A21\u5757\u7684\u4EE3\u7801"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-abnf",children:"for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n var item = outdatedSelfAcceptedModules[i];\n moduleId = item.module;\n try {\n // \u6267\u884C\u6700\u65B0\u7684\u4EE3\u7801\n __webpack_require__(moduleId);\n } catch (err) {\n // ...\u5BB9\u9519\u5904\u7406\n }\n}\n\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"hotApply"}),"\u7684\u786E\u6BD4\u8F83\u590D\u6742\uFF0C\u77E5\u9053\u5927\u6982\u6D41\u7A0B\u5C31\u597D\u4E86\uFF0C\u8FD9\u4E00\u5C0F\u8282\uFF0C\u8981\u6C42\u4F60\u5BF9webpack\u6253\u5305\u540E\u7684\u6587\u4EF6\u5982\u4F55\u6267\u884C\u7684\u6709\u4E00\u4E9B\u4E86\u89E3\uFF0C\u5927\u5BB6\u53EF\u4EE5\u81EA\u53BB\u770B\u4E0B\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7ED3"}),"\n",(0,l.jsx)(n.p,{children:"\u8FD8\u662F\u4EE5\u9605\u8BFB\u6E90\u7801\u7684\u5F62\u5F0F\u753B\u7684\u56FE\uFF0C\u2460-\u2463\u7684\u5C0F\u6807\u8BB0\uFF0C\u662F\u6587\u4EF6\u53D1\u751F\u53D8\u5316\u7684\u4E00\u4E2A\u6D41\u7A0B\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://foruda.gitee.com/images/1681014860649655814/ea9d055f_7819612.png",alt:""})}),"\n",(0,l.jsx)(n.p,{children:"\u53C2\u8003\u6587\u6863"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/6844904008432222215",children:"\u8F7B\u677E\u7406\u89E3webpack\u70ED\u66F4\u65B0\u539F\u7406"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.ruanyifeng.com/blog/2017/05/websocket.html",children:"websocket\u57FA\u7840\u77E5\u8BC6\u4E86\u89E3"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/6844904004435050503",children:"tapable: Webpack\u63D2\u4EF6\u673A\u5236\u4E4BTapable-\u6E90\u7801\u89E3\u6790"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/Jocs/jocs.github.io/issues/15",children:"Webpack Hot Module Replacement \u7684\u539F\u7406\u89E3\u6790"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://juejin.cn/post/6844903953092591630",children:"\u770B\u5B8C\u8FD9\u7BC7\uFF0C\u9762\u8BD5\u518D\u4E5F\u4E0D\u6015\u88AB\u95EE Webpack \u70ED\u66F4\u65B0"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/30669007",children:"Webpack HMR \u539F\u7406\u89E3\u6790"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"p1-define-plugin",children:"define plugin"}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u53EF\u4EE5\u901A\u8FC7 DefinePlugin \u63D2\u4EF6\u7ED9 web \u5E94\u7528\u6CE8\u5165\u73AF\u5883\u53D8\u91CF\u3002\u8BE5\u63D2\u4EF6\u4F1A\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u66FF\u6362\u6389\u4EE3\u7801\u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\uFF0C\u4EE5\u5B9E\u73B0\u5728\u8FD0\u884C\u65F6\u66FF\u6362\u6210\u73AF\u5883\u53D8\u91CF\u7684\u503C\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 webpack \u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u9700\u8981\u5148\u5F15\u5165\u8BE5\u63D2\u4EF6\uFF0C\u7136\u540E\u5C06\u9700\u8981\u6CE8\u5165\u7684\u73AF\u5883\u53D8\u91CF\u901A\u8FC7\u8BE5\u63D2\u4EF6\u8FDB\u884C\u914D\u7F6E\u3002\u4F8B\u5982\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const webpack = require('webpack')\n\nmodule.exports = {\n  // \u5176\u4ED6\u914D\u7F6E\n  plugins: [\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: JSON.stringify('production')\n      },\n      API_URL: JSON.stringify('http://api.example.com')\n    })\n  ]\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0A\u8FF0\u914D\u7F6E\u4E2D\uFF0C\u5B9A\u4E49\u4E86\u4E24\u4E2A\u9700\u8981\u6CE8\u5165\u7684\u53D8\u91CF\uFF0C\u5206\u522B\u662F ",(0,l.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u548C ",(0,l.jsx)(n.code,{children:"API_URL"}),"\u3002\u5176\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u662F\u4E00\u4E2A\u5E38\u7528\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u7528\u6765\u6807\u8BC6\u5F53\u524D\u662F\u5F00\u53D1\u73AF\u5883\u8FD8\u662F\u751F\u4EA7\u73AF\u5883\uFF1B",(0,l.jsx)(n.code,{children:"API_URL"})," \u662F\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u7528\u6765\u5B58\u50A8 API \u7684\u5730\u5740\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u4EE3\u7801\u4E2D\u4F7F\u7528\u8FD9\u4E9B\u73AF\u5883\u53D8\u91CF\u65F6\uFF0C\u53EA\u9700\u8981\u76F4\u63A5\u5F15\u7528\u5373\u53EF\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"if (process.env.NODE_ENV === 'production') {\n  console.log('\u5F53\u524D\u4E3A\u751F\u4EA7\u73AF\u5883')\n}\n\nfetch(API_URL + '/users')\n  .then(response => response.json())\n  .then(data => console.log(data))\n"})}),"\n",(0,l.jsx)(n.p,{children:"Webpack \u5728\u7F16\u8BD1\u65F6\u4F1A\u5C06\u8FD9\u4E9B\u53D8\u91CF\u66FF\u6362\u6210\u5BF9\u5E94\u7684\u503C\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"if ('production' === 'production') {\n  console.log('\u5F53\u524D\u4E3A\u751F\u4EA7\u73AF\u5883')\n}\n\nfetch('http://api.example.com' + '/users')\n  .then(response => response.json())\n  .then(data => console.log(data))\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u65B9\u4FBF\u5730\u4F7F\u7528\u73AF\u5883\u53D8\u91CF\uFF0C\u540C\u65F6\u4FDD\u8BC1\u4E86\u5728\u4E0D\u540C\u73AF\u5883\u4E0B\u90FD\u80FD\u6B63\u786E\u5730\u4F7F\u7528\u76F8\u5E94\u7684\u53D8\u91CF\u503C\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"p0-es6-es5",children:"ES6 \u4EE3\u7801\u8F6C\u6210 ES5 \u4EE3\u7801\u7684\u5B9E\u73B0\u601D\u8DEF\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsx)(n.p,{children:"ES6 \u4EE3\u7801\u8F6C\u6210 ES5 \u4EE3\u7801\u7684\u5B9E\u73B0\u601D\u8DEF\u4E3B\u8981\u662F\u901A\u8FC7\u4F7F\u7528 Babel \u8FD9\u6837\u7684\u5DE5\u5177\u6765\u5B9E\u73B0\u3002Babel \u662F\u4E00\u4E2A\u5E7F\u6CDB\u4F7F\u7528\u7684 JavaScript \u7F16\u8BD1\u5668\uFF0C\u53EF\u4EE5\u5C06 ES6 \u4EE3\u7801\u8F6C\u6362\u6210\u5411\u540E\u517C\u5BB9\u7684 ES5 \u4EE3\u7801\uFF0C\u4ECE\u800C\u5728\u73B0\u6709\u7684\u6D4F\u89C8\u5668\u548C\u73AF\u5883\u4E2D\u8FD0\u884C\u3002\u5176\u4E3B\u8981\u5B9E\u73B0\u601D\u8DEF\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8BCD\u6CD5\u5206\u6790\uFF1ABabel \u9996\u5148\u4F1A\u5C06\u8F93\u5165\u7684\u4EE3\u7801\u8FDB\u884C\u8BCD\u6CD5\u5206\u6790\uFF0C\u5C06\u4EE3\u7801\u5206\u5272\u6210\u4E00\u4E2A\u4E2A\u8BCD\u6CD5\u5355\u5143\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8BED\u6CD5\u5206\u6790\uFF1A\u63A5\u4E0B\u6765 Babel \u4F1A\u5BF9\u5206\u5272\u540E\u7684\u8BCD\u6CD5\u5355\u5143\u8FDB\u884C\u8BED\u6CD5\u5206\u6790\uFF0C\u751F\u6210\u62BD\u8C61\u8BED\u6CD5\u6811(AST)\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8F6C\u6362\uFF1A\u901A\u8FC7\u5BF9 AST \u8FDB\u884C\u904D\u5386\u548C\u4FEE\u6539\uFF0CBabel \u5C06 ES6 \u4EE3\u7801\u8F6C\u6362\u6210 ES5 \u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4EE3\u7801\u751F\u6210\uFF1A\u6700\u540E\uFF0CBabel \u4F1A\u6839\u636E\u8F6C\u6362\u540E\u7684 AST \u751F\u6210\u53EF\u8FD0\u884C\u7684 ES5 \u4EE3\u7801\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u8F6C\u6362\u8FC7\u7A0B\u4E2D\uFF0CBabel \u4F1A\u6839\u636E\u9884\u5B9A\u4E49\u7684\u63D2\u4EF6\u548C\u9884\u8BBE\u5BF9\u4EE3\u7801\u8FDB\u884C\u8F6C\u6362\u3002\u63D2\u4EF6\u548C\u9884\u8BBE\u53EF\u4EE5\u5206\u522B\u5904\u7406\u4E00\u4E9B\u7279\u5B9A\u7684\u8BED\u6CD5\u548C\u529F\u80FD\uFF0C\u5982\u7BAD\u5934\u51FD\u6570\u3001\u7C7B\u548C\u6A21\u5757\u7B49\u3002\u540C\u65F6\uFF0CBabel \u8FD8\u652F\u6301\u5F00\u53D1\u8005\u81EA\u5B9A\u4E49\u63D2\u4EF6\u548C\u9884\u8BBE\u6765\u5904\u7406\u66F4\u52A0\u7279\u6B8A\u548C\u4E2A\u6027\u5316\u7684\u9700\u6C42\u3002"})]})}function a(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(j,{...e})}):j(e)}},715:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return d}});var c=s(1699);let l={},r=c.createContext(l);function d(e){let n=c.useContext(r);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);