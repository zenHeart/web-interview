# 概念

## 网络七层模型 {#p0-network-seven-layer-model}

计算机网络体系结构通常被划分为七层，即**OSI（Open System Interconnection，开放式系统互联）参考模型**和**TCP/IP（Transmission Control Protocol/Internet Protocol，传输控制协议/互联网协议）参考模型。**

SI参考模型包含七层，从底层到顶层依次是

物理层（Physical Layer）：负责将比特流传输到物理媒介上，如电缆、光纤等。

数据链路层（Data Link Layer）：负责将比特流组装成帧，进行差错校验、流量控制等操作。

网络层（Network Layer）：负责将数据包从源节点传输到目的节点，实现路由选择、拥塞控制等功能。

传输层（Transport Layer）：负责为应用层提供可靠的端到端通信，常用的协议有TCP和UDP。

会话层（Session Layer）：负责建立、管理、终止进程之间的会话连接，使不同应用程序之间能够进行数据交互。

表示层（Presentation Layer）：负责对数据进行编码、解码和加密、解密，保证数据在传输过程中的安全性和正确性。

应用层（Application Layer）：提供用户接口，实现用户与计算机网络之间的交互。

P/IP参考模型包含四层，从底层到顶层依次是

网络接口层（Network Interface Layer）：负责将数据帧封装成包，并进行物理层的传输。

网络层（Internet Layer）：负责将数据包从源节点传输到目的节点，实现路由选择、拥塞控制等功能。

传输层（Transport Layer）：负责为应用层提供可靠的端到端通信，常用的协议有TCP和UDP。

应用层（Application Layer）：提供用户接口，实现用户与计算机网络之间的交互。

**需要注意的是**: OSI参考模型和TCP/IP参考模型虽然不完全一致，但两者都包含了物理层、数据链路层、网络层和应用层。传输层和会话层、表示层在TCP/IP参考模型中被合并为了传输层。

 OSI的七层模型是什么

OSI（Open Systems Interconnection）是国际标准化组织（ISO）定义的一个用于网络协议设计的参考模型。它将网络通信的过程分为七个不同的层级，每个层级负责不同的功能和任务，以实现网络通信的可靠性和互操作性。下面是 OSI 模型的七个层级：

1. 物理层（Physical Layer）：处理物理传输介质上的原始比特流，负责传输电子信号、光信号或无线信号等。

2. 数据链路层（Data Link Layer）：负责将物理层提供的比特流划分为数据帧，并处理数据帧之间的传输错误和流控制。

3. 网络层（Network Layer）：负责对数据进行分组、寻址和路由选择，以便在不同的网络之间进行数据传输。

4. 传输层（Transport Layer）：提供端到端的可靠数据传输服务，包括分段、流量控制和错误恢复等。

5. 会话层（Session Layer）：管理不同应用程序之间的通信会话，负责建立、维护和终止会话。

6. 表示层（Presentation Layer）：负责数据的格式化、加密和压缩等操作，以确保应用程序之间的数据交换正确解释和理解。

7. 应用层（Application Layer）：提供网络服务和应用程序之间的接口，包括文件传输、电子邮件、远程登录和网页浏览等。

每个层级在 OSI 模型中具有不同的功能和责任，并且通过定义标准化的协议进行通信。通过将网络通信过程划分为不同的层级，OSI 模型帮助网络工程师和开发人员更好地理解和设计网络协议，实现网络的可扩展性和互操作性。

 有哪些对应的协议

以下是 OSI 模型的七个层级及其对应的一些常见协议的示例：

| 层级 | 协议示例 |
| --------------- | ------------------------------------------------------------ |
| 应用层（Application Layer） | HTTP，FTP，SMTP，POP3，DNS，Telnet，SSH |
| 表示层（Presentation Layer） | JPEG，GIF，PNG，ASCII，UTF-8，MPEG |
| 会话层（Session Layer） | NetBIOS，TLS，RPC，SSH |
| 传输层（Transport Layer） | TCP，UDP，SCTP |
| 网络层（Network Layer） | IP，ICMP，ARP，OSPF，BGP |
| 数据链路层（Data Link Layer） | Ethernet，PPP，MAC，Wi-Fi，HDLC，SLIP |
| 物理层（Physical Layer） | USB，Ethernet电缆，光纤，RJ45接口，无线电频谱 |

请注意，这只是每个层级的一些示例协议，实际使用中可能有更多的协议。此表旨在提供一些常见的协议示例，以便更好地理解每个层级所涉及的通信协议。

## 网络五层模型 {#p0-network-five-layer-model}

网络五层模型，也称为 OSI（Open System Interconnection，开放系统互连）参考模型，它将计算机网络通信的功能划分为五个层次，每个层次都有特定的功能和职责。以下是五层模型的具体介绍：

**一、物理层**

1. 功能：

* 物理层主要负责在物理介质上传输原始的比特流。
* 它定义了网络设备之间的物理连接标准，包括电缆类型、连接器、信号电平、传输速率等。

2. 举例：

* 以太网中的双绞线、光纤等传输介质，以及 RJ45 连接器等都属于物理层的范畴。
* 物理层规定了不同的信号编码方式，如曼彻斯特编码等，确保比特流在物理介质上的准确传输。

**二、数据链路层**

1. 功能：

* 数据链路层负责将物理层传输的比特流组织成数据帧。
* 进行数据帧的封装和解封装、差错检测和纠正、流量控制等操作。
* 通过 MAC（Media Access Control，介质访问控制）地址在局域网中唯一标识网络设备，实现设备之间的数据传输。

2. 举例：

* 以太网协议、Wi-Fi 协议等都工作在数据链路层。
* 数据链路层的设备如网桥、交换机等，根据 MAC 地址转发数据帧。

**三、网络层**

1. 功能：

* 网络层负责在不同的网络之间进行数据包的路由和转发。
* 通过 IP（Internet Protocol，网际协议）地址来标识网络中的设备，实现设备之间的逻辑通信。
* 进行网络拥塞控制、路由选择等操作，确保数据包能够准确地从源设备传输到目标设备。

2. 举例：

* IP 协议是网络层的核心协议。
* 路由器是工作在网络层的设备，根据 IP 地址和路由表选择最佳路径转发数据包。

**四、传输层**

1. 功能：

* 传输层负责端到端的数据传输控制。
* 提供可靠的数据传输服务，如 TCP（Transmission Control Protocol，传输控制协议），或者不可靠的传输服务，如 UDP（User Datagram Protocol，用户数据报协议）。
* 进行流量控制、差错控制、连接管理等操作，确保数据的正确、有序传输。

2. 举例：

* 当你在浏览器中访问一个网站时，浏览器和服务器之间的 HTTP（HyperText Transfer Protocol，超文本传输协议）通信通常是基于 TCP 协议在传输层进行的。
* 一些实时应用如视频会议、在线游戏等可能会使用 UDP 协议，因为它的传输速度快，实时性好，但不保证数据的可靠性。

**五、应用层**

1. 功能：

* 应用层是网络通信的最高层，直接为用户的应用程序提供服务。
* 定义了各种应用协议，如 HTTP、FTP（File Transfer Protocol，文件传输协议）、SMTP（Simple Mail Transfer Protocol，简单邮件传输协议）等。
* 应用层的协议规定了应用程序之间通信的方式和数据格式。

2. 举例：

* 当你在浏览器中输入网址访问网页时，浏览器使用 HTTP 协议与服务器进行通信，获取网页内容。
* 当你发送电子邮件时，邮件客户端使用 SMTP 协议将邮件发送到邮件服务器。

网络五层模型的各层之间相互独立又相互协作，每一层都为上一层提供特定的服务，同时又依赖于下一层的功能。这种分层结构使得网络通信的设计和实现更加清晰、易于管理和扩展。

当提到五层协议时，通常是指TCP/IP模型的五层协议，即物理层、数据链路层、网络层、传输层和应用层。下面是对每一层的详细解释以及一些应用场景的例子：

1. 物理层（Physical Layer）：物理层是网络通信的最底层，它负责传输比特流，将数据从一个节点通过物理介质传输到另一个节点。它包括了电缆、光纤、无线信号等物理媒介以及相关的传输设备和接口。应用场景包括有线以太网、Wi-Fi、蓝牙、光纤通信等。

2. 数据链路层（Data Link Layer）：数据链路层负责将比特流划分为数据帧，并提供可靠的数据传输。它通过物理地址（MAC地址）识别网络设备，进行数据传输的控制和错误检测。应用场景包括以太网、局域网（LAN）、无线局域网（WLAN）、以及网桥、交换机等设备。

3. 网络层（Network Layer）：网络层负责将数据包从源主机传输到目标主机，并提供寻址、路由选择和分组转发等功能。它使用IP（Internet Protocol）协议来实现这些功能，同时支持多种路由算法和IP寻址方案。常见的应用场景包括互联网、路由器、IP地址分配等。

4. 传输层（Transport Layer）：传输层负责在网络中的两个主机之间提供端到端的可靠或不可靠的数据传输。主要有TCP（Transmission Control Protocol）和UDP（User Datagram Protocol）两个协议。TCP提供可靠的数据传输，适用于需要保证数据完整性和顺序的应用场景，如网页浏览、文件传输等。UDP则提供不可靠但更快速的数据传输，适用于实时性要求较高的应用场景，如音视频传输、在线游戏等。

5. 应用层（Application Layer）：应用层负责特定应用程序之间的通信服务。它定义了数据的格式和表示方式，包括HTTP（网页浏览）、FTP（文件传输）、SMTP（电子邮件）、DNS（域名系统）等协议。应用层协议提供了用户与网络之间的接口，使得应用程序能够通过网络进行通信。

这些是TCP/IP五层协议的详细解释和一些常见的应用场景示例。通过分层的设计，这些协议能够协同工作，实现可靠、高效的网络通信。

## 常见网络协议 {#p2-protcols}

| 协议 | 层次 | 说明 |
| ------------- | ------- | ----------------------------------------------------- |
| HTTP/HTTPS | 应用层 | 用于在 Web 浏览器和 Web 服务器之间传输超文本的协议。 |
| TCP | 传输层 | 面向连接、可靠的传输层协议，以字节流的形式传输数据。 |
| UDP | 传输层 | 无连接、不可靠的传输层协议，以数据包的形式传输数据。 |
| FTP | 应用层 | 用于在客户端和服务器之间传输文件的协议。 |
| SFTP | 应用层 | 在安全通道上传输文件的协议，基于 SSH 协议。 |
| SMTP | 应用层 | 用于在邮件服务器之间传递电子邮件的协议。 |
| POP3 | 应用层 | 用于从邮件服务器接收电子邮件的协议。 |
| IMAP | 应用层 | 用于在邮件客户端和邮件服务器之间管理和检索电子邮件的协议。|
| SSH | 应用层 | 用于在网络上安全地进行远程登录和执行命令的协议。 |
| WebSocket | 应用层 | 在单个 TCP 连接上进行全双工通信的协议，用于实时双向通信。 |
| gRPC | 应用层 | 基于 HTTP/2 的远程过程调用（RPC）框架，支持多语言、双向流等特性。 |
