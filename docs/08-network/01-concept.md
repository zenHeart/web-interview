# 概念

## 网络七层模型 {#p0-network-seven-layer-model}

计算机网络体系结构通常被划分为七层，即**OSI（Open System Interconnection，开放式系统互联）参考模型**和**TCP/IP（Transmission Control Protocol/Internet Protocol，传输控制协议/互联网协议）参考模型。**

SI参考模型包含七层，从底层到顶层依次是

物理层（Physical Layer）：负责将比特流传输到物理媒介上，如电缆、光纤等。

数据链路层（Data Link Layer）：负责将比特流组装成帧，进行差错校验、流量控制等操作。

网络层（Network Layer）：负责将数据包从源节点传输到目的节点，实现路由选择、拥塞控制等功能。

传输层（Transport Layer）：负责为应用层提供可靠的端到端通信，常用的协议有TCP和UDP。

会话层（Session Layer）：负责建立、管理、终止进程之间的会话连接，使不同应用程序之间能够进行数据交互。

表示层（Presentation Layer）：负责对数据进行编码、解码和加密、解密，保证数据在传输过程中的安全性和正确性。

应用层（Application Layer）：提供用户接口，实现用户与计算机网络之间的交互。

P/IP参考模型包含四层，从底层到顶层依次是

网络接口层（Network Interface Layer）：负责将数据帧封装成包，并进行物理层的传输。

网络层（Internet Layer）：负责将数据包从源节点传输到目的节点，实现路由选择、拥塞控制等功能。

传输层（Transport Layer）：负责为应用层提供可靠的端到端通信，常用的协议有TCP和UDP。

应用层（Application Layer）：提供用户接口，实现用户与计算机网络之间的交互。

**需要注意的是**: OSI参考模型和TCP/IP参考模型虽然不完全一致，但两者都包含了物理层、数据链路层、网络层和应用层。传输层和会话层、表示层在TCP/IP参考模型中被合并为了传输层。

## 网络五层模型 {#p0-network-five-layer-model}

网络五层模型，也称为 OSI（Open System Interconnection，开放系统互连）参考模型，它将计算机网络通信的功能划分为五个层次，每个层次都有特定的功能和职责。以下是五层模型的具体介绍：

**一、物理层**

1. 功能：

* 物理层主要负责在物理介质上传输原始的比特流。
* 它定义了网络设备之间的物理连接标准，包括电缆类型、连接器、信号电平、传输速率等。

2. 举例：

* 以太网中的双绞线、光纤等传输介质，以及 RJ45 连接器等都属于物理层的范畴。
* 物理层规定了不同的信号编码方式，如曼彻斯特编码等，确保比特流在物理介质上的准确传输。

**二、数据链路层**

1. 功能：

* 数据链路层负责将物理层传输的比特流组织成数据帧。
* 进行数据帧的封装和解封装、差错检测和纠正、流量控制等操作。
* 通过 MAC（Media Access Control，介质访问控制）地址在局域网中唯一标识网络设备，实现设备之间的数据传输。

2. 举例：

* 以太网协议、Wi-Fi 协议等都工作在数据链路层。
* 数据链路层的设备如网桥、交换机等，根据 MAC 地址转发数据帧。

**三、网络层**

1. 功能：

* 网络层负责在不同的网络之间进行数据包的路由和转发。
* 通过 IP（Internet Protocol，网际协议）地址来标识网络中的设备，实现设备之间的逻辑通信。
* 进行网络拥塞控制、路由选择等操作，确保数据包能够准确地从源设备传输到目标设备。

2. 举例：

* IP 协议是网络层的核心协议。
* 路由器是工作在网络层的设备，根据 IP 地址和路由表选择最佳路径转发数据包。

**四、传输层**

1. 功能：

* 传输层负责端到端的数据传输控制。
* 提供可靠的数据传输服务，如 TCP（Transmission Control Protocol，传输控制协议），或者不可靠的传输服务，如 UDP（User Datagram Protocol，用户数据报协议）。
* 进行流量控制、差错控制、连接管理等操作，确保数据的正确、有序传输。

2. 举例：

* 当你在浏览器中访问一个网站时，浏览器和服务器之间的 HTTP（HyperText Transfer Protocol，超文本传输协议）通信通常是基于 TCP 协议在传输层进行的。
* 一些实时应用如视频会议、在线游戏等可能会使用 UDP 协议，因为它的传输速度快，实时性好，但不保证数据的可靠性。

**五、应用层**

1. 功能：

* 应用层是网络通信的最高层，直接为用户的应用程序提供服务。
* 定义了各种应用协议，如 HTTP、FTP（File Transfer Protocol，文件传输协议）、SMTP（Simple Mail Transfer Protocol，简单邮件传输协议）等。
* 应用层的协议规定了应用程序之间通信的方式和数据格式。

2. 举例：

* 当你在浏览器中输入网址访问网页时，浏览器使用 HTTP 协议与服务器进行通信，获取网页内容。
* 当你发送电子邮件时，邮件客户端使用 SMTP 协议将邮件发送到邮件服务器。

网络五层模型的各层之间相互独立又相互协作，每一层都为上一层提供特定的服务，同时又依赖于下一层的功能。这种分层结构使得网络通信的设计和实现更加清晰、易于管理和扩展。

## 常见网络协议 {#p2-protcols}

| 协议 | 层次 | 说明 |
| ------------- | ------- | ----------------------------------------------------- |
| HTTP/HTTPS | 应用层 | 用于在 Web 浏览器和 Web 服务器之间传输超文本的协议。 |
| TCP | 传输层 | 面向连接、可靠的传输层协议，以字节流的形式传输数据。 |
| UDP | 传输层 | 无连接、不可靠的传输层协议，以数据包的形式传输数据。 |
| FTP | 应用层 | 用于在客户端和服务器之间传输文件的协议。 |
| SFTP | 应用层 | 在安全通道上传输文件的协议，基于 SSH 协议。 |
| SMTP | 应用层 | 用于在邮件服务器之间传递电子邮件的协议。 |
| POP3 | 应用层 | 用于从邮件服务器接收电子邮件的协议。 |
| IMAP | 应用层 | 用于在邮件客户端和邮件服务器之间管理和检索电子邮件的协议。|
| SSH | 应用层 | 用于在网络上安全地进行远程登录和执行命令的协议。 |
| WebSocket | 应用层 | 在单个 TCP 连接上进行全双工通信的协议，用于实时双向通信。 |
| gRPC | 应用层 | 基于 HTTP/2 的远程过程调用（RPC）框架，支持多语言、双向流等特性。 |
