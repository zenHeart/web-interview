<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		.slider {
			border: 1px solid #000;
			font-size: 0;

		}

		.slider img {
			width: 100%;
		}
	</style>
</head>

<body>
	<div class="container">
		<div class="slider" data-index="0">
			<a href="http://baidu.com"><img
					src="https://fuss10.elemecdn.com/2/6b/b352d9b1c584836cde8798360f652png.png?imageMogr/format/webp/thumbnail/568x/"
					alt=""></a>
		</div>
		<div class="slider" data-index="1">
			<a href="http://biying.com"><img
					src="https://fuss10.elemecdn.com/0/ff/edc9f276114b06237b7b50c21e505jpeg.jpeg?imageMogr/format/webp/thumbnail/568x/"
					alt=""></a>
		</div>
		<div class="slider" data-index="2">
			<a href="http://biying.com"><img
					src="https://fuss10.elemecdn.com/9/2c/0fbbbbb1be55e598689036b195006png.png?imageMogr/format/webp/thumbnail/568x/"
					alt=""></a>
		</div>
	</div>

	<script>


		function init() {
			let interval = 2000;
			let currentIndex = 0;
			let sliders = document.querySelectorAll('.slider');
			let { length } = sliders;
			function update() {
				sliders.forEach(ele => {
					let { index } = ele.dataset;
					ele.hidden = (index * 1 !== currentIndex);
				})
			}
			function loop() {
				setIndex();
				setTimeout(loop, interval)
			}
			function setIndex(val) {
				if (!arguments.length) {
					currentIndex = (++currentIndex % length);
				}
				else if (val === -1) {
					currentIndex = (--currentIndex + length) % length;
				} else {
					currentIndex = val % length;
				}
				update();
			}

			return {
				loop,
				setIndex,
			}
		}

		res = init();
		res.loop()
		let container = document.getElementsByClassName('container')
		document.onkeypress = function (e) {
			let { key } = e;
			console.log(key);
			switch (key) {
				case 'a': res.setIndex(-1); break;
				case 'd': res.setIndex(); break;
			}
		}
	</script>

</body>


</html>